<!DOCTYPE html><html lang="en" > <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Docker：入门 | 黄玉才的博客</title><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Docker：入门" /><meta name="author" content="Kol Huang" /><meta property="og:locale" content="en_US" /><meta name="description" content="Docker安装" /><meta property="og:description" content="Docker安装" /><link rel="canonical" href="www.yucaihuang.com/HYCBlog/posts/web-docker_2/" /><meta property="og:url" content="www.yucaihuang.com/HYCBlog/posts/web-docker_2/" /><meta property="og:site_name" content="黄玉才的博客" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-09-07T19:38:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Docker：入门" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Kol Huang" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"mainEntityOfPage":{"@type":"WebPage","@id":"www.yucaihuang.com/HYCBlog/posts/web-docker_2/"},"url":"www.yucaihuang.com/HYCBlog/posts/web-docker_2/","author":{"@type":"Person","name":"Kol Huang"},"description":"Docker安装","dateModified":"2020-09-07T19:38:00+08:00","datePublished":"2020-09-07T19:38:00+08:00","headline":"Docker：入门","@type":"BlogPosting","@context":"https://schema.org"}</script> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --><link rel="shortcut icon" href="/HYCBlog/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/HYCBlog/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/HYCBlog/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/HYCBlog/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/HYCBlog/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/HYCBlog/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/HYCBlog/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/HYCBlog/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/HYCBlog/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/HYCBlog/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/HYCBlog/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/HYCBlog/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/HYCBlog/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/HYCBlog/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/HYCBlog/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/HYCBlog/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/HYCBlog/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/HYCBlog/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/HYCBlog/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/HYCBlog/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"> <!-- CSS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --><link rel="preload" as="style" href="/HYCBlog/assets/css/post.css"><link rel="stylesheet" href="/HYCBlog/assets/css/post.css"><link rel="preload" as="style" href="/HYCBlog/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/HYCBlog/assets/css/lib/bootstrap-toc.min.css" /><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" async></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-176388509-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-176388509-1'); </script> <!-- JS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --> <script src="/HYCBlog/assets/js/post.min.js" async></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script> <script src="/HYCBlog/app.js" defer></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="http://www.yucaihuang.com" alt="avatar"> <img src="/HYCBlog/assets/img/daliy/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/HYCBlog/">黄玉才的博客</a></div><div class="site-subtitle font-italic">把开源的变成自己的，把自己的变成祖传的!</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/HYCBlog/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/HYCBlog/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/HYCBlog/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/HYCBlog/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/HYCBlog/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></li></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <!-- Switch the mode between dark and light. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <i class="mode-toggle fas fa-sun" dark-mode-invisible></i> <i class="mode-toggle fas fa-moon" light-mode-invisible></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.mode != null) { if (this.mode == ModeToggle.DARK_MODE) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.mode != null) { if (self.mode == ModeToggle.DARK_MODE) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightkMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightkMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/KolinHuang" target="_blank"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" target="_blank"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:window.open('mailto:' + ['yc_huang97','163.com'].join('@'))" > <i class="fas fa-envelope"></i> </a></div></div><!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/HYCBlog/"> Posts </a> </span> <span>Docker：入门</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"> <!-- Refactor the HTML structure. --> <!-- Suroundding the markdown table with '<div class="table-wrapper">. and '</div>' --> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Docker：入门</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Sep 7, 2020, 7:38 PM +0800" > Sep 7 <i class="unloaded">2020-09-07T19:38:00+08:00</i> </span> by <span class="author"> Kol Huang</div></div><div class="post-content"><h3 id="docker安装">Docker安装</h3><blockquote><p>环境准备</p></blockquote><p>CentOS 7</p><blockquote><p>环境查看</p></blockquote><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c">#系统内核是 3.10以上的</span>
<span class="c"># uname -r</span>
3.10.0-514.26.2.el7.x86_64
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="c">#系统版本</span>
<span class="c"># cat /etc/os-release </span>
<span class="nv">NAME</span><span class="o">=</span><span class="s2">"CentOS Linux"</span>
<span class="nv">VERSION</span><span class="o">=</span><span class="s2">"7 (Core)"</span>
<span class="nv">ID</span><span class="o">=</span><span class="s2">"centos"</span>
<span class="nv">ID_LIKE</span><span class="o">=</span><span class="s2">"rhel fedora"</span>
<span class="nv">VERSION_ID</span><span class="o">=</span><span class="s2">"7"</span>
<span class="nv">PRETTY_NAME</span><span class="o">=</span><span class="s2">"CentOS Linux 7 (Core)"</span>
<span class="nv">ANSI_COLOR</span><span class="o">=</span><span class="s2">"0;31"</span>
<span class="nv">CPE_NAME</span><span class="o">=</span><span class="s2">"cpe:/o:centos:centos:7"</span>
<span class="nv">HOME_URL</span><span class="o">=</span><span class="s2">"https://www.centos.org/"</span>
<span class="nv">BUG_REPORT_URL</span><span class="o">=</span><span class="s2">"https://bugs.centos.org/"</span>

<span class="nv">CENTOS_MANTISBT_PROJECT</span><span class="o">=</span><span class="s2">"CentOS-7"</span>
<span class="nv">CENTOS_MANTISBT_PROJECT_VERSION</span><span class="o">=</span><span class="s2">"7"</span>
<span class="nv">REDHAT_SUPPORT_PRODUCT</span><span class="o">=</span><span class="s2">"centos"</span>
<span class="nv">REDHAT_SUPPORT_PRODUCT_VERSION</span><span class="o">=</span><span class="s2">"7"</span>
</pre></table></code></div></div><blockquote><p>安装</p></blockquote><p>帮助文档：</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
</pre><td class="rouge-code"><pre><span class="c">#1、卸载旧版本</span>
<span class="c">#yum remove docker \</span>
                  docker-client <span class="se">\</span>
                  docker-client-latest <span class="se">\</span>
                  docker-common <span class="se">\</span>
                  docker-latest <span class="se">\</span>
                  docker-latest-logrotate <span class="se">\</span>
                  docker-logrotate <span class="se">\</span>
                  docker-engine
<span class="c">#2、需要的安装包</span>
<span class="c">#yum install -y yum-utils</span>

<span class="c">#3、设置镜像的仓库</span>
yum-config-manager <span class="se">\</span>
    <span class="nt">--add-repo</span> <span class="se">\</span>
    https://download.docker.com/linux/centos/docker-ce.repo#默认是国外的，不要用这个！
<span class="c">#yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo #推荐使用</span>

<span class="c">#更新yum软件包索引</span>
<span class="c">#yum makecache fast</span>


<span class="c">#4、安装Docker相关的包	docker-ce 社区版 docker-ee	企业版</span>
<span class="c">#yum install docker-ce docker-ce-cli containerd.io</span>

<span class="c">#5、启动docker</span>
<span class="c">#systemctl start docker</span>

<span class="c">#使用docker version查看是否安装成功</span>
<span class="c">#docker version</span>

Client: Docker Engine - Community
 Version:           19.03.12
 API version:       1.40
 Go version:        go1.13.10
 Git commit:        48a66213fe
 Built:             Mon Jun 22 15:46:54 2020
 OS/Arch:           linux/amd64
 Experimental:      <span class="nb">false

</span>Server: Docker Engine - Community
 Engine:
  Version:          19.03.12
  API version:      1.40 <span class="o">(</span>minimum version 1.12<span class="o">)</span>
  Go version:       go1.13.10
  Git commit:       48a66213fe
  Built:            Mon Jun 22 15:45:28 2020
  OS/Arch:          linux/amd64
  Experimental:     <span class="nb">false
 </span>containerd:
  Version:          1.2.13
  GitCommit:        7ad184331fa3e55e52b890ea95e65ba581ae3429
 runc:
  Version:          1.0.0-rc10
  GitCommit:        dc9208a3303feef5b3839f4323d9beb36df0a9dd
 docker-init:
  Version:          0.18.0
  GitCommit:        fec3683


<span class="c">#7、测试hello world</span>
<span class="c">#docker run hello-world</span>

Unable to find image <span class="s1">'hello-world:latest'</span> locally
latest: Pulling from library/hello-world
0e03bdcc26d7: Pull <span class="nb">complete 
</span>Digest: sha256:7f0a9f93b4aa3022c3a4c147a449bf11e0941a1fd0bf4a8e6c9408b2600777c5
Status: Downloaded newer image <span class="k">for </span>hello-world:latest

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the <span class="s2">"hello-world"</span> image from the Docker Hub.
    <span class="o">(</span>amd64<span class="o">)</span>
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 <span class="nv">$ </span>docker run <span class="nt">-it</span> ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/

<span class="c">#8、查看一下下载的这个hello-world镜像</span>
<span class="c">#docker images</span>
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
hello-world         latest              bf756fb1ae65        8 months ago        13.3kB

</pre></table></code></div></div><blockquote><p>卸载</p></blockquote><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>yum remove docker-ce docker-ce-cli containerd.io	<span class="c">#卸载依赖</span>
<span class="nb">rm</span> <span class="nt">-rf</span> /var/lib/docker	<span class="c">#删除资源</span>

<span class="c">#/var/lib/docker	docker的默认资源路径</span>
</pre></table></code></div></div><h4 id="阿里云镜像加速">阿里云镜像加速</h4><p>1、登陆阿里云，找到容器镜像服务</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/Users/huangyucai/Pictures/Snip20200904_7.png" alt="Snip20200904_7" /></p><p>2、找到镜像加速器</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/Users/huangyucai/Library/Application Support/typora-user-images/image-20200904104435362.png" alt="image-20200904104435362" /></p><p>3、配置使用</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="nb">sudo mkdir</span> <span class="nt">-p</span> /etc/docker
<span class="nb">sudo tee</span> /etc/docker/daemon.json <span class="o">&lt;&lt;-</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
  "registry-mirrors": ["https://swt8v02e.mirror.aliyuncs.com"]
}
</span><span class="no">EOF
</span><span class="nb">sudo </span>systemctl daemon-reload
<span class="nb">sudo </span>systemctl restart docker
</pre></table></code></div></div><h4 id="回顾hello-world流程">回顾hello-world流程</h4><pre><code class="language-mermaid">graph LR
	A(开始运行)--&gt;B[Docker会在本机寻找镜像]
	B--&gt;C{判断本机是否存在此镜像}
	C--&gt;|YES| D[使用这个镜像运行]
	C--&gt;|NO| E[去DockerHub上下载]
	E--&gt;F{DockerHub是否可以找到此镜像}
	F--&gt;|YES| G[下载这个镜像到本地]
	F--&gt;|NO| H[返回错误,找不到镜像]
	G--&gt;D
	D--&gt;I(结束)
	
</code></pre><h4 id="底层原理">底层原理</h4><blockquote><p>Docker是怎么工作的？</p></blockquote><p>Docker是一个C/S结构的系统，Docker的守护进程运行在宿主机上。通过Socket从客户端访问。</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/Users/huangyucai/Library/Application Support/typora-user-images/image-20200904111213586.png" alt="image-20200904111213586" /></p><blockquote><p>Docker为什么比虚拟机更快？</p></blockquote><p>Docker有着比虚拟机更少的抽象层。即，Docker利用的是宿主机的内核，而虚拟机需要Guest OS。所以新建一个容器时，Docker不需要像虚拟机一样重新加载一个操作系统内核，避免很多引导的过程。加载是秒级的！</p><h3 id="docker常用命令">Docker常用命令</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/Users/huangyucai/Documents/figures/docker/commands.png" alt="commands" /></p><h4 id="帮助命令">帮助命令</h4><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>docker version	<span class="c">#docker的版本信息</span>
docker info			<span class="c">#docker的系统信息，包括镜像和容器的数量</span>
docker 命令 <span class="nt">--help</span>
</pre></table></code></div></div><p>命令的文档地址：https://docs.docker.com/reference/</p><h4 id="镜像命令">镜像命令</h4><p><strong>docker images</strong> 查看本地主机上所有的镜像</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="c"># docker images</span>
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
hello-world         latest              bf756fb1ae65        8 months ago        13.3kB

<span class="c">#解释</span>
REPOSITORY	镜像的仓库源
TAG					镜像的标签
IMAGE ID		镜像的ID
CREATE			镜像的创建时间
SIZE				镜像的大小

<span class="c">#可选项</span>
  <span class="nt">-a</span>, <span class="nt">--all</span>            	<span class="c">#列出所有镜像</span>
  <span class="nt">-q</span>, <span class="nt">--quiet</span>           <span class="c">#只显示镜像的ID</span>
</pre></table></code></div></div><p><strong>docker search</strong> 搜索镜像</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="c"># docker search mysql</span>
NAME                              DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED
mysql                             MySQL is a widely used, open-source relation…   9925                <span class="o">[</span>OK]                
mariadb                           MariaDB is a community-developed fork of MyS…   3631                <span class="o">[</span>OK]                

<span class="c">#可选项</span>
  <span class="nt">-f</span>, <span class="nt">--filter</span> filter   Filter output based on conditions provided
  例如 <span class="nt">--filter</span><span class="o">=</span><span class="nv">STARS</span><span class="o">=</span>3000	搜索出来的镜像就是STARS大于3000的
</pre></table></code></div></div><p><strong>Docker pull</strong> 下载镜像</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre><td class="rouge-code"><pre><span class="c"># docker pull mysql		#docker pull 镜像名[:tag]</span>
Using default tag: latest	<span class="c">#如果不写tag，默认就是latest版本</span>
latest: Pulling from library/mysql
bf5952930446: Pull <span class="nb">complete</span> 	<span class="c">#分层下载，docker image的核心	联合文件系统</span>
8254623a9871: Pull <span class="nb">complete 
</span>938e3e06dac4: Pull <span class="nb">complete 
</span>ea28ebf28884: Pull <span class="nb">complete 
</span>f3cef38785c2: Pull <span class="nb">complete 
</span>894f9792565a: Pull <span class="nb">complete 
</span>1d8a57523420: Pull <span class="nb">complete 
</span>6c676912929f: Pull <span class="nb">complete 
</span>ff39fdb566b4: Pull <span class="nb">complete 
</span>fff872988aba: Pull <span class="nb">complete 
</span>4d34e365ae68: Pull <span class="nb">complete 
</span>7886ee20621e: Pull <span class="nb">complete 
</span>Digest: sha256:c358e72e100ab493a0304bda35e6f239db2ec8c9bb836d8a427ac34307d074ed	<span class="c">#签名</span>
Status: Downloaded newer image <span class="k">for </span>mysql:latest	
docker.io/library/mysql:latest	<span class="c">#真实地址</span>

<span class="c">#命令docker pull mysql 与 docker.io/library/mysql:latest 等价</span>

<span class="c">#指定版本下载</span>
<span class="c"># docker pull mysql:5.7</span>
5.7: Pulling from library/mysql
bf5952930446: Already exists 
8254623a9871: Already exists 
938e3e06dac4: Already exists 
ea28ebf28884: Already exists 
f3cef38785c2: Already exists 
894f9792565a: Already exists 
1d8a57523420: Already exists 
5f09bf1d31c1: Pull <span class="nb">complete 
</span>1b6ff254abe7: Pull <span class="nb">complete 
</span>74310a0bf42d: Pull <span class="nb">complete 
</span>d398726627fd: Pull <span class="nb">complete 
</span>Digest: sha256:da58f943b94721d46e87d5de208dc07302a8b13e638cd1d24285d222376d6d84
Status: Downloaded newer image <span class="k">for </span>mysql:5.7
docker.io/library/mysql:5.7
</pre></table></code></div></div><p><strong>docker rmi</strong> 删除镜像</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre>Options:
  <span class="nt">-f</span>, <span class="nt">--force</span>      Force removal of the image
      <span class="nt">--no-prune</span>   Do not delete untagged parents

<span class="c"># docker rmi -f 718a6da099d8</span>
Untagged: mysql:5.7
Untagged: mysql@sha256:da58f943b94721d46e87d5de208dc07302a8b13e638cd1d24285d222376d6d84
Deleted: sha256:718a6da099d82183c064a964523c0deca80619cb033aadd15854771fe592a480
Deleted: sha256:058d93ef2bfb943ba6a19d8b679c702be96e34337901da9e1a07ad62b772bf3d
Deleted: sha256:7bca77783fcf15499a0386127dd7d5c679328a21b6566c8be861ba424ac13e49
Deleted: sha256:183d05512fa88dfa8c17abb9b6f09a79922d9e9ee001a33ef34d1bc094bf8f9f
Deleted: sha256:165805124136fdee738ed19021a522bb53de75c2ca9b6ca87076f51c27385fd7

删除所有镜像
root@izbp1g4zldn8zzaga4gpidz: ~ 15:07:24
<span class="c"># docker rmi -f $(docker images -aq)</span>
Untagged: mysql:latest
Untagged: mysql@sha256:c358e72e100ab493a0304bda35e6f239db2ec8c9bb836d8a427ac34307d074ed
Deleted: sha256:0d64f46acfd1af4ee6a162f80c6e07e843761bf14d412060023bf0e69e720fb4
Deleted: sha256:308fb4d64e5d57094fcd70bd946f9f842a1de6b596a4807787f01dc181c76b18
Deleted: sha256:fbc8e9508f704f46bfe3607ce4523aac7758757a9752a44a40221c2d353b7147
Deleted: sha256:d55db5e278c81c9cf5b51cc63f5ba9c5d9a616f6e28f9ce25b3545ff58298a89
Deleted: sha256:c2596316288a83e50e7e922d18b5f86b8ce34915c6f58c239f093cb514016538
Deleted: sha256:cfe5cd376e0ee9cb83864690a8971646a774ed189bda11f5a39e8bb0e71d77f9
Deleted: sha256:904abdc2d0bea0edbb1a8171d1a1353fa6de22150a9c5d81358799a5b6c38c8d
Deleted: sha256:d26f7649f78cf789267fbbca8aeb234932e230109c728632c6b9fbc60ca5591b
Deleted: sha256:7fcf7796e23ea5b42eb3bbd5bec160ba5f5f47ecb239053762f9cf766c143942
Deleted: sha256:826130797a5760bcd2bb19a6c6d92b5f4860bbffbfa954f5d3fc627904a76e9d
Deleted: sha256:53e0181c63e41fb85bce681ec8aadfa323cd00f70509107f7001a1d0614e5adf
Deleted: sha256:d6854b83e83d7eb48fb0ef778c58a8b839adb932dd036a085d94a7c2db98f890
Deleted: sha256:d0f104dc0a1f9c744b65b23b3fd4d4d3236b4656e67f776fe13f8ad8423b955c
Error response from daemon: conflict: unable to delete bf756fb1ae65 <span class="o">(</span>must be forced<span class="o">)</span> - image is being used by stopped container cb0a51692b28#因为忘了加-f，所以hello-world没删掉
</pre></table></code></div></div><h4 id="容器命令">容器命令</h4><blockquote><p>说明：有了镜像才可以创建容器。</p></blockquote><p>下载centos镜像</p><pre><code class="language-shel">docker pull centos
</code></pre><p><strong>docker run [options] image</strong> 新建容器并启动</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="c">#参数说明</span>
<span class="nt">--name</span><span class="o">=</span><span class="s2">"Name"</span>		<span class="c">#容器名字		tomcat01, tomcat02...</span>
<span class="nt">-d</span>							<span class="c">#后台方式运行</span>
<span class="nt">-it</span>							<span class="c">#使用交互方式运行，进入容器查看内容</span>
<span class="nt">-p</span>							<span class="c">#指定容器的端口，-p 8080:8080</span>
		<span class="nt">-p</span>	ip:主机端:容器端口
		<span class="nt">-p</span>	主机端:容器端口（常用）
		<span class="nt">-p</span>	容器端口
<span class="nt">-P</span>							<span class="c">#随机指定端口</span>


<span class="c">#测试：启动并进入容器</span>
<span class="c"># docker run -it centos /bin/bash</span>
<span class="o">[</span>root@e530d9f586b0 /]# 
<span class="o">[</span>root@e530d9f586b0 /]# <span class="nb">ls</span>	<span class="c">#查看容器内的centos，基础版本，很多命令是不完善的</span>
bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
<span class="o">[</span>root@e530d9f586b0 /]# <span class="nb">exit</span>
</pre></table></code></div></div><p><strong>docker ps</strong> 列出所有运行中的容器</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="c"># docker ps</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
root@izbp1g4zldn8zzaga4gpidz: ~ 21:56:29

<span class="c"># docker ps -a	#列出所有运行过的容器</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                          PORTS               NAMES
e530d9f586b0        centos              <span class="s2">"/bin/bash"</span>         3 minutes ago       Exited <span class="o">(</span>0<span class="o">)</span> About a minute ago                       jovial_goldberg
9926505823d6        hello-world         <span class="s2">"/hello"</span>            11 hours ago        Exited <span class="o">(</span>0<span class="o">)</span> 11 hours ago                             funny_babbage
cb0a51692b28        hello-world         <span class="s2">"/hello"</span>            11 hours ago        Exited <span class="o">(</span>0<span class="o">)</span> 11 hours ago                             zen_jackson

<span class="c"># docker ps -a -n=1	#显示最近创建的n个容器</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                     PORTS               NAMES
e530d9f586b0        centos              <span class="s2">"/bin/bash"</span>         7 minutes ago       Exited <span class="o">(</span>0<span class="o">)</span> 5 minutes ago                       jovial_goldberg

<span class="c"># docker ps -aq	#只显示编号</span>
e530d9f586b0
9926505823d6
cb0a51692b28
</pre></table></code></div></div><p><strong>exit</strong> 容器停止并退出</p><p><strong>Ctrl + P + Q</strong> 容器不停止并退出</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="c"># docker run -it centos /bin/bash</span>
<span class="o">[</span>root@cd82fcb3f8b3 /]# 
<span class="o">[</span>root@cd82fcb3f8b3 /]# 
<span class="o">[</span>root@cd82fcb3f8b3 /]# 
<span class="o">[</span>root@cd82fcb3f8b3 /]# 
<span class="o">[</span>root@cd82fcb3f8b3 /]# <span class="nb">ls
</span>bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
<span class="c">#Ctrl + P + Q</span>
<span class="o">[</span>root@cd82fcb3f8b3 /]# root@izbp1g4zldn8zzaga4gpidz: ~ 10:10:18
<span class="c"># </span>
root@izbp1g4zldn8zzaga4gpidz: ~ 10:10:44
<span class="c"># docker ps</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
cd82fcb3f8b3        centos              <span class="s2">"/bin/bash"</span>         45 seconds ago      <span class="sb">`</span>Up 44 seconds<span class="sb">`</span>                           interesting_moser
</pre></table></code></div></div><p><strong>docker rm</strong> 删除容器</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="c">#docker rm 容器id</span>
root@izbp1g4zldn8zzaga4gpidz: ~ 10:16:47
<span class="c"># docker rm e530d9f586b0</span>
e530d9f586b0
root@izbp1g4zldn8zzaga4gpidz: ~ 10:17:03
<span class="c"># docker ps -a</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                  PORTS               NAMES
cd82fcb3f8b3        centos              <span class="s2">"/bin/bash"</span>         7 minutes ago       Up 7 minutes                                interesting_moser
9926505823d6        hello-world         <span class="s2">"/hello"</span>            3 days ago          Exited <span class="o">(</span>0<span class="o">)</span> 3 days ago                       funny_babbage
cb0a51692b28        hello-world         <span class="s2">"/hello"</span>            3 days ago          Exited <span class="o">(</span>0<span class="o">)</span> 3 days ago                       zen_jackson
root@izbp1g4zldn8zzaga4gpidz: ~ 10:17:07
<span class="c"># docker rm cd82fcb3f8b3	#运行中的容器无法删除，除非使用-f参数</span>
Error response from daemon: You cannot remove a running container cd82fcb3f8b3b23818ae1ce63f663c1e8c67479faf8d8f5f21034b6695f604cf. Stop the container before attempting removal or force remove

<span class="c"># docker rm -f $(docker ps -aq)	删除所有容器</span>
<span class="c"># docker ps -a -q | xargs docker rm 删除所有容器</span>
cd82fcb3f8b3
9926505823d6
cb0a51692b28
root@izbp1g4zldn8zzaga4gpidz: ~ 10:19:58
<span class="c"># docker ps -a</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
</pre></table></code></div></div><p><strong>启动和停止容器</strong></p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre>docker start 容器id
docker restart 容器id
docker stop 容器id
docker <span class="nb">kill </span>容器id	<span class="c">#强制停止当前容器</span>

root@izbp1g4zldn8zzaga4gpidz: ~ 10:41:09
<span class="c"># docker start 87ad6d6efc21</span>
87ad6d6efc21
root@izbp1g4zldn8zzaga4gpidz: ~ 10:41:20
<span class="c"># docker ps</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
87ad6d6efc21        centos              <span class="s2">"/bin/bash"</span>         42 seconds ago      Up 3 seconds                            cool_banach
root@izbp1g4zldn8zzaga4gpidz: ~ 10:41:24
<span class="c"># docker stop 87ad6d6efc21</span>
87ad6d6efc21
root@izbp1g4zldn8zzaga4gpidz: ~ 10:41:31
<span class="c"># docker ps</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES

</pre></table></code></div></div><h4 id="常用的其他命令">常用的其他命令</h4><p><strong>docker run -d image</strong> 后台启动</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>root@izbp1g4zldn8zzaga4gpidz: ~ 10:47:50
<span class="c"># docker run -d centos</span>
edeb19029dd77224fbc907eb04015d90d236b693e79f0c70cf7af78c6aca09c7
root@izbp1g4zldn8zzaga4gpidz: ~ 10:47:57
<span class="c"># docker ps	#发现centos自动停止了</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES

<span class="c">#原因：docker容器使用后台运行，就必须有一个前台进程，docker发现没有应用就会自动停止。</span>
</pre></table></code></div></div><p><strong>docker logs 容器id</strong> 查看日志</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="c"># docker logs -f -t 87ad6d6efc21</span>
2020-09-07T02:40:43.408775942Z <span class="o">[</span>root@87ad6d6efc21 /]# 
2020-09-07T02:40:43.603515448Z <span class="o">[</span>root@87ad6d6efc21 /]# 
2020-09-07T02:41:05.982233799Z <span class="o">[</span>root@87ad6d6efc21 /]# <span class="nb">exit
</span>2020-09-07T02:41:30.963274673Z <span class="o">[</span>root@87ad6d6efc21 /]# <span class="nb">exit</span>

<span class="c">#在centos中一直打印一句话</span>
<span class="c"># docker run -d centos /bin/sh -c "while true;do echo create log;sleep 1;done"</span>
9e43264449a9844efdd1d5a88709a3324f8b8873e66cff68712fa673739a8245
root@izbp1g4zldn8zzaga4gpidz: ~ 11:01:02
<span class="c"># docker ps</span>
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS               NAMES
9e43264449a9        centos              <span class="s2">"/bin/sh -c 'while t…"</span>   4 seconds ago       Up 3 seconds                            awesome_williams
root@izbp1g4zldn8zzaga4gpidz: ~ 11:01:06
<span class="c"># docker logs -ft --tail 10 9e43264449a9</span>
2020-09-07T03:01:22.550857185Z create log
2020-09-07T03:01:23.553130443Z create log
2020-09-07T03:01:24.555939941Z create log
2020-09-07T03:01:25.557498035Z create log
2020-09-07T03:01:26.559825971Z create log
2020-09-07T03:01:27.561935118Z create log
2020-09-07T03:01:28.564137697Z create log
2020-09-07T03:01:29.566464968Z create log
2020-09-07T03:01:30.569206119Z create log
2020-09-07T03:01:31.571437641Z create log
2020-09-07T03:01:32.573573616Z create log
</pre></table></code></div></div><p><strong>docker top 容器id</strong> 查看容器内部的进程信息</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c"># docker top 9e43264449a9</span>
UID                 PID                 PPID                C                   STIME 
root                20615               20592               0                   15:27 
root                20717               20615               0                   15:27 

</pre></table></code></div></div><p><strong>docker inspect 容器id</strong> 查看镜像元数据</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
</pre><td class="rouge-code"><pre><span class="c"># docker inspect 9e43264449a9</span>
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"9e43264449a9844efdd1d5a88709a3324f8b8873e66cff68712fa673739a8245"</span>,
        <span class="s2">"Created"</span>: <span class="s2">"2020-09-07T03:01:02.066625882Z"</span>,
        <span class="s2">"Path"</span>: <span class="s2">"/bin/sh"</span>,
        <span class="s2">"Args"</span>: <span class="o">[</span>
            <span class="s2">"-c"</span>,
            <span class="s2">"while true;do echo create log;sleep 1;done"</span>
        <span class="o">]</span>,
        <span class="s2">"State"</span>: <span class="o">{</span>
            <span class="s2">"Status"</span>: <span class="s2">"exited"</span>,
            <span class="s2">"Running"</span>: <span class="nb">false</span>,
            <span class="s2">"Paused"</span>: <span class="nb">false</span>,
            <span class="s2">"Restarting"</span>: <span class="nb">false</span>,
            <span class="s2">"OOMKilled"</span>: <span class="nb">false</span>,
            <span class="s2">"Dead"</span>: <span class="nb">false</span>,
            <span class="s2">"Pid"</span>: 0,
            <span class="s2">"ExitCode"</span>: 137,
            <span class="s2">"Error"</span>: <span class="s2">""</span>,
            <span class="s2">"StartedAt"</span>: <span class="s2">"2020-09-07T07:27:05.261105118Z"</span>,
            <span class="s2">"FinishedAt"</span>: <span class="s2">"2020-09-07T07:28:40.995386259Z"</span>
        <span class="o">}</span>,
        <span class="s2">"Image"</span>: <span class="s2">"sha256:0d120b6ccaa8c5e149176798b3501d4dd1885f961922497cd0abef155c869566"</span>,
        <span class="s2">"ResolvConfPath"</span>: <span class="s2">"/var/lib/docker/containers/9e43264449a9844efdd1d5a88709a3324f8b8873e66cff68712fa673739a8245/resolv.conf"</span>,
        <span class="s2">"HostnamePath"</span>: <span class="s2">"/var/lib/docker/containers/9e43264449a9844efdd1d5a88709a3324f8b8873e66cff68712fa673739a8245/hostname"</span>,
        <span class="s2">"HostsPath"</span>: <span class="s2">"/var/lib/docker/containers/9e43264449a9844efdd1d5a88709a3324f8b8873e66cff68712fa673739a8245/hosts"</span>,
        <span class="s2">"LogPath"</span>: <span class="s2">"/var/lib/docker/containers/9e43264449a9844efdd1d5a88709a3324f8b8873e66cff68712fa673739a8245/9e43264449a9844efdd1d5a88709a3324f8b8873e66cff68712fa673739a8245-json.log"</span>,
        <span class="s2">"Name"</span>: <span class="s2">"/awesome_williams"</span>,
        <span class="s2">"RestartCount"</span>: 0,
        <span class="s2">"Driver"</span>: <span class="s2">"overlay2"</span>,
        <span class="s2">"Platform"</span>: <span class="s2">"linux"</span>,
        <span class="s2">"MountLabel"</span>: <span class="s2">""</span>,
        <span class="s2">"ProcessLabel"</span>: <span class="s2">""</span>,
        <span class="s2">"AppArmorProfile"</span>: <span class="s2">""</span>,
        <span class="s2">"ExecIDs"</span>: null,
        <span class="s2">"HostConfig"</span>: <span class="o">{</span>
            <span class="s2">"Binds"</span>: null,
            <span class="s2">"ContainerIDFile"</span>: <span class="s2">""</span>,
            <span class="s2">"LogConfig"</span>: <span class="o">{</span>
                <span class="s2">"Type"</span>: <span class="s2">"json-file"</span>,
                <span class="s2">"Config"</span>: <span class="o">{}</span>
            <span class="o">}</span>,
            <span class="s2">"NetworkMode"</span>: <span class="s2">"default"</span>,
            <span class="s2">"PortBindings"</span>: <span class="o">{}</span>,
            <span class="s2">"RestartPolicy"</span>: <span class="o">{</span>
                <span class="s2">"Name"</span>: <span class="s2">"no"</span>,
                <span class="s2">"MaximumRetryCount"</span>: 0
            <span class="o">}</span>,
            <span class="s2">"AutoRemove"</span>: <span class="nb">false</span>,
            <span class="s2">"VolumeDriver"</span>: <span class="s2">""</span>,
            <span class="s2">"VolumesFrom"</span>: null,
            <span class="s2">"CapAdd"</span>: null,
            <span class="s2">"CapDrop"</span>: null,
            <span class="s2">"Capabilities"</span>: null,
            <span class="s2">"Dns"</span>: <span class="o">[]</span>,
            <span class="s2">"DnsOptions"</span>: <span class="o">[]</span>,
            <span class="s2">"DnsSearch"</span>: <span class="o">[]</span>,
            <span class="s2">"ExtraHosts"</span>: null,
            <span class="s2">"GroupAdd"</span>: null,
            <span class="s2">"IpcMode"</span>: <span class="s2">"private"</span>,
            <span class="s2">"Cgroup"</span>: <span class="s2">""</span>,
            <span class="s2">"Links"</span>: null,
            <span class="s2">"OomScoreAdj"</span>: 0,
            <span class="s2">"PidMode"</span>: <span class="s2">""</span>,
            <span class="s2">"Privileged"</span>: <span class="nb">false</span>,
            <span class="s2">"PublishAllPorts"</span>: <span class="nb">false</span>,
            <span class="s2">"ReadonlyRootfs"</span>: <span class="nb">false</span>,
            <span class="s2">"SecurityOpt"</span>: null,
            <span class="s2">"UTSMode"</span>: <span class="s2">""</span>,
            <span class="s2">"UsernsMode"</span>: <span class="s2">""</span>,
            <span class="s2">"ShmSize"</span>: 67108864,
            <span class="s2">"Runtime"</span>: <span class="s2">"runc"</span>,
            <span class="s2">"ConsoleSize"</span>: <span class="o">[</span>
                0,
                0
            <span class="o">]</span>,
            <span class="s2">"Isolation"</span>: <span class="s2">""</span>,
            <span class="s2">"CpuShares"</span>: 0,
            <span class="s2">"Memory"</span>: 0,
            <span class="s2">"NanoCpus"</span>: 0,
            <span class="s2">"CgroupParent"</span>: <span class="s2">""</span>,
            <span class="s2">"BlkioWeight"</span>: 0,
            <span class="s2">"BlkioWeightDevice"</span>: <span class="o">[]</span>,
            <span class="s2">"BlkioDeviceReadBps"</span>: null,
            <span class="s2">"BlkioDeviceWriteBps"</span>: null,
            <span class="s2">"BlkioDeviceReadIOps"</span>: null,
            <span class="s2">"BlkioDeviceWriteIOps"</span>: null,
            <span class="s2">"CpuPeriod"</span>: 0,
            <span class="s2">"CpuQuota"</span>: 0,
            <span class="s2">"CpuRealtimePeriod"</span>: 0,
            <span class="s2">"CpuRealtimeRuntime"</span>: 0,
            <span class="s2">"CpusetCpus"</span>: <span class="s2">""</span>,
            <span class="s2">"CpusetMems"</span>: <span class="s2">""</span>,
            <span class="s2">"Devices"</span>: <span class="o">[]</span>,
            <span class="s2">"DeviceCgroupRules"</span>: null,
            <span class="s2">"DeviceRequests"</span>: null,
            <span class="s2">"KernelMemory"</span>: 0,
            <span class="s2">"KernelMemoryTCP"</span>: 0,
            <span class="s2">"MemoryReservation"</span>: 0,
            <span class="s2">"MemorySwap"</span>: 0,
            <span class="s2">"MemorySwappiness"</span>: null,
            <span class="s2">"OomKillDisable"</span>: <span class="nb">false</span>,
            <span class="s2">"PidsLimit"</span>: null,
            <span class="s2">"Ulimits"</span>: null,
            <span class="s2">"CpuCount"</span>: 0,
            <span class="s2">"CpuPercent"</span>: 0,
            <span class="s2">"IOMaximumIOps"</span>: 0,
            <span class="s2">"IOMaximumBandwidth"</span>: 0,
            <span class="s2">"MaskedPaths"</span>: <span class="o">[</span>
                <span class="s2">"/proc/asound"</span>,
                <span class="s2">"/proc/acpi"</span>,
                <span class="s2">"/proc/kcore"</span>,
                <span class="s2">"/proc/keys"</span>,
                <span class="s2">"/proc/latency_stats"</span>,
                <span class="s2">"/proc/timer_list"</span>,
                <span class="s2">"/proc/timer_stats"</span>,
                <span class="s2">"/proc/sched_debug"</span>,
                <span class="s2">"/proc/scsi"</span>,
                <span class="s2">"/sys/firmware"</span>
            <span class="o">]</span>,
            <span class="s2">"ReadonlyPaths"</span>: <span class="o">[</span>
                <span class="s2">"/proc/bus"</span>,
                <span class="s2">"/proc/fs"</span>,
                <span class="s2">"/proc/irq"</span>,
                <span class="s2">"/proc/sys"</span>,
                <span class="s2">"/proc/sysrq-trigger"</span>
            <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"GraphDriver"</span>: <span class="o">{</span>
            <span class="s2">"Data"</span>: <span class="o">{</span>
                <span class="s2">"LowerDir"</span>: <span class="s2">"/var/lib/docker/overlay2/3803dfd1d1fb4c18109de8e0d45a03d55ce0a810ba340c44eaa0d7866e61ca76-init/diff:/var/lib/docker/overlay2/2b34837f80f75599621cd1ae2109c171e19dffc9614dd2415605f8efd4b87350/diff"</span>,
                <span class="s2">"MergedDir"</span>: <span class="s2">"/var/lib/docker/overlay2/3803dfd1d1fb4c18109de8e0d45a03d55ce0a810ba340c44eaa0d7866e61ca76/merged"</span>,
                <span class="s2">"UpperDir"</span>: <span class="s2">"/var/lib/docker/overlay2/3803dfd1d1fb4c18109de8e0d45a03d55ce0a810ba340c44eaa0d7866e61ca76/diff"</span>,
                <span class="s2">"WorkDir"</span>: <span class="s2">"/var/lib/docker/overlay2/3803dfd1d1fb4c18109de8e0d45a03d55ce0a810ba340c44eaa0d7866e61ca76/work"</span>
            <span class="o">}</span>,
            <span class="s2">"Name"</span>: <span class="s2">"overlay2"</span>
        <span class="o">}</span>,
        <span class="s2">"Mounts"</span>: <span class="o">[]</span>,
        <span class="s2">"Config"</span>: <span class="o">{</span>
            <span class="s2">"Hostname"</span>: <span class="s2">"9e43264449a9"</span>,
            <span class="s2">"Domainname"</span>: <span class="s2">""</span>,
            <span class="s2">"User"</span>: <span class="s2">""</span>,
            <span class="s2">"AttachStdin"</span>: <span class="nb">false</span>,
            <span class="s2">"AttachStdout"</span>: <span class="nb">false</span>,
            <span class="s2">"AttachStderr"</span>: <span class="nb">false</span>,
            <span class="s2">"Tty"</span>: <span class="nb">false</span>,
            <span class="s2">"OpenStdin"</span>: <span class="nb">false</span>,
            <span class="s2">"StdinOnce"</span>: <span class="nb">false</span>,
            <span class="s2">"Env"</span>: <span class="o">[</span>
                <span class="s2">"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span>
            <span class="o">]</span>,
            <span class="s2">"Cmd"</span>: <span class="o">[</span>
                <span class="s2">"/bin/sh"</span>,
                <span class="s2">"-c"</span>,
                <span class="s2">"while true;do echo create log;sleep 1;done"</span>
            <span class="o">]</span>,
            <span class="s2">"Image"</span>: <span class="s2">"centos"</span>,
            <span class="s2">"Volumes"</span>: null,
            <span class="s2">"WorkingDir"</span>: <span class="s2">""</span>,
            <span class="s2">"Entrypoint"</span>: null,
            <span class="s2">"OnBuild"</span>: null,
            <span class="s2">"Labels"</span>: <span class="o">{</span>
                <span class="s2">"org.label-schema.build-date"</span>: <span class="s2">"20200809"</span>,
                <span class="s2">"org.label-schema.license"</span>: <span class="s2">"GPLv2"</span>,
                <span class="s2">"org.label-schema.name"</span>: <span class="s2">"CentOS Base Image"</span>,
                <span class="s2">"org.label-schema.schema-version"</span>: <span class="s2">"1.0"</span>,
                <span class="s2">"org.label-schema.vendor"</span>: <span class="s2">"CentOS"</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"NetworkSettings"</span>: <span class="o">{</span>
            <span class="s2">"Bridge"</span>: <span class="s2">""</span>,
            <span class="s2">"SandboxID"</span>: <span class="s2">"75b47312a00369cf2be77d7b9cb9a2506a484436cd8a2ebe8e7cb6bb4c5ffca7"</span>,
            <span class="s2">"HairpinMode"</span>: <span class="nb">false</span>,
            <span class="s2">"LinkLocalIPv6Address"</span>: <span class="s2">""</span>,
            <span class="s2">"LinkLocalIPv6PrefixLen"</span>: 0,
            <span class="s2">"Ports"</span>: <span class="o">{}</span>,
            <span class="s2">"SandboxKey"</span>: <span class="s2">"/var/run/docker/netns/75b47312a003"</span>,
            <span class="s2">"SecondaryIPAddresses"</span>: null,
            <span class="s2">"SecondaryIPv6Addresses"</span>: null,
            <span class="s2">"EndpointID"</span>: <span class="s2">""</span>,
            <span class="s2">"Gateway"</span>: <span class="s2">""</span>,
            <span class="s2">"GlobalIPv6Address"</span>: <span class="s2">""</span>,
            <span class="s2">"GlobalIPv6PrefixLen"</span>: 0,
            <span class="s2">"IPAddress"</span>: <span class="s2">""</span>,
            <span class="s2">"IPPrefixLen"</span>: 0,
            <span class="s2">"IPv6Gateway"</span>: <span class="s2">""</span>,
            <span class="s2">"MacAddress"</span>: <span class="s2">""</span>,
            <span class="s2">"Networks"</span>: <span class="o">{</span>
                <span class="s2">"bridge"</span>: <span class="o">{</span>
                    <span class="s2">"IPAMConfig"</span>: null,
                    <span class="s2">"Links"</span>: null,
                    <span class="s2">"Aliases"</span>: null,
                    <span class="s2">"NetworkID"</span>: <span class="s2">"46f0736c698f41e145e744e0d1c2d9f37697bfd12b8d738defc44587417a2c42"</span>,
                    <span class="s2">"EndpointID"</span>: <span class="s2">""</span>,
                    <span class="s2">"Gateway"</span>: <span class="s2">""</span>,
                    <span class="s2">"IPAddress"</span>: <span class="s2">""</span>,
                    <span class="s2">"IPPrefixLen"</span>: 0,
                    <span class="s2">"IPv6Gateway"</span>: <span class="s2">""</span>,
                    <span class="s2">"GlobalIPv6Address"</span>: <span class="s2">""</span>,
                    <span class="s2">"GlobalIPv6PrefixLen"</span>: 0,
                    <span class="s2">"MacAddress"</span>: <span class="s2">""</span>,
                    <span class="s2">"DriverOpts"</span>: null
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">]</span>

</pre></table></code></div></div><p><strong>docker exec -it 容器id bashShell</strong> 进入当前正在运行的容器（新开终端）</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="c">#我们通常容器都是使用后台方式运行的，需要进入容器，修改一些配置</span>

root@izbp1g4zldn8zzaga4gpidz: ~ 15:44:44
<span class="c"># docker exec -it 9e43264449a9 /bin/bash</span>
<span class="o">[</span>root@9e43264449a9 /]# ps <span class="nt">-ef</span>
UID        PID  PPID  C STIME TTY          TIME CMD
root         1     0  0 07:44 ?        00:00:00 /bin/sh <span class="nt">-c</span> <span class="k">while </span><span class="nb">true</span><span class="p">;</span><span class="k">do </span><span class="nb">echo </span>create log<span class="p">;</span><span class="nb">sleep </span>1<span class="p">;</span><span class="k">done
</span>root        31     0  0 07:45 pts/0    00:00:00 /bin/bash
root        54     1  0 07:45 ?        00:00:00 /usr/bin/coreutils <span class="nt">--coreutils-prog-shebang</span><span class="o">=</span><span class="nb">sleep</span> /usr/bin/sleep 1
root        55    31  0 07:45 pts/0    00:00:00 ps <span class="nt">-ef</span>
</pre></table></code></div></div><p><strong>docker attack 容器id</strong> 进入当前正在运行的容器（进入已有终端）</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c"># docker attach 9e43264449a9</span>
create log
create log
create log
...
</pre></table></code></div></div><p><strong>docker cp 容器id:容器内路径</strong> 从容器内拷贝文件到主机上</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre>root@izbp1g4zldn8zzaga4gpidz: ~ 15:59:17
<span class="c"># docker run -it centos /bin/bash</span>
<span class="o">[</span>root@69167b28997f /]# <span class="nb">ls
</span>bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
<span class="o">[</span>root@69167b28997f /]# <span class="nb">cd </span>home/
<span class="o">[</span>root@69167b28997f home]# <span class="nb">ls</span>
<span class="o">[</span>root@69167b28997f home]# <span class="nb">touch </span>test.java
<span class="o">[</span>root@69167b28997f home]# <span class="nb">echo</span> <span class="s2">"test"</span> <span class="o">&gt;&gt;</span> test.java
<span class="o">[</span>root@69167b28997f home]# <span class="nb">cat </span>test.java
<span class="nb">test</span>
<span class="o">[</span>root@69167b28997f home]# <span class="nb">exit
exit
</span>root@izbp1g4zldn8zzaga4gpidz: ~ 16:00:26
<span class="c"># docker cp 69167b28997f:/home/test.java .	#把容器内的文件拷贝出来，跟容器是否正在运行无关</span>
root@izbp1g4zldn8zzaga4gpidz: ~ 16:01:13
<span class="c"># ls</span>
experiments  gems  myblog  Python-2.7.5.tgz  python3  test.java
root@izbp1g4zldn8zzaga4gpidz: ~ 16:01:16
<span class="c"># cat test.java </span>
<span class="nb">test</span>

<span class="c">#拷贝是一个手动过程，未来可以使用-v 卷的技术，可以实现自动同步。</span>
</pre></table></code></div></div><h4 id="小结">小结</h4><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
</pre><td class="rouge-code"><pre>Management Commands:
  builder     <span class="c">#管理构建</span>
  config      <span class="c">#管理Docker配置</span>
  container   <span class="c">#管理容器</span>
  context     <span class="c">#管理上下文</span>
  engine      <span class="c">#管理Docker引擎</span>
  image       <span class="c">#管理图片</span>
  network     <span class="c">#管理网络</span>
  node        <span class="c">#管理Swarm节点</span>
  plugin      <span class="c">#管理插件</span>
  secret      <span class="c">#管理Docker机密</span>
  service     <span class="c">#管理服务</span>
  stack       <span class="c">#管理Docker堆栈</span>
  swarm       <span class="c">#管理群</span>
  system      <span class="c">#管理Docker</span>
  trust       <span class="c">#管理对Docker映像的信任</span>
  volume      <span class="c">#管理卷</span>

Commands:
  attach      <span class="c">#将本地标准输入，输出和错误流附加到正在运行的容器</span>
  build       <span class="c">#从Dockerfile构建映像</span>
  commit      <span class="c">#根据容器的更改创建新图像</span>
  <span class="nb">cp</span>          <span class="c">#在容器和本地文件系统之间复制文件/文件夹</span>
  create      <span class="c">#创建一个新的容器</span>
  diff        <span class="c">#检查容器文件系统上文件或目录的更改</span>
  events      <span class="c">#从服务器获取实时事件</span>
  <span class="nb">exec</span>        <span class="c">#在正在运行的容器中运行命令</span>
  <span class="nb">export</span>      <span class="c">#将容器的文件系统导出为tar存档</span>
  <span class="nb">history</span>     <span class="c">#显示图像的历史记录</span>
  images      <span class="c">#列出图片</span>
  import      <span class="c">#从tarball导入内容以创建文件系统映像</span>
  info        <span class="c">#显示系统范围的信息</span>
  inspect     <span class="c">#返回有关Docker对象的低级信息</span>
  <span class="nb">kill</span>        <span class="c">#杀死一个或多个正在运行的容器</span>
  load        <span class="c">#从tar存档或STDIN加载图像</span>
  login       <span class="c">#登录Docker注册表</span>
  <span class="nb">logout</span>      <span class="c">#从Docker注册表注销</span>
  logs        <span class="c">#获取容器的日志</span>
  pause       <span class="c">#暂停一个或多个容器中的所有进程</span>
  port        <span class="c">#列出端口映射或容器的特定映射</span>
  ps          <span class="c">#列出容器</span>
  pull        <span class="c">#从注册表中提取图像或存储库</span>
  push        <span class="c">#将映像或存储库推送到注册表</span>
  rename      <span class="c">#重命名容器</span>
  restart     <span class="c">#重新启动一个或多个容器</span>
  <span class="nb">rm</span>          <span class="c">#取出一个或多个容器</span>
  rmi         <span class="c">#删除一个或多个图像</span>
  run         <span class="c">#在新容器中运行命令</span>
  save        <span class="c">#将一个或多个图像保存到tar存档（默认情况下流式传输到STDOUT）</span>
  search      <span class="c">#在Docker Hub中搜索图像</span>
  start       <span class="c">#启动一个或多个已停止的容器</span>
  stats       <span class="c">#显示实时的容器资源使用情况统计流</span>
  stop        <span class="c">#停止一个或多个运行中的容器</span>
  tag         <span class="c">#创建引用了SOURCE_IMAGE的标签TARGET_IMAGE</span>
  top         <span class="c">#显示容器的运行过程</span>
  unpause     <span class="c">#取消暂停一个或多个容器中的所有进程</span>
  update      <span class="c">#更新一个或多个容器的配置</span>
  version     <span class="c">#显示Docker版本信息</span>
  <span class="nb">wait</span>        <span class="c">#阻塞直到一个或多个容器停止，然后打印其退出代码</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/HYCBlog/categories/blogging/'>Blogging</a>, <a href='/HYCBlog/categories/docker/'>docker</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/HYCBlog/tags/web/" class="post-tag no-text-decoration" >web</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><!-- Post sharing snippet v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Docker：入门 - 黄玉才的博客&url=www.yucaihuang.com/HYCBlog/posts/web-docker_2/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Docker：入门 - 黄玉才的博客&u=www.yucaihuang.com/HYCBlog/posts/web-docker_2/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Docker：入门 - 黄玉才的博客&url=www.yucaihuang.com/HYCBlog/posts/web-docker_2/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><!-- The Pannel on right side (Desktop views) v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><h3 data-toc-skip>Recent Update</h3><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/HYCBlog/posts/leetcode-solution_200_500/">Leetcode题解:200~500</a></li><li><a href="/HYCBlog/posts/leetcode-solution_101_200/">Leetcode题解:101~200</a></li><li><a href="/HYCBlog/posts/leetcode-solution_0_100/">Leetcode题解:1~100</a></li><li><a href="/HYCBlog/posts/redis-sentinel/">用Docker搭建一套Redis Sentinel集群</a></li></ul></div><div id="access-tags"><h3 data-toc-skip>Trending Tags</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/HYCBlog/tags/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/">算法题解</a> <a class="post-tag" href="/HYCBlog/tags/java/">java</a> <a class="post-tag" href="/HYCBlog/tags/java%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/">Java源码学习</a> <a class="post-tag" href="/HYCBlog/tags/algorithms/">Algorithms</a> <a class="post-tag" href="/HYCBlog/tags/web/">web</a> <a class="post-tag" href="/HYCBlog/tags/security/">security</a> <a class="post-tag" href="/HYCBlog/tags/redis/">redis</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2 mb-2">Contents</h3><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- Recommend the other 3 posts according to the tags and categories of the current post, if the number is not enough, use the other latest posts to supplement. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/HYCBlog/posts/web-docker_1/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Sep 7 <i class="unloaded">2020-09-07T19:37:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Docker：概述</h3><div class="text-muted small"><p> 核心思想：隔离。 Docker 是一个开放源代码软件，是一个开放平台，用于开发应用、交付（shipping）应用、运行应用。 Docker允许用户将基础设施（Infrastructure）中的应用单独分割出来，形成更小的颗粒（容器），从而提高交付软件的速度。 Docker容器与虚拟机类似，但二者在原理上不同。容器是将操作系统层虚拟化，虚拟机则是虚拟化硬件，因此容器更具有便携性、高...</p></div></div></a></div><div class="card"> <a href="/HYCBlog/posts/web-docker_3/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Sep 7 <i class="unloaded">2020-09-07T19:39:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Docker：一些练习</h3><div class="text-muted small"><p> Docker 部署 Nginx 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 #docker pull nginx # docker run -d --name nginx01 -p 2300:80 ngi...</p></div></div></a></div><div class="card"> <a href="/HYCBlog/posts/web-url-with-chinese-string/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Aug 24 <i class="unloaded">2020-08-24T15:40:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>URL包含中文，请求资源404</h3><div class="text-muted small"><p> 在本地时，项目路径内，中文解析均正确。但是放到服务器上后，http请求解析出现乱码。如下： 当url路径包含中文的时候，浏览器会自动采用UTF-8对路径进行编码，而服务器（本例中是tomcat，不同服务器的实际可能有差异，但原理差不多）默认是采用ISO-8859-1来对url路径进行解码，此时往往会出现404，如以上例子所述。 所以需要在服务端的配置文件中指定编码： ...</p></div></div></a></div></div></div><!-- Navigation buttons at the bottom of the post. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --><div class="post-navigation d-flex justify-content-between"> <a href="/HYCBlog/posts/web-docker_1/" class="btn btn-outline-primary"><p>Docker：概述</p></a> <a href="/HYCBlog/posts/web-docker_3/" class="btn btn-outline-primary"><p>Docker：一些练习</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script> <!-- The Footer v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><footer class="d-flex w-100 justify-content-center"><p class="footer-center"> © 2020 <a href="">Yucai Huang</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span> <br> <a href="https://beian.miit.gov.cn/" target="_blank">浙ICP备2020032055号-1</a></p></footer></div><!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/HYCBlog/tags/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/">算法题解</a> <a class="post-tag" href="/HYCBlog/tags/java/">java</a> <a class="post-tag" href="/HYCBlog/tags/java%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/">Java源码学习</a> <a class="post-tag" href="/HYCBlog/tags/algorithms/">Algorithms</a> <a class="post-tag" href="/HYCBlog/tags/web/">web</a> <a class="post-tag" href="/HYCBlog/tags/security/">security</a> <a class="post-tag" href="/HYCBlog/tags/redis/">redis</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- The GA snippet v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-176388509-1', 'auto'); ga('send', 'pageview'); </script> <script> (function(e,t,n,i,s,a,c){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)} ;a=t.createElement(i);c=t.getElementsByTagName(i)[0];a.async=true;a.src=s ;c.parentNode.insertBefore(a,c) })(window,document,"galite","script","https://cdn.jsdelivr.net/npm/ga-lite@2/dist/ga-lite.min.js"); galite('create', '{"id"=>"UA-176388509-1", "pv"=>{"enabled"=>false, "proxy_url"=>"", "proxy_endpoint"=>"", "cache"=>true}}', 'auto'); galite('send', 'pageview'); </script> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/HYCBlog/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="www.yucaihuang.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>

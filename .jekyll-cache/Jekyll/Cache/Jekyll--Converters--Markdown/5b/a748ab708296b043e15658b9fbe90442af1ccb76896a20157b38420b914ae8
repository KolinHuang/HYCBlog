I"­<p>[TOC]</p>

<h2 id="16æœ€æ¥è¿‘ä¸‰æ•°ä¹‹å’Œ">16.æœ€æ¥è¿‘ä¸‰æ•°ä¹‹å’Œ</h2>

<p>ç»™å®šä¸€ä¸ªåŒ…æ‹¬ n ä¸ªæ•´æ•°çš„æ•°ç»„ nums å’Œ ä¸€ä¸ªç›®æ ‡å€¼ targetã€‚æ‰¾å‡º nums ä¸­çš„ä¸‰ä¸ªæ•´æ•°ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œä¸ target æœ€æ¥è¿‘ã€‚è¿”å›è¿™ä¸‰ä¸ªæ•°çš„å’Œã€‚å‡å®šæ¯ç»„è¾“å…¥åªå­˜åœ¨å”¯ä¸€ç­”æ¡ˆã€‚</p>

<p>ç¤ºä¾‹ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>è¾“å…¥ï¼šnums = [-1,2,1,-4], target = 1
è¾“å‡ºï¼š2
è§£é‡Šï¼šä¸ target æœ€æ¥è¿‘çš„å’Œæ˜¯ 2 (-1 + 2 + 1 = 2) ã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æç¤ºï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>3 &lt;= nums.length &lt;= 10^3
-10^3 &lt;= nums[i] &lt;= 10^3
-10^4 &lt;= target &lt;= 10^4
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="æš´åŠ›è§£æ³•">æš´åŠ›è§£æ³•</h3>

<p>å›ºå®šä¸€ä¸ªæ•°ï¼Œéå†å…¶ä»–ä¸¤ä¸ªæ•°ï¼Œæ‰¾å‡º<code class="language-plaintext highlighter-rouge">target - sum</code>æœ€å°çš„<code class="language-plaintext highlighter-rouge">sum</code>ä½œä¸ºç»“æœã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="kt">int</span> <span class="n">min</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">j</span><span class="o">)</span>
                <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">k</span><span class="o">){</span>
                    <span class="kt">int</span> <span class="n">tmp</span> <span class="o">=</span> <span class="o">(</span><span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="n">nums</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">+</span> <span class="n">nums</span><span class="o">[</span><span class="n">k</span><span class="o">]);</span>
                    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">min</span><span class="o">;</span>
                    <span class="n">min</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">target</span> <span class="o">-</span> <span class="n">tmp</span><span class="o">),</span> <span class="n">min</span><span class="o">);</span>
                    <span class="k">if</span><span class="o">(</span><span class="n">m</span> <span class="o">!=</span> <span class="n">min</span><span class="o">){</span>
                        <span class="n">x</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
                        <span class="n">y</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span>
                        <span class="n">z</span> <span class="o">=</span> <span class="n">k</span><span class="o">;</span>
                    <span class="o">}</span>
                <span class="o">}</span>
        <span class="k">return</span> <span class="n">nums</span><span class="o">[</span><span class="n">x</span><span class="o">]+</span><span class="n">nums</span><span class="o">[</span><span class="n">y</span><span class="o">]+</span><span class="n">nums</span><span class="o">[</span><span class="n">z</span><span class="o">];</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="æ’åºåŒæŒ‡é’ˆ">æ’åº+åŒæŒ‡é’ˆ</h3>

<p>æˆ‘ä»¬é¦–å…ˆè€ƒè™‘æšä¸¾ç¬¬ä¸€ä¸ªå…ƒç´  aï¼Œå¯¹äºå‰©ä¸‹çš„ä¸¤ä¸ªå…ƒç´  b å’Œ cï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒä»¬çš„å’Œæœ€æ¥è¿‘ <code class="language-plaintext highlighter-rouge">target - a</code>ã€‚å¯¹äº b å’Œ cï¼Œå¦‚æœå®ƒä»¬åœ¨åŸæ•°ç»„ä¸­æšä¸¾çš„èŒƒå›´ï¼ˆæ—¢åŒ…æ‹¬ä¸‹æ ‡çš„èŒƒå›´ï¼Œä¹ŸåŒ…æ‹¬å…ƒç´ å€¼çš„èŒƒå›´ï¼‰æ²¡æœ‰ä»»ä½•è§„å¾‹å¯è¨€ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜æ˜¯åªèƒ½ä½¿ç”¨ä¸¤é‡å¾ªç¯æ¥æšä¸¾æ‰€æœ‰çš„å¯èƒ½æƒ…å†µã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘å¯¹æ•´ä¸ªæ•°ç»„è¿›è¡Œå‡åºæ’åºï¼Œå€ŸåŠ©åŒæŒ‡é’ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹æšä¸¾çš„è¿‡ç¨‹è¿›è¡Œä¼˜åŒ–ã€‚</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>å¦‚æœa+b+câ‰¥targetï¼Œé‚£ä¹ˆå°±å°† p_cå‘å·¦ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼›
å¦‚æœa+b+c&lt;targetï¼Œé‚£ä¹ˆå°±å°† p_bå‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<p>####</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre>        <span class="nc">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">nums</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">best</span> <span class="o">=</span> <span class="mi">10000</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="mi">2</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
          <span class="c1">//ä¿è¯æ­¤æ¬¡ç¬¬iä¸ªæ•°ä¸å‰ä¸€ä¸ªä¸åŒ</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="n">nums</span><span class="o">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">])</span> <span class="o">{</span>
                <span class="k">continue</span><span class="o">;</span>
            <span class="o">}</span>
          <span class="c1">//ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆï¼Œlå’Œrï¼Œåˆ†åˆ«ä»£è¡¨bå’Œc</span>
            <span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span><span class="n">r</span> <span class="o">=</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="mi">1</span><span class="o">;</span>
            <span class="k">while</span><span class="o">(</span><span class="n">l</span> <span class="o">&lt;</span> <span class="n">r</span><span class="o">){</span>
              <span class="c1">//è®¡ç®—å½“å‰çš„å’Œ</span>
                <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]+</span><span class="n">nums</span><span class="o">[</span><span class="n">l</span><span class="o">]+</span><span class="n">nums</span><span class="o">[</span><span class="n">r</span><span class="o">];</span>
                <span class="k">if</span><span class="o">(</span><span class="n">sum</span> <span class="o">==</span> <span class="n">target</span><span class="o">)</span>
                    <span class="k">return</span> <span class="n">sum</span><span class="o">;</span>
              <span class="c1">//è‹¥å½“å‰çš„å’Œè·Ÿtargetæ›´æ¥è¿‘ï¼Œåˆ™æ›´æ–°è·ç¦»æœ€å°å€¼</span>
                <span class="k">if</span><span class="o">(</span><span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">sum</span> <span class="o">-</span> <span class="n">target</span><span class="o">)</span> <span class="o">&lt;</span> <span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">best</span> <span class="o">-</span><span class="n">target</span><span class="o">)){</span>
                    <span class="n">best</span> <span class="o">=</span> <span class="n">sum</span><span class="o">;</span>
                <span class="o">}</span>
              <span class="c1">//ç§»åŠ¨æŒ‡é’ˆl</span>
                <span class="k">if</span><span class="o">(</span><span class="n">sum</span> <span class="o">&lt;</span> <span class="n">target</span><span class="o">){</span>
                    <span class="kt">int</span> <span class="n">l0</span> <span class="o">=</span> <span class="n">l</span><span class="o">;</span>
                  <span class="c1">//ä¿è¯ç§»åŠ¨åï¼Œä¸å‰ä¸€ä¸ªæ•°å­—ä¸åŒ</span>
                    <span class="k">while</span><span class="o">(</span><span class="n">l0</span> <span class="o">&lt;</span> <span class="n">r</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="o">[</span><span class="n">l0</span><span class="o">]</span> <span class="o">==</span> <span class="n">nums</span><span class="o">[</span><span class="n">l</span><span class="o">])</span>
                        <span class="o">++</span><span class="n">l0</span><span class="o">;</span>
                    <span class="n">l</span> <span class="o">=</span> <span class="n">l0</span><span class="o">;</span>
                <span class="o">}</span>
              <span class="c1">//ç§»åŠ¨æŒ‡é’ˆr</span>
                <span class="k">if</span><span class="o">(</span><span class="n">sum</span> <span class="o">&gt;</span> <span class="n">target</span><span class="o">){</span>
                    <span class="kt">int</span> <span class="n">r0</span> <span class="o">=</span> <span class="n">r</span><span class="o">;</span>
                  <span class="c1">//ä¿è¯ç§»åŠ¨åï¼Œä¸å‰ä¸€ä¸ªæ•°å­—ä¸åŒ</span>
                    <span class="k">while</span><span class="o">(</span><span class="n">l</span> <span class="o">&lt;</span> <span class="n">r0</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="o">[</span><span class="n">r0</span><span class="o">]</span> <span class="o">==</span> <span class="n">nums</span><span class="o">[</span><span class="n">r</span><span class="o">])</span>
                        <span class="o">--</span><span class="n">r0</span><span class="o">;</span>
                    <span class="n">r</span> <span class="o">=</span> <span class="n">r0</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">best</span><span class="o">;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="17ç”µè¯å·ç çš„å­—æ¯ç»„åˆ">17.ç”µè¯å·ç çš„å­—æ¯ç»„åˆ</h2>

<p>ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— <code class="language-plaintext highlighter-rouge">2-9</code> çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚</p>

<p>ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚</p>

<p>ç¤ºä¾‹:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">è¾“å…¥</span><span class="err">ï¼š</span><span class="s">"23"</span>
<span class="n">è¾“å‡º</span><span class="err">ï¼š</span><span class="o">[</span><span class="s">"ad"</span><span class="o">,</span> <span class="s">"ae"</span><span class="o">,</span> <span class="s">"af"</span><span class="o">,</span> <span class="s">"bd"</span><span class="o">,</span> <span class="s">"be"</span><span class="o">,</span> <span class="s">"bf"</span><span class="o">,</span> <span class="s">"cd"</span><span class="o">,</span> <span class="s">"ce"</span><span class="o">,</span> <span class="s">"cf"</span><span class="o">].</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¯´æ˜:
å°½ç®¡ä¸Šé¢çš„ç­”æ¡ˆæ˜¯æŒ‰å­—å…¸åºæ’åˆ—çš„ï¼Œä½†æ˜¯ä½ å¯ä»¥ä»»æ„é€‰æ‹©ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚</p>

<h3 id="å›æº¯æ³•">å›æº¯æ³•</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
    <span class="nc">String</span> <span class="n">s</span><span class="o">;</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">res</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">letterCombinations</span><span class="o">(</span><span class="nc">String</span> <span class="n">digits</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">digits</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>    <span class="k">return</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//å…ˆå»ºç«‹æ•°å­—å’Œå­—ç¬¦ä¸²çš„æ˜ å°„å…³ç³»</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span><span class="s">"abc"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span><span class="s">"def"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span><span class="s">"ghi"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span><span class="s">"jkl"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">6</span><span class="o">,</span><span class="s">"mno"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">7</span><span class="o">,</span><span class="s">"pqrs"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span><span class="s">"tuv"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">9</span><span class="o">,</span><span class="s">"wxyz"</span><span class="o">);</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">digits</span><span class="o">;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//å–å‡ºç¬¬ä¸€ä¸ªæ•°å­—å¯¹åº”çš„å­—ç¬¦ä¸²</span>
        <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
        <span class="c1">//ä»¥å­—ç¬¦ä¸²çš„ç¬¬iä½å­—ç¬¦ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œå¼€å§‹å›æº¯</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s1</span><span class="o">.</span><span class="na">length</span><span class="o">();++</span><span class="n">i</span><span class="o">){</span>
            <span class="nc">StringBuffer</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuffer</span><span class="o">();</span>
            <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">s1</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
            <span class="n">backtrack</span><span class="o">(</span><span class="n">sb</span><span class="o">,</span><span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kt">void</span> <span class="nf">backtrack</span><span class="o">(</span><span class="nc">StringBuffer</span> <span class="n">sb</span><span class="o">,</span> <span class="kt">int</span> <span class="n">cur</span><span class="o">){</span>
        <span class="c1">//è‹¥å·²è®¿é—®åˆ°æ ¹èŠ‚ç‚¹ï¼Œå°±å°†è¿™ä¸ªå­—ç¬¦ä¸²è®°å½•åˆ°resä¸­</span>
        <span class="k">if</span><span class="o">(</span><span class="n">sb</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">())</span>
            <span class="n">res</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">cur</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">;</span>
            <span class="nc">String</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
            <span class="c1">//å›æº¯</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">s1</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="o">++</span><span class="n">j</span><span class="o">){</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">s1</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span><span class="o">));</span>
                <span class="n">backtrack</span><span class="o">(</span><span class="n">sb</span><span class="o">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">sb</span><span class="o">.</span><span class="na">length</span><span class="o">()-</span><span class="mi">1</span><span class="o">,</span><span class="n">sb</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="43å­—ç¬¦ä¸²ç›¸ä¹˜">43.å­—ç¬¦ä¸²ç›¸ä¹˜</h2>

<p>ç»™å®šä¸¤ä¸ªä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„éè´Ÿæ•´æ•° num1 å’Œ num2ï¼Œè¿”å› num1 å’Œ num2 çš„ä¹˜ç§¯ï¼Œå®ƒä»¬çš„ä¹˜ç§¯ä¹Ÿè¡¨ç¤ºä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚</p>

<p>ç¤ºä¾‹ 1:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nl">è¾“å…¥:</span> <span class="n">num1</span> <span class="o">=</span> <span class="s">"2"</span><span class="o">,</span> <span class="n">num2</span> <span class="o">=</span> <span class="s">"3"</span>
<span class="nl">è¾“å‡º:</span> <span class="s">"6"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 2:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nl">è¾“å…¥:</span> <span class="n">num1</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">,</span> <span class="n">num2</span> <span class="o">=</span> <span class="s">"456"</span>
<span class="nl">è¾“å‡º:</span> <span class="s">"56088"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¯´æ˜ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="n">num1</span> <span class="n">å’Œ</span> <span class="n">num2</span> <span class="n">çš„é•¿åº¦å°äº110</span><span class="err">ã€‚</span>
<span class="n">num1</span> <span class="n">å’Œ</span> <span class="n">num2</span> <span class="n">åªåŒ…å«æ•°å­—</span> <span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="err">ã€‚</span>
<span class="n">num1</span> <span class="n">å’Œ</span> <span class="n">num2</span> <span class="n">å‡ä¸ä»¥é›¶å¼€å¤´</span><span class="err">ï¼Œ</span><span class="n">é™¤éæ˜¯æ•°å­—</span> <span class="mi">0</span> <span class="n">æœ¬èº«</span><span class="err">ã€‚</span>
<span class="n">ä¸èƒ½ä½¿ç”¨ä»»ä½•æ ‡å‡†åº“çš„å¤§æ•°ç±»å‹</span><span class="err">ï¼ˆ</span><span class="n">æ¯”å¦‚</span> <span class="nc">BigInteger</span><span class="err">ï¼‰</span><span class="n">æˆ–ç›´æ¥å°†è¾“å…¥è½¬æ¢ä¸ºæ•´æ•°æ¥å¤„ç†</span><span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_å­—ç¬¦ä¸²ç›¸ä¹˜.png" alt="leetcode_å­—ç¬¦ä¸²ç›¸ä¹˜" /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">multiply</span><span class="o">(</span><span class="nc">String</span> <span class="n">num1</span><span class="o">,</span> <span class="nc">String</span> <span class="n">num2</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">num1</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"0"</span><span class="o">)</span> <span class="o">||</span> <span class="n">num2</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"0"</span><span class="o">))</span> <span class="k">return</span> <span class="s">"0"</span><span class="o">;</span>

        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">num1</span><span class="o">.</span><span class="na">length</span><span class="o">()-</span><span class="mi">1</span><span class="o">,</span><span class="n">m</span> <span class="o">=</span> <span class="n">num2</span><span class="o">.</span><span class="na">length</span><span class="o">()-</span><span class="mi">1</span><span class="o">;</span>

        <span class="c1">//å­˜æ”¾ç»“æœ</span>
        <span class="nc">String</span> <span class="n">res</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">m</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="o">--</span><span class="n">i</span><span class="o">){</span>
            <span class="nc">StringBuffer</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuffer</span><span class="o">();</span>
            <span class="c1">//è¿›ä½æ ‡å¿—</span>
            <span class="kt">int</span> <span class="n">add</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="c1">//åä½è¡¥1ä¸ª0ï¼Œç™¾ä½è¡¥2ä¸ª0ï¼Œä»¥æ­¤ç±»æ¨ï¼Œä¾¿äºç´¯åŠ è®¡ç®—æ¯ä½çš„ä¹˜ç§¯</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">m</span><span class="o">;</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="n">i</span><span class="o">;</span> <span class="o">--</span><span class="n">j</span><span class="o">){</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"0"</span><span class="o">);</span>
            <span class="o">}</span>
            
            <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">num2</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">;</span>
            <span class="c1">//éå†num1çš„æ¯ä¸€ä½</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">n</span><span class="o">;</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="o">--</span><span class="n">j</span><span class="o">){</span>
                <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">num1</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">product</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="n">add</span><span class="o">;</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">product</span> <span class="o">%</span> <span class="mi">10</span><span class="o">);</span>
                <span class="c1">//ä¹˜ç§¯å¤§äº9ï¼Œè¿›ä½</span>
                <span class="n">add</span> <span class="o">=</span> <span class="n">product</span> <span class="o">/</span> <span class="mi">10</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="c1">//æœ€åä¸€æ¬¡è®¡ç®—æ˜¯å¦æœ‰è¿›ä½æœªå¤„ç†</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">add</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">add</span> <span class="o">%</span> <span class="mi">10</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">addString</span><span class="o">(</span><span class="n">res</span><span class="o">,</span><span class="n">sb</span><span class="o">.</span><span class="na">reverse</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>
            
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="nc">String</span> <span class="nf">addString</span><span class="o">(</span><span class="nc">String</span> <span class="n">s1</span><span class="o">,</span> <span class="nc">String</span> <span class="n">s2</span><span class="o">){</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="na">length</span><span class="o">()-</span><span class="mi">1</span><span class="o">,</span> <span class="n">m</span> <span class="o">=</span> <span class="n">s2</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">add</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="nc">StringBuffer</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuffer</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">m</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">add</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">){</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">?</span> <span class="n">s1</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">n</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span> <span class="o">:</span> <span class="mi">0</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">m</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">?</span> <span class="n">s2</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">m</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span> <span class="o">:</span> <span class="mi">0</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">add</span><span class="o">;</span>
            <span class="n">res</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">sum</span> <span class="o">%</span> <span class="mi">10</span><span class="o">);</span>
            <span class="n">add</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">/</span> <span class="mi">10</span><span class="o">;</span>
            <span class="o">--</span><span class="n">n</span><span class="o">;</span>
            <span class="o">--</span><span class="n">m</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">.</span><span class="na">reverse</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="63å«éšœç¢ç‰©ç½‘æ ¼ä¸­çš„ä¸åŒè·¯å¾„">63.å«éšœç¢ç‰©ç½‘æ ¼ä¸­çš„ä¸åŒè·¯å¾„</h2>

<p>ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª m x n ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸ºâ€œStartâ€ ï¼‰ã€‚</p>

<p>æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ã€‚</p>

<p>ç°åœ¨è€ƒè™‘ç½‘æ ¼ä¸­æœ‰éšœç¢ç‰©ã€‚é‚£ä¹ˆä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’å°†ä¼šæœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ</p>

<p>ç½‘æ ¼ä¸­çš„éšœç¢ç‰©å’Œç©ºä½ç½®åˆ†åˆ«ç”¨ <code class="language-plaintext highlighter-rouge">1</code> å’Œ <code class="language-plaintext highlighter-rouge">0</code> æ¥è¡¨ç¤ºã€‚</p>

<p><strong>è¯´æ˜ï¼š</strong> <em>m</em>å’Œ <em>n</em> çš„å€¼å‡ä¸è¶…è¿‡ 100ã€‚</p>

<p>ç¤ºä¾‹ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>è¾“å…¥:
[
Â  [0,0,0],
Â  [0,1,0],
Â  [0,0,0]
]
è¾“å‡º: 2
è§£é‡Š:
3x3 ç½‘æ ¼çš„æ­£ä¸­é—´æœ‰ä¸€ä¸ªéšœç¢ç‰©ã€‚
ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ä¸€å…±æœ‰ 2 æ¡ä¸åŒçš„è·¯å¾„ï¼š
<span class="p">1.</span> å‘å³ -&gt; å‘å³ -&gt; å‘ä¸‹ -&gt; å‘ä¸‹
<span class="p">2.</span> å‘ä¸‹ -&gt; å‘ä¸‹ -&gt; å‘å³ -&gt; å‘å³
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’</h3>

<p>è®¾<code class="language-plaintext highlighter-rouge">c[i][j]</code>ä»£è¡¨ä»<code class="language-plaintext highlighter-rouge">(0,0)</code>ç½‘æ ¼èµ°åˆ°<code class="language-plaintext highlighter-rouge">(i,j)</code>ç½‘æ ¼æœ‰å‡ ç§èµ°æ³•ï¼Œå…¶çŠ¶æ€æ–¹ç¨‹ä¸ºï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>c<span class="p">[</span><span class="nv">i</span><span class="p">][</span><span class="ss">j</span><span class="p">]</span> = 0 											if obstacleGrid<span class="p">[</span><span class="nv">i</span><span class="p">][</span><span class="ss">j</span><span class="p">]</span> == 1,
c<span class="p">[</span><span class="nv">i</span><span class="p">][</span><span class="ss">j</span><span class="p">]</span> = c<span class="p">[</span><span class="nv">i-1</span><span class="p">][</span><span class="ss">j</span><span class="p">]</span> + c<span class="p">[</span><span class="nv">i</span><span class="p">][</span><span class="ss">j-1</span><span class="p">]</span> 	if obstacleGrid<span class="p">[</span><span class="nv">i</span><span class="p">][</span><span class="ss">j</span><span class="p">]</span> == 0
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">uniquePathsWithObstacles</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">obstacleGrid</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">obstacleGrid</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">obstacleGrid</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span><span class="o">;</span>
        <span class="kt">int</span><span class="o">[][]</span> <span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">m</span><span class="o">][</span><span class="n">n</span><span class="o">];</span>
      <span class="c1">//è¾¹ç•Œåˆ¤æ–­</span>
        <span class="n">c</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">obstacleGrid</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="n">c</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">obstacleGrid</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">c</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">];</span>
        <span class="o">}</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="n">c</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">obstacleGrid</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">c</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">];</span>
        <span class="o">}</span>
			<span class="c1">//çŠ¶æ€è½¬ç§»</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">j</span><span class="o">){</span>
                <span class="n">c</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">obstacleGrid</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">c</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">+</span> <span class="n">c</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="o">];</span>
            <span class="o">}</span>

        <span class="k">return</span> <span class="n">c</span><span class="o">[</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">];</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[][]</span> <span class="n">m</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[][]{</span>
                <span class="o">{</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">}</span>
        <span class="o">};</span>
        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Solution</span><span class="o">().</span><span class="na">uniquePathsWithObstacles</span><span class="o">(</span><span class="n">m</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">res</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="67äºŒè¿›åˆ¶æ±‚å’Œ">67.äºŒè¿›åˆ¶æ±‚å’Œ</h2>

<p>ç»™ä½ ä¸¤ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒä»¬çš„å’Œï¼ˆç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼‰ã€‚</p>

<p>è¾“å…¥ä¸º <strong>éç©º</strong> å­—ç¬¦ä¸²ä¸”åªåŒ…å«æ•°å­— <code class="language-plaintext highlighter-rouge">1</code> å’Œ <code class="language-plaintext highlighter-rouge">0</code></p>

<p>ç¤ºä¾‹ 1:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>è¾“å…¥: a = "11", b = "1"
è¾“å‡º: "100"
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 2:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>è¾“å…¥: a = "1010", b = "1011"
è¾“å‡º: "10101"
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æç¤ºï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>æ¯ä¸ªå­—ç¬¦ä¸²ä»…ç”±å­—ç¬¦ '0' æˆ– '1' ç»„æˆã€‚
1 &lt;= a.length, b.length &lt;= 10^4
å­—ç¬¦ä¸²å¦‚æœä¸æ˜¯ "0" ï¼Œå°±éƒ½ä¸å«å‰å¯¼é›¶ã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">addBinary</span><span class="o">(</span><span class="nc">String</span> <span class="n">a</span><span class="o">,</span> <span class="nc">String</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//å¦‚æœaçš„é•¿åº¦å°äºbï¼Œåˆ™äº¤æ¢aå’Œbï¼Œä¿è¯açš„é•¿åº¦æ€»æ˜¯æœ€é•¿çš„</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">b</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&gt;</span> <span class="n">a</span><span class="o">.</span><span class="na">length</span><span class="o">())</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">a</span><span class="o">;</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="c1">//å¡«å……b</span>
        <span class="nc">String</span> <span class="n">pz</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">a</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="n">b</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">pz</span> <span class="o">+=</span> <span class="s">"0"</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">pz</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>
        <span class="c1">//è¿›ä½æ ‡å¿—</span>
        <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">res</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="na">length</span><span class="o">()-</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="o">--</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">ca</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">a</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="mi">48</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">cb</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">b</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="mi">48</span><span class="o">;</span>

            <span class="k">switch</span> <span class="o">(</span><span class="n">ca</span> <span class="o">+</span> <span class="n">cb</span> <span class="o">+</span> <span class="n">c</span><span class="o">){</span>
                <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
                    <span class="n">res</span> <span class="o">=</span> <span class="s">"0"</span> <span class="o">+</span> <span class="n">res</span><span class="o">;</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
                    <span class="n">res</span> <span class="o">=</span> <span class="s">"1"</span> <span class="o">+</span> <span class="n">res</span><span class="o">;</span>
                    <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
                    <span class="n">res</span> <span class="o">=</span> <span class="s">"0"</span> <span class="o">+</span> <span class="n">res</span><span class="o">;</span>
                    <span class="n">c</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
                    <span class="n">res</span> <span class="o">=</span> <span class="s">"1"</span> <span class="o">+</span> <span class="n">res</span><span class="o">;</span>
                    <span class="n">c</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
                    <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">if</span><span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span>
            <span class="n">res</span> <span class="o">=</span> <span class="s">"1"</span><span class="o">+</span><span class="n">res</span><span class="o">;</span>
        <span class="c1">//System.out.println(b);</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="nc">String</span> <span class="n">a</span> <span class="o">=</span> <span class="s">"1010"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">b</span> <span class="o">=</span> <span class="s">"1011"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Solution</span><span class="o">().</span><span class="na">addBinary</span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">res</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">addBinary</span><span class="o">(</span><span class="nc">String</span> <span class="n">a</span><span class="o">,</span> <span class="nc">String</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">StringBuffer</span> <span class="n">ans</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuffer</span><span class="o">();</span>

        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">length</span><span class="o">(),</span> <span class="n">b</span><span class="o">.</span><span class="na">length</span><span class="o">()),</span> <span class="n">carry</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">carry</span> <span class="o">+=</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">a</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">?</span> <span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">)</span> <span class="o">:</span> <span class="mi">0</span><span class="o">;</span>
            <span class="n">carry</span> <span class="o">+=</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">b</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">?</span> <span class="o">(</span><span class="n">b</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">b</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">)</span> <span class="o">:</span> <span class="mi">0</span><span class="o">;</span>
            <span class="n">ans</span><span class="o">.</span><span class="na">append</span><span class="o">((</span><span class="kt">char</span><span class="o">)</span> <span class="o">(</span><span class="n">carry</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">+</span> <span class="sc">'0'</span><span class="o">));</span>
            <span class="n">carry</span> <span class="o">/=</span> <span class="mi">2</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">carry</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ans</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="sc">'1'</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">ans</span><span class="o">.</span><span class="na">reverse</span><span class="o">();</span>

        <span class="k">return</span> <span class="n">ans</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="93-æ¢å¤ipåœ°å€">93. æ¢å¤IPåœ°å€</h2>

<p>ç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­—çš„å­—ç¬¦ä¸²ï¼Œå¤åŸå®ƒå¹¶è¿”å›æ‰€æœ‰å¯èƒ½çš„ IP åœ°å€æ ¼å¼ã€‚</p>

<p>æœ‰æ•ˆçš„ IP åœ°å€æ­£å¥½ç”±å››ä¸ªæ•´æ•°ï¼ˆæ¯ä¸ªæ•´æ•°ä½äº 0 åˆ° 255 ä¹‹é—´ç»„æˆï¼‰ï¼Œæ•´æ•°ä¹‹é—´ç”¨ â€˜.â€™ åˆ†éš”ã€‚</p>

<p>ç¤ºä¾‹:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nl">è¾“å…¥:</span> <span class="s">"25525511135"</span>
<span class="nl">è¾“å‡º:</span> <span class="o">[</span><span class="s">"255.255.11.135"</span><span class="o">,</span> <span class="s">"255.255.111.35"</span><span class="o">]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><img src="/Users/huangyucai/Documents/code/git_depositorys/github_KolinHuang/HYCBlog/assets/img/leetcode/leetcode_æ¢å¤Ipåœ°å€.png" alt="leetcode_æ¢å¤Ipåœ°å€" /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">leetcode</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"all"</span><span class="o">)</span>
<span class="kd">class</span> <span class="nc">RestoreIpAddresses</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="no">SEG_COUNT</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
    <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">segment</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="no">SEG_COUNT</span><span class="o">];</span>

    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">solution</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">dfs</span><span class="o">(</span><span class="n">s</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">dfs</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">,</span> <span class="kt">int</span> <span class="n">segId</span><span class="o">,</span> <span class="kt">int</span> <span class="n">segStart</span><span class="o">){</span>
        <span class="c1">//æ‰¾åˆ°äº†ç¬¬å››æ®µåœ°å€</span>
        <span class="k">if</span><span class="o">(</span><span class="n">segId</span> <span class="o">==</span> <span class="no">SEG_COUNT</span><span class="o">){</span>
            <span class="c1">//å·²ç»éå†å®Œå­—ç¬¦ä¸²</span>
            <span class="k">if</span><span class="o">(</span><span class="n">segStart</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()){</span>
                <span class="c1">//ç¡®å®šä¸€ç§ç­”æ¡ˆ</span>
                <span class="nc">StringBuffer</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuffer</span><span class="o">();</span>
                <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="no">SEG_COUNT</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
                    <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">segment</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
                    <span class="k">if</span><span class="o">(</span><span class="n">i</span> <span class="o">!=</span> <span class="no">SEG_COUNT</span><span class="o">-</span><span class="mi">1</span><span class="o">)</span>
                        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"."</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="n">res</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
            <span class="o">}</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="c1">//å¦‚æœæœªæ‰¾åˆ°ç¬¬å››æ®µåœ°å€ï¼Œå­—ç¬¦ä¸²å°±å·²ç»éå†å®Œï¼Œåˆ™å›æº¯</span>
        <span class="k">if</span><span class="o">(</span><span class="n">segStart</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">())</span>
            <span class="k">return</span><span class="o">;</span>

        <span class="c1">//å¦‚æœæœ‰å‰å¯¼0ï¼Œé‚£ä¹ˆè¿™ä¸ªä½ç½®çš„segmentåªèƒ½ä¸º0</span>
        <span class="k">if</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">segStart</span><span class="o">)==</span><span class="sc">'0'</span><span class="o">){</span>
            <span class="n">segment</span><span class="o">[</span><span class="n">segId</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="n">dfs</span><span class="o">(</span><span class="n">s</span><span class="o">,</span><span class="n">segId</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span><span class="n">segStart</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="c1">//ä¸€èˆ¬æƒ…å†µ</span>
        <span class="kt">int</span> <span class="n">addr</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">segEnd</span> <span class="o">=</span> <span class="n">segStart</span><span class="o">;</span> <span class="n">segEnd</span> <span class="o">&lt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="o">++</span><span class="n">segEnd</span><span class="o">){</span>
            <span class="n">addr</span> <span class="o">=</span> <span class="n">addr</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">segEnd</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">addr</span><span class="o">&gt;</span><span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">addr</span> <span class="o">&lt;=</span> <span class="mh">0xFF</span><span class="o">){</span>
                <span class="n">segment</span><span class="o">[</span><span class="n">segId</span><span class="o">]</span> <span class="o">=</span> <span class="n">addr</span><span class="o">;</span>
                <span class="n">dfs</span><span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="n">segId</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">segEnd</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
            <span class="o">}</span><span class="k">else</span><span class="o">{</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="s">"25525511135"</span><span class="o">;</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RestoreIpAddresses</span><span class="o">().</span><span class="na">solution</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">res</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>å¦‚æœéœ€è¦å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå®šä¹‰StringBufferä¼šå¥½å¾ˆå¤šã€‚</li>
  <li>ä½†éœ€è¦é€’å½’å‡½æ•°è¿”å›å€¼æ—¶ï¼Œæœ€å¥½ä¸è¦ç›´æ¥ç”¨å‡½æ•°è¿”å›ï¼Œå®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡æ¥ç›´æ¥è®°å½•ä¼šå¥½å¾ˆå¤šã€‚</li>
  <li>æ€è€ƒé€’å½’æ—¶ï¼Œä¸è¦æŠŠé—®é¢˜åˆ’åˆ†çš„å¤ªç»†ï¼Œè¦ä¸€æ¬¡é€’å½’èƒ½å¤Ÿå¤„ç†ä¸€ä¸ªå­é—®é¢˜ã€‚é€’å½’æ ‘çš„æ¯æ¡è·¯å¾„å¯¹åº”ä¸€ç§è§£æ³•ã€‚åƒè¿™é¢˜ï¼Œæˆ‘ä¸€å¼€å§‹æƒ³ç€ä»æœ€åä¸€ä¸ªåœ°å€æ®µå¼€å§‹ï¼Œéå†æ‰€æœ‰æƒ…å†µï¼Œç„¶åç”¨è¿”å›å€¼æŠŠå­—ç¬¦ä¸²æ‹¼æ¥èµ·æ¥ï¼Œè¿™ç§æ€ç»´éå¸¸æ··ä¹±ã€‚</li>
  <li>å†™é€’å½’å‡½æ•°ï¼Œå…ˆå†™æ»¡è¶³è¦æ±‚çš„æƒ…å†µï¼Œå³é€’å½’ç»“æŸæ¡ä»¶ï¼›å†å†™ç‰¹æ®Šæƒ…å†µï¼Œæœ€åå†™ä¸€èˆ¬æƒ…å†µã€‚</li>
</ul>

<h2 id="96-ä¸åŒçš„äºŒå‰æœç´¢æ ‘">96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘</h2>

<p>ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œæ±‚ä»¥ 1 â€¦ n ä¸ºèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘æœ‰å¤šå°‘ç§ï¼Ÿ</p>

<p>ç¤ºä¾‹:</p>

<p>è¾“å…¥: 3
è¾“å‡º: 5
è§£é‡Š:
ç»™å®š n = 3, ä¸€å…±æœ‰ 5 ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>   1         3     3      2      1
    <span class="se">\ </span>      /     /      / <span class="se">\ </span>     <span class="err">\</span>
     3     2     1      1   3      2
    /     /       <span class="se">\ </span>                <span class="err">\</span>
   2     1         2                 3
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="åˆ†æ²»é€’å½’">åˆ†æ²»é€’å½’</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">numTrees</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>

        <span class="k">if</span><span class="o">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="o">)</span> <span class="k">return</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">2</span><span class="o">)</span> <span class="k">return</span> <span class="mi">2</span><span class="o">;</span>

        <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="n">num</span> <span class="o">+=</span> <span class="n">numTrees</span><span class="o">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">*</span> <span class="n">numTrees</span><span class="o">(</span><span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">num</span><span class="o">;</span>
    <span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ä¸ç”¨é€’å½’çš„è§£æ³•">ä¸ç”¨é€’å½’çš„è§£æ³•</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">numTrees</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="no">G</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
        <span class="no">G</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="no">G</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">i</span><span class="o">;</span> <span class="o">++</span><span class="n">j</span><span class="o">)</span> <span class="o">{</span>
                <span class="no">G</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+=</span> <span class="no">G</span><span class="o">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="o">]</span> <span class="o">*</span> <span class="no">G</span><span class="o">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="no">G</span><span class="o">[</span><span class="n">n</span><span class="o">];</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å¡ç‰¹å…°æ•°">å¡ç‰¹å…°æ•°</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">numTrees</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// æç¤ºï¼šæˆ‘ä»¬åœ¨è¿™é‡Œéœ€è¦ç”¨ long ç±»å‹é˜²æ­¢è®¡ç®—è¿‡ç¨‹ä¸­çš„æº¢å‡º</span>
        <span class="kt">long</span> <span class="no">C</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="no">C</span> <span class="o">=</span> <span class="no">C</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="o">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">/</span> <span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="no">C</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="100-ç›¸åŒçš„æ ‘">100. ç›¸åŒçš„æ ‘</h2>

<p>ç»™å®šä¸¤ä¸ªäºŒå‰æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æ£€éªŒå®ƒä»¬æ˜¯å¦ç›¸åŒã€‚</p>

<p>å¦‚æœä¸¤ä¸ªæ ‘åœ¨ç»“æ„ä¸Šç›¸åŒï¼Œå¹¶ä¸”èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„å€¼ï¼Œåˆ™è®¤ä¸ºå®ƒä»¬æ˜¯ç›¸åŒçš„ã€‚</p>

<p>ç¤ºä¾‹ 1:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>è¾“å…¥:       1         1
          / \       / \
         2   3     2   3
				[1,2,3],   [1,2,3]
è¾“å‡º: true
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 2:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>è¾“å…¥:      1          1
          /           \
         2             2
    [1,2],     [1,null,2]
è¾“å‡º: false
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 3:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>è¾“å…¥:       1         1
          / \       / \
          2   1     1   2
   		 [1,2,1],   [1,1,2]
è¾“å‡º: false
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="æ·±åº¦ä¼˜å…ˆ">æ·±åº¦ä¼˜å…ˆ</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */</span>
<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isSameTree</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">p</span><span class="o">,</span> <span class="nc">TreeNode</span> <span class="n">q</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">p</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">q</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">p</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">q</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>

        <span class="k">if</span><span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">val</span> <span class="o">!=</span> <span class="n">q</span><span class="o">.</span><span class="na">val</span><span class="o">)</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="k">else</span>
            <span class="k">return</span> <span class="nf">isSameTree</span><span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">left</span><span class="o">,</span><span class="n">q</span><span class="o">.</span><span class="na">left</span><span class="o">)&amp;&amp;</span><span class="n">isSameTree</span><span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">right</span><span class="o">,</span><span class="n">q</span><span class="o">.</span><span class="na">right</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å¹¿åº¦ä¼˜å…ˆ">å¹¿åº¦ä¼˜å…ˆ</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isSameTree</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">p</span><span class="o">,</span> <span class="nc">TreeNode</span> <span class="n">q</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">p</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">q</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">p</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">q</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="nc">Queue</span><span class="o">&lt;</span><span class="nc">TreeNode</span><span class="o">&gt;</span> <span class="n">queue1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">TreeNode</span><span class="o">&gt;();</span>
        <span class="nc">Queue</span><span class="o">&lt;</span><span class="nc">TreeNode</span><span class="o">&gt;</span> <span class="n">queue2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">TreeNode</span><span class="o">&gt;();</span>
        <span class="n">queue1</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
        <span class="n">queue2</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">q</span><span class="o">);</span>
        <span class="k">while</span> <span class="o">(!</span><span class="n">queue1</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">queue2</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="nc">TreeNode</span> <span class="n">node1</span> <span class="o">=</span> <span class="n">queue1</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
            <span class="nc">TreeNode</span> <span class="n">node2</span> <span class="o">=</span> <span class="n">queue2</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">node1</span><span class="o">.</span><span class="na">val</span> <span class="o">!=</span> <span class="n">node2</span><span class="o">.</span><span class="na">val</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="nc">TreeNode</span> <span class="n">left1</span> <span class="o">=</span> <span class="n">node1</span><span class="o">.</span><span class="na">left</span><span class="o">,</span> <span class="n">right1</span> <span class="o">=</span> <span class="n">node1</span><span class="o">.</span><span class="na">right</span><span class="o">,</span> <span class="n">left2</span> <span class="o">=</span> <span class="n">node2</span><span class="o">.</span><span class="na">left</span><span class="o">,</span> <span class="n">right2</span> <span class="o">=</span> <span class="n">node2</span><span class="o">.</span><span class="na">right</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">left1</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">^</span> <span class="n">left2</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">right1</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">^</span> <span class="n">right2</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">left1</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">queue1</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">left1</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">right1</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">queue1</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">right1</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">left2</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">queue2</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">left2</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">right2</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">queue2</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">right2</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">queue1</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">queue2</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="108-å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘">108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</h2>

<p>å°†ä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æœ‰åºæ•°ç»„ï¼Œè½¬æ¢ä¸ºä¸€æ£µé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚</p>

<p>æœ¬é¢˜ä¸­ï¼Œä¸€ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æ ‘æ˜¯æŒ‡ä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ã€‚</p>

<p>ç¤ºä¾‹:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>ç»™å®šæœ‰åºæ•°ç»„: [-10,-3,0,5,9],

ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ï¼š[0,-3,9,-10,null,5]ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä¸‹é¢è¿™ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼š 		
      0
		 / \
    -3  9
   /   /
 -10  5
</pre></td></tr></tbody></table></code></pre></div></div>

<p>BSTçš„ä¸­åºéå†æ˜¯å‡åºï¼Œæ‰€ä»¥æœ¬é¢˜ç­‰åŒäºæ ¹æ®ä¸­åºéå†çš„åºåˆ—æ¢å¤äºŒå‰æœç´¢æ ‘ã€‚è‹¥æ˜¯æ™®é€šçš„äºŒå‰æœç´¢æ ‘ï¼Œåªéœ€è¦é€‰æ‹©åºåˆ—ä¸­çš„ä»»æ„ä¸€å…ƒç´ ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œä»¥è¯¥å…ƒç´ å·¦è¾¹çš„å‡åºåºåˆ—æ„å»ºå·¦å­æ ‘ï¼Œå³è¾¹çš„å‡åºåºåˆ—æ„å»ºå³å­æ ‘ï¼Œè¿™æ ·å¾—åˆ°çš„å°±æ˜¯ä¸€é¢—äºŒå‰æœç´¢æ ‘äº†ã€‚</p>

<p>æœ¬é¢˜è¦æ±‚å»ºç«‹å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼Œå› æ­¤æ¯æ¬¡éœ€è¦é€‰æ‹©å‡åºåºåˆ—çš„ä¸­é—´å…ƒç´ ä½œä¸ºæ ¹èŠ‚ç‚¹ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */</span>
<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">TreeNode</span> <span class="nf">sortedArrayToBST</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">dfs</span><span class="o">(</span><span class="n">nums</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">TreeNode</span> <span class="nf">dfs</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">,</span> <span class="kt">int</span> <span class="n">l</span><span class="o">,</span> <span class="kt">int</span> <span class="n">h</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">l</span> <span class="o">&gt;</span> <span class="n">h</span><span class="o">)</span> <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">l</span> <span class="o">+</span> <span class="o">(</span><span class="n">h</span><span class="o">-</span><span class="n">l</span><span class="o">)/</span><span class="mi">2</span><span class="o">;</span>
        <span class="nc">TreeNode</span> <span class="n">root</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TreeNode</span><span class="o">(</span><span class="n">nums</span><span class="o">[</span><span class="n">mid</span><span class="o">]);</span>
        <span class="n">root</span><span class="o">.</span><span class="na">left</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">(</span><span class="n">nums</span><span class="o">,</span> <span class="n">l</span><span class="o">,</span> <span class="n">mid</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
        <span class="n">root</span><span class="o">.</span><span class="na">right</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">(</span><span class="n">nums</span><span class="o">,</span> <span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span><span class="n">h</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">root</span><span class="o">;</span>

    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="109--æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘">109.  æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘</h2>

<p>ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼Œå…¶ä¸­çš„å…ƒç´ æŒ‰å‡åºæ’åºï¼Œå°†å…¶è½¬æ¢ä¸ºé«˜åº¦å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ã€‚</p>

<p>æœ¬é¢˜ä¸­ï¼Œä¸€ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æ ‘æ˜¯æŒ‡ä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ã€‚</p>

<p>ç¤ºä¾‹:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>ç»™å®šçš„æœ‰åºé“¾è¡¨ï¼š [-10, -3, 0, 5, 9],

ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ï¼š[0, -3, 9, -10, null, 5], å®ƒå¯ä»¥è¡¨ç¤ºä¸‹é¢è¿™ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼š
			 0
      / \
    -3   9
   /   /
 -10  5
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å…·ä½“åœ°ï¼Œè®¾å½“å‰é“¾è¡¨çš„å·¦ç«¯ç‚¹ä¸ºleftï¼Œå³ç«¯ç‚¹ rightï¼ŒåŒ…å«å…³ç³»ä¸ºã€Œå·¦é—­å³å¼€ã€ï¼Œå³left åŒ…å«åœ¨é“¾è¡¨ä¸­è€Œ right ä¸åŒ…å«åœ¨é“¾è¡¨ä¸­ã€‚æˆ‘ä»¬å¸Œæœ›å¿«é€Ÿåœ°æ‰¾å‡ºé“¾è¡¨çš„ä¸­ä½æ•°èŠ‚ç‚¹ midã€‚</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>ä¸ºä»€ä¹ˆè¦è®¾å®šã€Œå·¦é—­å³å¼€ã€çš„å…³ç³»ï¼Ÿç”±äºé¢˜ç›®ä¸­ç»™å®šçš„é“¾è¡¨ä¸ºå•å‘é“¾è¡¨ï¼Œè®¿é—®åç»§å…ƒç´ ååˆ†å®¹æ˜“ï¼Œä½†æ— æ³•ç›´æ¥è®¿é—®å‰é©±å…ƒç´ ã€‚å› æ­¤åœ¨æ‰¾å‡ºé“¾è¡¨çš„ä¸­ä½æ•°èŠ‚ç‚¹mid ä¹‹åï¼Œå¦‚æœè®¾å®šã€Œå·¦é—­å³å¼€ã€çš„å…³ç³»ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ç”¨ (left,mid) ä»¥åŠ (mid.next,right) æ¥è¡¨ç¤ºå·¦å³å­æ ‘å¯¹åº”çš„åˆ—è¡¨äº†ã€‚å¹¶ä¸”ï¼Œåˆå§‹çš„åˆ—è¡¨ä¹Ÿå¯ä»¥ç”¨(head,null) æ–¹ä¾¿åœ°è¿›è¡Œè¡¨ç¤ºï¼Œå…¶ä¸­null è¡¨ç¤ºç©ºèŠ‚ç‚¹ã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æ‰¾å‡ºé“¾è¡¨ä¸­ä½æ•°èŠ‚ç‚¹çš„æ–¹æ³•å¤šç§å¤šæ ·ï¼Œå…¶ä¸­è¾ƒä¸ºç®€å•çš„ä¸€ç§æ˜¯ã€Œå¿«æ…¢æŒ‡é’ˆæ³•ã€ã€‚åˆå§‹æ—¶ï¼Œå¿«æŒ‡é’ˆ fast å’Œæ…¢æŒ‡é’ˆslow å‡æŒ‡å‘é“¾è¡¨çš„å·¦ç«¯ç‚¹ leftã€‚æˆ‘ä»¬å°†å¿«æŒ‡é’ˆfast å‘å³ç§»åŠ¨ä¸¤æ¬¡çš„åŒæ—¶ï¼Œå°†æ…¢æŒ‡é’ˆslow å‘å³ç§»åŠ¨ä¸€æ¬¡ï¼Œç›´åˆ°å¿«æŒ‡é’ˆåˆ°è¾¾è¾¹ç•Œï¼ˆå³å¿«æŒ‡é’ˆåˆ°è¾¾å³ç«¯ç‚¹æˆ–å¿«æŒ‡é’ˆçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å³ç«¯ç‚¹ï¼‰ã€‚æ­¤æ—¶ï¼Œæ…¢æŒ‡é’ˆå¯¹åº”çš„å…ƒç´ å°±æ˜¯ä¸­ä½æ•°ã€‚</p>

<p>åœ¨æ‰¾å‡ºäº†ä¸­ä½æ•°èŠ‚ç‚¹ä¹‹åï¼Œæˆ‘ä»¬å°†å…¶ä½œä¸ºå½“å‰æ ¹èŠ‚ç‚¹çš„å…ƒç´ ï¼Œå¹¶é€’å½’åœ°æ„é€ å…¶å·¦ä¾§éƒ¨åˆ†çš„é“¾è¡¨å¯¹åº”çš„å·¦å­æ ‘ï¼Œä»¥åŠå³ä¾§éƒ¨åˆ†çš„é“¾è¡¨å¯¹åº”çš„å³å­æ ‘ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */</span>
<span class="cm">/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */</span>
<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">TreeNode</span> <span class="nf">sortedListToBST</span><span class="o">(</span><span class="nc">ListNode</span> <span class="n">head</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">buildTree</span><span class="o">(</span><span class="n">head</span><span class="o">,</span><span class="kc">null</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nc">TreeNode</span> <span class="nf">buildTree</span><span class="o">(</span><span class="nc">ListNode</span> <span class="n">left</span><span class="o">,</span> <span class="nc">ListNode</span> <span class="n">right</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">left</span> <span class="o">==</span> <span class="n">right</span><span class="o">)</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">ListNode</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">getMidian</span><span class="o">(</span><span class="n">left</span><span class="o">,</span><span class="n">right</span><span class="o">);</span>
        <span class="nc">TreeNode</span> <span class="n">root</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TreeNode</span><span class="o">(</span><span class="n">mid</span><span class="o">.</span><span class="na">val</span><span class="o">);</span>
        <span class="n">root</span><span class="o">.</span><span class="na">left</span> <span class="o">=</span> <span class="n">buildTree</span><span class="o">(</span><span class="n">left</span><span class="o">,</span><span class="n">mid</span><span class="o">);</span>
        <span class="n">root</span><span class="o">.</span><span class="na">right</span> <span class="o">=</span> <span class="n">buildTree</span><span class="o">(</span><span class="n">mid</span><span class="o">.</span><span class="na">next</span><span class="o">,</span><span class="n">right</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">root</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nc">ListNode</span> <span class="nf">getMidian</span><span class="o">(</span><span class="nc">ListNode</span> <span class="n">left</span><span class="o">,</span> <span class="nc">ListNode</span> <span class="n">right</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">left</span> <span class="o">==</span> <span class="n">right</span><span class="o">)</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">ListNode</span> <span class="n">fast</span> <span class="o">=</span> <span class="n">left</span><span class="o">;</span>
        <span class="nc">ListNode</span> <span class="n">slow</span> <span class="o">=</span> <span class="n">left</span><span class="o">;</span>
        <span class="k">while</span><span class="o">(</span><span class="n">fast</span> <span class="o">!=</span> <span class="n">right</span> <span class="o">&amp;&amp;</span> <span class="n">fast</span><span class="o">.</span><span class="na">next</span> <span class="o">!=</span> <span class="n">right</span><span class="o">){</span>
            <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
            <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
            <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">slow</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="110å¹³è¡¡äºŒå‰æ ‘">110.å¹³è¡¡äºŒå‰æ ‘</h2>

<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦æ˜¯é«˜åº¦å¹³è¡¡çš„äºŒå‰æ ‘ã€‚</p>

<p>æœ¬é¢˜ä¸­ï¼Œä¸€æ£µé«˜åº¦å¹³è¡¡äºŒå‰æ ‘å®šä¹‰ä¸ºï¼š</p>

<p>ä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ã€‚</p>

<p>ç¤ºä¾‹ 1:</p>

<p>ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7]</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>		3
   / \
  9  20
    /  \
   15   7
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¿”å› true ã€‚</p>

<p>ç¤ºä¾‹ 2:</p>

<p>ç»™å®šäºŒå‰æ ‘ [1,2,2,3,3,null,null,4,4]</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>       1
      / \
     2   2
    / \
   3   3
  / \
 4   4
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¿”å› false ã€‚</p>

<h3 id="è‡ªé¡¶å‘ä¸‹çš„é€’å½’">è‡ªé¡¶å‘ä¸‹çš„é€’å½’</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */</span>
<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isBalanced</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">root</span><span class="o">.</span><span class="na">right</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
      	<span class="c1">//å½“å·¦å³å­æ ‘æ·±åº¦å·®å¤§äº1æ—¶ï¼Œè¿”å›false</span>
        <span class="k">if</span><span class="o">(</span><span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">getDepth</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">)</span> <span class="o">-</span> <span class="n">getDepth</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="o">)</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
      	<span class="c1">//ç»§ç»­åˆ¤æ–­å·¦å³å­æ ‘</span>
        <span class="k">return</span> <span class="nf">isBalanced</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">isBalanced</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">);</span>
    <span class="o">}</span>
		<span class="c1">//è·å–äºŒå‰æ ‘æ·±åº¦</span>
    <span class="kt">int</span> <span class="nf">getDepth</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">root</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">return</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">getDepth</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">),</span><span class="n">getDepth</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">))+</span><span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="è‡ªåº•å‘ä¸Šçš„é€’å½’">è‡ªåº•å‘ä¸Šçš„é€’å½’</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isBalanced</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">height</span><span class="o">(</span><span class="n">root</span><span class="o">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">height</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">leftHeight</span> <span class="o">=</span> <span class="n">height</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">rightHeight</span> <span class="o">=</span> <span class="n">height</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">leftHeight</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="n">rightHeight</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">leftHeight</span> <span class="o">-</span> <span class="n">rightHeight</span><span class="o">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">return</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">leftHeight</span><span class="o">,</span> <span class="n">rightHeight</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="111-äºŒå‰æ ‘çš„æœ€å°æ·±åº¦">111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦</h2>

<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å°æ·±åº¦ã€‚</p>

<p>æœ€å°æ·±åº¦æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿‘å¶å­èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°é‡ã€‚</p>

<p>è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p>

<p>ç¤ºä¾‹:</p>

<p>ç»™å®šäºŒå‰æ ‘ <code class="language-plaintext highlighter-rouge">[3,9,20,null,null,15,7]</code>,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>		3
   / \
  9  20
    /  \
   15   7
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¿”å›å®ƒçš„æœ€å°æ·±åº¦  2.</p>

<h3 id="æ·±åº¦ä¼˜å…ˆ-1">æ·±åº¦ä¼˜å…ˆ</h3>

<p>é€’å½’åˆ¤æ–­ï¼Œå½“å‰èŠ‚ç‚¹ä¸ºç©ºæ—¶è¿”å›0ï¼›å½“å‰èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œéå†åˆ°å¶èŠ‚ç‚¹æ—¶è¿”å›1ï¼Œéå†åˆ°éå¶èŠ‚ç‚¹æ—¶ï¼Œè¿”å›å·¦å³å­æ ‘çš„æœ€å°æ·±åº¦ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */</span>
<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">minDepth</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>    <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">root</span><span class="o">.</span><span class="na">right</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
            <span class="k">return</span> <span class="mi">1</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">,</span><span class="n">right</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>   <span class="n">left</span> <span class="o">=</span> <span class="n">minDepth</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>  <span class="n">right</span> <span class="o">=</span> <span class="n">minDepth</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">);</span>
        <span class="k">return</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">left</span><span class="o">,</span><span class="n">right</span><span class="o">)+</span><span class="mi">1</span><span class="o">;</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å¹¿åº¦ä¼˜å…ˆ-1">å¹¿åº¦ä¼˜å…ˆ</h3>

<p>å½“æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªå¶å­èŠ‚ç‚¹æ—¶ï¼Œç›´æ¥è¿”å›è¿™ä¸ªå¶å­èŠ‚ç‚¹çš„æ·±åº¦ã€‚å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ€§è´¨ä¿è¯äº†æœ€å…ˆæœç´¢åˆ°çš„å¶å­èŠ‚ç‚¹çš„æ·±åº¦ä¸€å®šæœ€å°ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">QueueNode</span> <span class="o">{</span>
        <span class="nc">TreeNode</span> <span class="n">node</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">depth</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">QueueNode</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">node</span><span class="o">,</span> <span class="kt">int</span> <span class="n">depth</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">node</span> <span class="o">=</span> <span class="n">node</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">depth</span> <span class="o">=</span> <span class="n">depth</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">minDepth</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nc">Queue</span><span class="o">&lt;</span><span class="nc">QueueNode</span><span class="o">&gt;</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">QueueNode</span><span class="o">&gt;();</span>
        <span class="n">queue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="nc">QueueNode</span><span class="o">(</span><span class="n">root</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
        <span class="k">while</span> <span class="o">(!</span><span class="n">queue</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="nc">QueueNode</span> <span class="n">nodeDepth</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
            <span class="nc">TreeNode</span> <span class="n">node</span> <span class="o">=</span> <span class="n">nodeDepth</span><span class="o">.</span><span class="na">node</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">depth</span> <span class="o">=</span> <span class="n">nodeDepth</span><span class="o">.</span><span class="na">depth</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">node</span><span class="o">.</span><span class="na">right</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">depth</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">queue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="nc">QueueNode</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span><span class="o">,</span> <span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="o">));</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">right</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">queue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="nc">QueueNode</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">right</span><span class="o">,</span> <span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="o">));</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">ä½œè€…</span><span class="err">ï¼š</span><span class="nc">LeetCode</span><span class="o">-</span><span class="nc">Solution</span>
<span class="n">é“¾æ¥</span><span class="err">ï¼š</span><span class="nl">https:</span><span class="c1">//leetcode-cn.com/problems/minimum-depth-of-binary-tree/solution/er-cha-shu-de-zui-xiao-shen-du-by-leetcode-solutio/</span>
<span class="n">æ¥æº</span><span class="err">ï¼š</span><span class="n">åŠ›æ‰£</span><span class="err">ï¼ˆ</span><span class="nc">LeetCode</span><span class="err">ï¼‰</span>
<span class="n">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰</span><span class="err">ã€‚</span><span class="n">å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒ</span><span class="err">ï¼Œ</span><span class="n">éå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</span><span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="112-è·¯å¾„æ€»å’Œ">112. è·¯å¾„æ€»å’Œ</h2>

<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªç›®æ ‡å’Œï¼Œåˆ¤æ–­è¯¥æ ‘ä¸­æ˜¯å¦å­˜åœ¨æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œè¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹å€¼ç›¸åŠ ç­‰äºç›®æ ‡å’Œã€‚</p>

<p>è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p>

<p>ç¤ºä¾‹: 
ç»™å®šå¦‚ä¸‹äºŒå‰æ ‘ï¼Œä»¥åŠç›®æ ‡å’Œ sum = 22ï¼Œ</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>          5
         / \
        4   8
       /   / \
      11  13  4
     /  \      \
    7    2      1
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¿”å› true, å› ä¸ºå­˜åœ¨ç›®æ ‡å’Œä¸º 22 çš„æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ 5-&gt;4-&gt;11-&gt;2ã€‚</p>

<h3 id="å…ˆåºéå†">å…ˆåºéå†</h3>

<p>ç”¨äºŒå‰æ ‘çš„å‰åºéå†ï¼Œæ¯éå†åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œ<code class="language-plaintext highlighter-rouge">sum-=node.val</code>ï¼Œå½“éå†åˆ°å¶èŠ‚ç‚¹æ—¶ï¼Œåˆ¤æ–­sumæ˜¯å¦ä¸º0ï¼Œè‹¥ä¸º0åˆ™å­˜åœ¨è·¯å¾„ï¼Œå¦åˆ™ç»§ç»­éå†ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */</span>
<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasPathSum</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">root</span><span class="o">,</span> <span class="kt">int</span> <span class="n">sum</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="k">return</span> <span class="nf">preOrderTraversal</span><span class="o">(</span><span class="n">root</span><span class="o">,</span><span class="n">sum</span><span class="o">);</span>

    <span class="o">}</span>

    <span class="c1">//æ ‘çš„å…ˆåºéå†</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">preOrderTraversal</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">root</span><span class="o">,</span> <span class="kt">int</span> <span class="n">sum</span><span class="o">){</span>

        <span class="k">if</span><span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="c1">//æ˜¯å¶èŠ‚ç‚¹</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">==</span><span class="kc">null</span><span class="o">){</span>
            <span class="k">return</span> <span class="n">sum</span><span class="o">-</span><span class="n">root</span><span class="o">.</span><span class="na">val</span> <span class="o">==</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">-</span> <span class="n">root</span><span class="o">.</span><span class="na">val</span><span class="o">;</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">preOrderTraversal</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">,</span><span class="n">tmp</span><span class="o">)</span> <span class="o">||</span> <span class="n">preOrderTraversal</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">,</span><span class="n">tmp</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="120-ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ">120. ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ</h2>

<p>ç»™å®šä¸€ä¸ªä¸‰è§’å½¢ï¼Œæ‰¾å‡ºè‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œã€‚æ¯ä¸€æ­¥åªèƒ½ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œä¸­ç›¸é‚»çš„ç»“ç‚¹ä¸Šã€‚</p>

<p>ç›¸é‚»çš„ç»“ç‚¹ åœ¨è¿™é‡ŒæŒ‡çš„æ˜¯ ä¸‹æ ‡ ä¸ ä¸Šä¸€å±‚ç»“ç‚¹ä¸‹æ ‡ ç›¸åŒæˆ–è€…ç­‰äº ä¸Šä¸€å±‚ç»“ç‚¹ä¸‹æ ‡ + 1 çš„ä¸¤ä¸ªç»“ç‚¹ã€‚</p>

<p>ä¾‹å¦‚ï¼Œç»™å®šä¸‰è§’å½¢ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>[
     [2],
    [3,4],
   [6,5,7],
  [4,1,8,3]
]
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œä¸º 11ï¼ˆå³ï¼Œ2 + 3 + 5 + 1 = 11ï¼‰ã€‚</p>

<p>è¯´æ˜ï¼š</p>

<p>å¦‚æœä½ å¯ä»¥åªä½¿ç”¨ O(n) çš„é¢å¤–ç©ºé—´ï¼ˆn ä¸ºä¸‰è§’å½¢çš„æ€»è¡Œæ•°ï¼‰æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆä½ çš„ç®—æ³•ä¼šå¾ˆåŠ åˆ†ã€‚</p>

<h3 id="åŠ¨æ€è§„åˆ’-1">åŠ¨æ€è§„åˆ’</h3>

<p>ä»å€’æ•°ç¬¬äºŒå±‚å¼€å§‹ï¼Œå°†æ¯ä¸ªèŠ‚ç‚¹çš„å€¼åŠ ä¸Šå­èŠ‚ç‚¹çš„æœ€å°å€¼ï¼Œæœ€ç»ˆæ ¹èŠ‚ç‚¹çš„å€¼å³ä¸ºæœ€å°è·¯å¾„å’Œã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">minimumTotal</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">triangle</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="n">triangle</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>

        <span class="k">if</span><span class="o">(</span><span class="n">l</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>

        <span class="k">if</span><span class="o">(</span><span class="n">l</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="k">return</span> <span class="n">triangle</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>

        <span class="kt">int</span> <span class="n">min</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

        <span class="kt">int</span><span class="o">[][]</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">l</span><span class="o">][</span><span class="n">l</span><span class="o">];</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">l</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;=</span><span class="n">i</span><span class="o">;</span> <span class="o">++</span><span class="n">j</span><span class="o">){</span>
                <span class="n">res</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">triangle</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="n">j</span><span class="o">);</span>
            <span class="o">}</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">l</span><span class="o">-</span><span class="mi">2</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;=</span><span class="mi">0</span><span class="o">;</span> <span class="o">--</span><span class="n">i</span><span class="o">)</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">l</span><span class="o">-</span><span class="mi">2</span><span class="o">;</span> <span class="o">++</span><span class="n">j</span><span class="o">){</span>
                <span class="n">res</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">+=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">res</span><span class="o">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">],</span><span class="n">res</span><span class="o">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="o">]);</span>
            <span class="o">}</span>

        <span class="k">return</span> <span class="n">res</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">0</span><span class="o">];</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">minimumTotal</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">triangle</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">triangle</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
        <span class="kt">int</span><span class="o">[][]</span> <span class="n">f</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span><span class="o">][</span><span class="n">n</span><span class="o">];</span>
        <span class="n">f</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">triangle</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">f</span><span class="o">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="n">triangle</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="o">;</span> <span class="o">++</span><span class="n">j</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">f</span><span class="o">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="o">],</span> <span class="n">f</span><span class="o">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">])</span> <span class="o">+</span> <span class="n">triangle</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="n">j</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">f</span><span class="o">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">]</span> <span class="o">+</span> <span class="n">triangle</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">minTotal</span> <span class="o">=</span> <span class="n">f</span><span class="o">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">minTotal</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">minTotal</span><span class="o">,</span> <span class="n">f</span><span class="o">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">minTotal</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="c1">//ç©ºé—´ä¼˜åŒ–</span>
<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">minimumTotal</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">triangle</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">triangle</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">f</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span><span class="o">];</span>
        <span class="n">f</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">triangle</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">f</span><span class="o">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">]</span> <span class="o">+</span> <span class="n">triangle</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span> <span class="o">--</span><span class="n">j</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">f</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">f</span><span class="o">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="o">],</span> <span class="n">f</span><span class="o">[</span><span class="n">j</span><span class="o">])</span> <span class="o">+</span> <span class="n">triangle</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="n">j</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">f</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">+=</span> <span class="n">triangle</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">minTotal</span> <span class="o">=</span> <span class="n">f</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">minTotal</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">minTotal</span><span class="o">,</span> <span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">minTotal</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="130-è¢«å›´ç»•çš„åŒºåŸŸ">130. è¢«å›´ç»•çš„åŒºåŸŸ</h2>

<p>ç»™å®šä¸€ä¸ªäºŒç»´çš„çŸ©é˜µï¼ŒåŒ…å« â€˜Xâ€™ å’Œ â€˜Oâ€™ï¼ˆå­—æ¯ Oï¼‰ã€‚</p>

<p>æ‰¾åˆ°æ‰€æœ‰è¢« â€˜Xâ€™ å›´ç»•çš„åŒºåŸŸï¼Œå¹¶å°†è¿™äº›åŒºåŸŸé‡Œæ‰€æœ‰çš„ â€˜Oâ€™ ç”¨ â€˜Xâ€™ å¡«å……ã€‚</p>

<p>ç¤ºä¾‹:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="no">X</span> <span class="no">X</span> <span class="no">X</span> <span class="no">X</span>
<span class="no">X</span> <span class="no">O</span> <span class="no">O</span> <span class="no">X</span>
<span class="no">X</span> <span class="no">X</span> <span class="no">O</span> <span class="no">X</span>
<span class="no">X</span> <span class="no">O</span> <span class="no">X</span> <span class="no">X</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¿è¡Œä½ çš„å‡½æ•°åï¼ŒçŸ©é˜µå˜ä¸ºï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="no">X</span> <span class="no">X</span> <span class="no">X</span> <span class="no">X</span>
<span class="no">X</span> <span class="no">X</span> <span class="no">X</span> <span class="no">X</span>
<span class="no">X</span> <span class="no">X</span> <span class="no">X</span> <span class="no">X</span>
<span class="no">X</span> <span class="no">O</span> <span class="no">X</span> <span class="no">X</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è§£é‡Š:</p>

<p>è¢«å›´ç»•çš„åŒºé—´ä¸ä¼šå­˜åœ¨äºè¾¹ç•Œä¸Šï¼Œæ¢å¥è¯è¯´ï¼Œä»»ä½•è¾¹ç•Œä¸Šçš„ â€˜Oâ€™ éƒ½ä¸ä¼šè¢«å¡«å……ä¸º â€˜Xâ€™ã€‚ ä»»ä½•ä¸åœ¨è¾¹ç•Œä¸Šï¼Œæˆ–ä¸ä¸è¾¹ç•Œä¸Šçš„ â€˜Oâ€™ ç›¸è¿çš„ â€˜Oâ€™ æœ€ç»ˆéƒ½ä¼šè¢«å¡«å……ä¸º â€˜Xâ€™ã€‚å¦‚æœä¸¤ä¸ªå…ƒç´ åœ¨æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç›¸é‚»ï¼Œåˆ™ç§°å®ƒä»¬æ˜¯â€œç›¸è¿â€çš„ã€‚</p>

<p>ä»»ä½•ä¸åœ¨è¾¹ç•Œä¸Šï¼Œæˆ–ä¸ä¸è¾¹ç•Œä¸Šçš„ â€˜Oâ€™ ç›¸è¿çš„ â€˜Oâ€™ æœ€ç»ˆéƒ½ä¼šè¢«å¡«å……ä¸º â€˜Xâ€™ã€‚</p>

<p>éå†æ‰€æœ‰è¾¹ç•Œä¸Šçš„â€™Oâ€™ï¼Œå°†ä¸ä»–ç›¸è¿çš„â€™Oâ€™æŸ“è‰²ã€‚</p>

<p>æœ€åéå†æ‰€æœ‰å…ƒç´ ï¼Œè¢«æŸ“è‰²çš„æ¢å¤ä¸ºâ€™Oâ€™ï¼Œæœªè¢«æŸ“è‰²çš„â€™Oâ€™ä¿®æ”¹ä¸ºâ€˜Xâ€™</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">solve</span><span class="o">(</span><span class="kt">char</span><span class="o">[][]</span> <span class="n">board</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">board</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">board</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">row</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">col</span> <span class="o">=</span> <span class="n">board</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span><span class="o">;</span>

        <span class="k">if</span><span class="o">(</span><span class="n">row</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="o">||</span> <span class="n">col</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="o">)</span> <span class="k">return</span><span class="o">;</span>
        <span class="c1">//æ ‡è®°</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">row</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">col</span><span class="o">;</span> <span class="o">++</span><span class="n">j</span><span class="o">){</span>
                <span class="c1">//åœ¨è¾¹ç•Œä¸Š</span>
                <span class="k">if</span><span class="o">((</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">i</span> <span class="o">==</span> <span class="n">row</span><span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">j</span> <span class="o">==</span> <span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">board</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="o">){</span>
                    <span class="c1">//æŸ“è‰²</span>
                  	<span class="n">dfs</span><span class="o">(</span><span class="n">board</span><span class="o">,</span><span class="n">i</span><span class="o">,</span><span class="n">j</span><span class="o">);</span>

                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">row</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">col</span><span class="o">;</span> <span class="o">++</span><span class="n">j</span><span class="o">){</span>
                <span class="k">if</span><span class="o">(</span><span class="n">board</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="o">)</span>
                    <span class="n">board</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="sc">'X'</span><span class="o">;</span>
                <span class="k">if</span><span class="o">(</span><span class="n">board</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="o">)</span>
                    <span class="n">board</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="sc">'O'</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>

    <span class="o">}</span>
    <span class="kt">void</span> <span class="nf">dfs</span><span class="o">(</span><span class="kt">char</span><span class="o">[][]</span> <span class="n">board</span><span class="o">,</span> <span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">){</span>
        <span class="kt">int</span> <span class="n">row</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">col</span> <span class="o">=</span> <span class="n">board</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span><span class="o">;</span>
        <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="sc">'M'</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">row</span> <span class="o">&amp;&amp;</span> <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="o">)</span>
            <span class="n">dfs</span><span class="o">(</span><span class="n">board</span><span class="o">,</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span><span class="n">y</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="o">)</span>
            <span class="n">dfs</span><span class="o">(</span><span class="n">board</span><span class="o">,</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span><span class="n">y</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">col</span> <span class="o">&amp;&amp;</span> <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="o">)</span>
            <span class="n">dfs</span><span class="o">(</span><span class="n">board</span><span class="o">,</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="o">)</span>
            <span class="n">dfs</span><span class="o">(</span><span class="n">board</span><span class="o">,</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>
  
  <span class="cm">/*void dfs(vector&lt;vector&lt;char&gt;&gt;&amp; board, int x, int y) {
        if (x &lt; 0 || x &gt;= n || y &lt; 0 || y &gt;= m || board[x][y] != 'O') {
            return;
        }
        board[x][y] = 'A';
        dfs(board, x + 1, y);
        dfs(board, x - 1, y);
        dfs(board, x, y + 1);
        dfs(board, x, y - 1);
    }*/</span>


<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>å‚è€ƒ</strong></p>

<p>https://leetcode-cn.com/problems/surrounded-regions/solution/bfsdi-gui-dfsfei-di-gui-dfsbing-cha-ji-by-ac_pipe/</p>

<h2 id="130-å…‹éš†å›¾">130. å…‹éš†å›¾</h2>

<p>ç»™ä½ æ— å‘è¿é€šå›¾ä¸­ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ï¼Œè¯·ä½ è¿”å›è¯¥å›¾çš„æ·±æ‹·è´ï¼ˆå…‹éš†ï¼‰ã€‚</p>

<p>å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«å®ƒçš„å€¼ valï¼ˆintï¼‰ å’Œå…¶é‚»å±…çš„åˆ—è¡¨ï¼ˆlist[Node]ï¼‰ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Node</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">val</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Node</span><span class="o">&gt;</span> <span class="n">neighbors</span><span class="o">;</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æµ‹è¯•ç”¨ä¾‹æ ¼å¼ï¼š</p>

<p>ç®€å•èµ·è§ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å’Œå®ƒçš„ç´¢å¼•ç›¸åŒã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹å€¼ä¸º 1ï¼ˆ<code class="language-plaintext highlighter-rouge">val = 1</code>ï¼‰ï¼Œç¬¬äºŒä¸ªèŠ‚ç‚¹å€¼ä¸º 2ï¼ˆ<code class="language-plaintext highlighter-rouge">val = 2</code>ï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¯¥å›¾åœ¨æµ‹è¯•ç”¨ä¾‹ä¸­ä½¿ç”¨é‚»æ¥åˆ—è¡¨è¡¨ç¤ºã€‚</p>

<p>é‚»æ¥åˆ—è¡¨ æ˜¯ç”¨äºè¡¨ç¤ºæœ‰é™å›¾çš„æ— åºåˆ—è¡¨çš„é›†åˆã€‚æ¯ä¸ªåˆ—è¡¨éƒ½æè¿°äº†å›¾ä¸­èŠ‚ç‚¹çš„é‚»å±…é›†ã€‚</p>

<p>ç»™å®šèŠ‚ç‚¹å°†å§‹ç»ˆæ˜¯å›¾ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå€¼ä¸º 1ï¼‰ã€‚ä½ å¿…é¡»å°† ç»™å®šèŠ‚ç‚¹çš„æ‹·è´ ä½œä¸ºå¯¹å…‹éš†å›¾çš„å¼•ç”¨è¿”å›ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="n">è¾“å…¥</span><span class="err">ï¼š</span><span class="n">adjList</span> <span class="o">=</span> <span class="o">[[</span><span class="mi">2</span><span class="o">,</span><span class="mi">4</span><span class="o">],[</span><span class="mi">1</span><span class="o">,</span><span class="mi">3</span><span class="o">],[</span><span class="mi">2</span><span class="o">,</span><span class="mi">4</span><span class="o">],[</span><span class="mi">1</span><span class="o">,</span><span class="mi">3</span><span class="o">]]</span>
<span class="n">è¾“å‡º</span><span class="err">ï¼š</span><span class="o">[[</span><span class="mi">2</span><span class="o">,</span><span class="mi">4</span><span class="o">],[</span><span class="mi">1</span><span class="o">,</span><span class="mi">3</span><span class="o">],[</span><span class="mi">2</span><span class="o">,</span><span class="mi">4</span><span class="o">],[</span><span class="mi">1</span><span class="o">,</span><span class="mi">3</span><span class="o">]]</span>
<span class="n">è§£é‡Š</span><span class="err">ï¼š</span>
<span class="n">å›¾ä¸­æœ‰</span> <span class="mi">4</span> <span class="n">ä¸ªèŠ‚ç‚¹</span><span class="err">ã€‚</span>
<span class="n">èŠ‚ç‚¹</span> <span class="mi">1</span> <span class="n">çš„å€¼æ˜¯</span> <span class="mi">1</span><span class="err">ï¼Œ</span><span class="n">å®ƒæœ‰ä¸¤ä¸ªé‚»å±…</span><span class="err">ï¼š</span><span class="n">èŠ‚ç‚¹</span> <span class="mi">2</span> <span class="n">å’Œ</span> <span class="mi">4</span> <span class="err">ã€‚</span>
<span class="n">èŠ‚ç‚¹</span> <span class="mi">2</span> <span class="n">çš„å€¼æ˜¯</span> <span class="mi">2</span><span class="err">ï¼Œ</span><span class="n">å®ƒæœ‰ä¸¤ä¸ªé‚»å±…</span><span class="err">ï¼š</span><span class="n">èŠ‚ç‚¹</span> <span class="mi">1</span> <span class="n">å’Œ</span> <span class="mi">3</span> <span class="err">ã€‚</span>
<span class="n">èŠ‚ç‚¹</span> <span class="mi">3</span> <span class="n">çš„å€¼æ˜¯</span> <span class="mi">3</span><span class="err">ï¼Œ</span><span class="n">å®ƒæœ‰ä¸¤ä¸ªé‚»å±…</span><span class="err">ï¼š</span><span class="n">èŠ‚ç‚¹</span> <span class="mi">2</span> <span class="n">å’Œ</span> <span class="mi">4</span> <span class="err">ã€‚</span>
<span class="n">èŠ‚ç‚¹</span> <span class="mi">4</span> <span class="n">çš„å€¼æ˜¯</span> <span class="mi">4</span><span class="err">ï¼Œ</span><span class="n">å®ƒæœ‰ä¸¤ä¸ªé‚»å±…</span><span class="err">ï¼š</span><span class="n">èŠ‚ç‚¹</span> <span class="mi">1</span> <span class="n">å’Œ</span> <span class="mi">3</span> <span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="n">è¾“å…¥</span><span class="err">ï¼š</span><span class="n">adjList</span> <span class="o">=</span> <span class="o">[[]]</span>
<span class="n">è¾“å‡º</span><span class="err">ï¼š</span><span class="o">[[]]</span>
<span class="n">è§£é‡Š</span><span class="err">ï¼š</span><span class="n">è¾“å…¥åŒ…å«ä¸€ä¸ªç©ºåˆ—è¡¨</span><span class="err">ã€‚</span><span class="n">è¯¥å›¾ä»…ä»…åªæœ‰ä¸€ä¸ªå€¼ä¸º</span> <span class="mi">1</span> <span class="n">çš„èŠ‚ç‚¹</span><span class="err">ï¼Œ</span><span class="n">å®ƒæ²¡æœ‰ä»»ä½•é‚»å±…</span><span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="n">è¾“å…¥</span><span class="err">ï¼š</span><span class="n">adjList</span> <span class="o">=</span> <span class="o">[]</span>
<span class="n">è¾“å‡º</span><span class="err">ï¼š</span><span class="o">[]</span>
<span class="n">è§£é‡Š</span><span class="err">ï¼š</span><span class="n">è¿™ä¸ªå›¾æ˜¯ç©ºçš„</span><span class="err">ï¼Œ</span><span class="n">å®ƒä¸å«ä»»ä½•èŠ‚ç‚¹</span><span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">è¾“å…¥</span><span class="err">ï¼š</span><span class="n">adjList</span> <span class="o">=</span> <span class="o">[[</span><span class="mi">2</span><span class="o">],[</span><span class="mi">1</span><span class="o">]]</span>
<span class="n">è¾“å‡º</span><span class="err">ï¼š</span><span class="o">[[</span><span class="mi">2</span><span class="o">],[</span><span class="mi">1</span><span class="o">]]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æç¤ºï¼š</p>

<ul>
  <li>èŠ‚ç‚¹æ•°ä¸è¶…è¿‡ 100 ã€‚</li>
  <li>æ¯ä¸ªèŠ‚ç‚¹å€¼ Node.val éƒ½æ˜¯å”¯ä¸€çš„ï¼Œ1 &lt;= Node.val &lt;= 100ã€‚</li>
  <li>æ— å‘å›¾æ˜¯ä¸€ä¸ªç®€å•å›¾ï¼Œè¿™æ„å‘³ç€å›¾ä¸­æ²¡æœ‰é‡å¤çš„è¾¹ï¼Œä¹Ÿæ²¡æœ‰è‡ªç¯ã€‚</li>
  <li>ç”±äºå›¾æ˜¯æ— å‘çš„ï¼Œå¦‚æœèŠ‚ç‚¹ p æ˜¯èŠ‚ç‚¹ q çš„é‚»å±…ï¼Œé‚£ä¹ˆèŠ‚ç‚¹ q ä¹Ÿå¿…é¡»æ˜¯èŠ‚ç‚¹ p çš„é‚»å±…ã€‚</li>
  <li>å›¾æ˜¯è¿é€šå›¾ï¼Œä½ å¯ä»¥ä»ç»™å®šèŠ‚ç‚¹è®¿é—®åˆ°æ‰€æœ‰èŠ‚ç‚¹ã€‚</li>
</ul>

<h3 id="æ·±æœ">æ·±æœ</h3>

<p>ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥å­˜å‚¨å·²è®¿é—®é¡¶ç‚¹ï¼Œé”®æ˜¯åŸå›¾ä¸­çš„é¡¶ç‚¹ï¼Œå€¼æ˜¯æ‹·è´å›¾ä¸­å¯¹åº”çš„é¡¶ç‚¹ã€‚</p>

<p>ä»åŸå›¾çš„æŸä¸ªé¡¶ç‚¹å¼€å§‹éå†ï¼Œåˆ¤æ–­æ˜¯å¦ä»¥æ‹·è´ï¼Œè‹¥æ˜¯ï¼Œåˆ™è¿”å›å“ˆå¸Œè¡¨ä¸­çš„å€¼ï¼›å¦åˆ™ï¼Œæ‹·è´è¯¥é¡¶ç‚¹ï¼Œå¹¶æ”¾å…¥å“ˆå¸Œè¡¨ä¸­ï¼Œéšå³éå†è¯¥é¡¶ç‚¹çš„é‚»å±…ï¼Œæ‰§è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå¹¶å°†è¿”å›å€¼èµ‹ç»™æ‹·è´é¡¶ç‚¹çš„é‚»æ¥è¡¨ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre></td><td class="rouge-code"><pre><span class="cm">/*
// Definition for a Node.
class Node {
    public int val;
    public List&lt;Node&gt; neighbors;
    
    public Node() {
        val = 0;
        neighbors = new ArrayList&lt;Node&gt;();
    }
    
    public Node(int _val) {
        val = _val;
        neighbors = new ArrayList&lt;Node&gt;();
    }
    
    public Node(int _val, ArrayList&lt;Node&gt; _neighbors) {
        val = _val;
        neighbors = _neighbors;
    }
}
*/</span>

<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Node</span><span class="o">,</span><span class="nc">Node</span><span class="o">&gt;</span> <span class="n">visited</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
    <span class="kd">public</span> <span class="nc">Node</span> <span class="nf">cloneGraph</span><span class="o">(</span><span class="nc">Node</span> <span class="n">node</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">node</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="k">return</span> <span class="n">node</span><span class="o">;</span>
        <span class="k">return</span> <span class="nf">dfs</span><span class="o">(</span><span class="n">node</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nc">Node</span> <span class="nf">dfs</span><span class="o">(</span><span class="nc">Node</span> <span class="n">node</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">visited</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">node</span><span class="o">))</span>
            <span class="k">return</span> <span class="n">visited</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">node</span><span class="o">);</span>
        <span class="nc">Node</span> <span class="n">myNode</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Node</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">val</span><span class="o">);</span>
        <span class="n">visited</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">node</span><span class="o">,</span><span class="n">myNode</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="nc">Node</span> <span class="n">n</span> <span class="o">:</span> <span class="n">node</span><span class="o">.</span><span class="na">neighbors</span><span class="o">){</span>
            <span class="n">myNode</span><span class="o">.</span><span class="na">neighbors</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">dfs</span><span class="o">(</span><span class="n">n</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">myNode</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å¹¿æœ">å¹¿æœ</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">Node</span> <span class="nf">cloneGraph</span><span class="o">(</span><span class="nc">Node</span> <span class="n">node</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">node</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">node</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Node</span><span class="o">,</span> <span class="nc">Node</span><span class="o">&gt;</span> <span class="n">visited</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">();</span>

        <span class="c1">// å°†é¢˜ç›®ç»™å®šçš„èŠ‚ç‚¹æ·»åŠ åˆ°é˜Ÿåˆ—</span>
        <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">Node</span><span class="o">&gt;</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">Node</span><span class="o">&gt;</span> <span class="o">();</span>
        <span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">node</span><span class="o">);</span>
        <span class="c1">// å…‹éš†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¹¶å­˜å‚¨åˆ°å“ˆå¸Œè¡¨ä¸­</span>
        <span class="n">visited</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">node</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Node</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">val</span><span class="o">,</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">()));</span>

        <span class="c1">// å¹¿åº¦ä¼˜å…ˆæœç´¢</span>
        <span class="k">while</span> <span class="o">(!</span><span class="n">queue</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="c1">// å–å‡ºé˜Ÿåˆ—çš„å¤´èŠ‚ç‚¹</span>
            <span class="nc">Node</span> <span class="n">n</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">remove</span><span class="o">();</span>
            <span class="c1">// éå†è¯¥èŠ‚ç‚¹çš„é‚»å±…</span>
            <span class="k">for</span> <span class="o">(</span><span class="nc">Node</span> <span class="nl">neighbor:</span> <span class="n">n</span><span class="o">.</span><span class="na">neighbors</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">visited</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">neighbor</span><span class="o">))</span> <span class="o">{</span>
                    <span class="c1">// å¦‚æœæ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œå°±å…‹éš†å¹¶å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­</span>
                    <span class="n">visited</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">neighbor</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Node</span><span class="o">(</span><span class="n">neighbor</span><span class="o">.</span><span class="na">val</span><span class="o">,</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">()));</span>
                    <span class="c1">// å°†é‚»å±…èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ä¸­</span>
                    <span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">neighbor</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="c1">// æ›´æ–°å½“å‰èŠ‚ç‚¹çš„é‚»å±…åˆ—è¡¨</span>
                <span class="n">visited</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">n</span><span class="o">).</span><span class="na">neighbors</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">visited</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">neighbor</span><span class="o">));</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">visited</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">node</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">ä½œè€…</span><span class="err">ï¼š</span><span class="nc">LeetCode</span><span class="o">-</span><span class="nc">Solution</span>
<span class="n">é“¾æ¥</span><span class="err">ï¼š</span><span class="nl">https:</span><span class="c1">//leetcode-cn.com/problems/clone-graph/solution/ke-long-tu-by-leetcode-solution/</span>
<span class="n">æ¥æº</span><span class="err">ï¼š</span><span class="n">åŠ›æ‰£</span><span class="err">ï¼ˆ</span><span class="nc">LeetCode</span><span class="err">ï¼‰</span>
<span class="n">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰</span><span class="err">ã€‚</span><span class="n">å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒ</span><span class="err">ï¼Œ</span><span class="n">éå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</span><span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="139å•è¯æ‹†åˆ†">139.å•è¯æ‹†åˆ†</h2>

<p>ç»™å®šä¸€ä¸ª<strong>éç©º</strong>å­—ç¬¦ä¸² <em>s</em> å’Œä¸€ä¸ªåŒ…å«<strong>éç©º</strong>å•è¯åˆ—è¡¨çš„å­—å…¸ <em>wordDict</em>ï¼Œåˆ¤å®š <em>s</em> æ˜¯å¦å¯ä»¥è¢«ç©ºæ ¼æ‹†åˆ†ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªåœ¨å­—å…¸ä¸­å‡ºç°çš„å•è¯ã€‚</p>

<p>è¯´æ˜ï¼š</p>

<p>æ‹†åˆ†æ—¶å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚
ä½ å¯ä»¥å‡è®¾å­—å…¸ä¸­æ²¡æœ‰é‡å¤çš„å•è¯ã€‚</p>

<p>ç¤ºä¾‹ 1ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>è¾“å…¥: s = "leetcode", wordDict = ["leet", "code"]
è¾“å‡º: true
è§£é‡Š: è¿”å› true å› ä¸º "leetcode" å¯ä»¥è¢«æ‹†åˆ†æˆ "leet code"ã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 2ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>è¾“å…¥: s = "applepenapple", wordDict = ["apple", "pen"]
è¾“å‡º: true
è§£é‡Š: è¿”å› true å› ä¸º "applepenapple" å¯ä»¥è¢«æ‹†åˆ†æˆ "apple pen apple"ã€‚
     æ³¨æ„ä½ å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 3ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>è¾“å…¥: s = "catsandog", wordDict = ["cats", "dog", "sand", "and", "cat"]
è¾“å‡º: false
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="åŠ¨æ€è§„åˆ’-2">åŠ¨æ€è§„åˆ’</h3>

<p>è®¾<code class="language-plaintext highlighter-rouge">dp[i]</code>ä¸ºå­—ç¬¦ä¸²å‰iä¸ªå­—ç¬¦ç»„æˆçš„å•è¯æ‹†åˆ†åï¼Œèƒ½å¦è¢«å­—å…¸è¡¨ç¤ºã€‚ä»¤<code class="language-plaintext highlighter-rouge">dp[0]=true</code>ï¼Œè¡¨ç¤ºç©ºå­—ç¬¦ä¸²èƒ½å¤Ÿè¢«è¡¨ç¤ºã€‚</p>

<p>å¯¹äºå­—ç¬¦ä¸²å‰<code class="language-plaintext highlighter-rouge">i</code>ä¸ªå­—ç¬¦ï¼Œåˆ¤æ–­å­ä¸²<code class="language-plaintext highlighter-rouge">[j,i-1]</code>èƒ½å¦è¢«å­—å…¸è¡¨ç¤ºã€‚ç›®å‰æˆ‘ä»¬å·²ç»ç¡®å®šäº†<code class="language-plaintext highlighter-rouge">dp[i-1]</code>çš„å€¼ï¼Œæ¥ä¸‹æ¥è¦ç¡®å®š<code class="language-plaintext highlighter-rouge">dp[i]</code>çš„å€¼ï¼Œä»å·¦å‘å³ç§»åŠ¨æŒ‡é’ˆ<code class="language-plaintext highlighter-rouge">j</code>,åˆ¤æ–­æ˜¯å¦æœ‰è¿™ä¹ˆä¸€ç§æƒ…å†µå‡ºç°ï¼šå³<code class="language-plaintext highlighter-rouge">d[j]=true</code>ï¼Œå¹¶ä¸”å­ä¸²<code class="language-plaintext highlighter-rouge">[j,i-1]</code>èƒ½å¤Ÿè¢«å­—å…¸è¡¨ç¤ºã€‚è¿™æ ·ä¸€æ¥ï¼Œå­—ç¬¦ä¸²çš„å‰<code class="language-plaintext highlighter-rouge">i</code>ä¸ªå­—ç¬¦ç»„æˆçš„å•è¯æ‹†åˆ†åä¹Ÿèƒ½å¤Ÿå­—å…¸è¡¨ç¤ºï¼Œä»¤<code class="language-plaintext highlighter-rouge">dp[i]=true</code>ã€‚</p>

<p>çŠ¶æ€æ–¹ç¨‹ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>						dp[i] = dp[j] &amp;&amp; isMatch(s.substring(j,i-1));
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ç­”æ¡ˆ">ç­”æ¡ˆ</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">wordBreak</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">wordDict</span><span class="o">)</span> <span class="o">{</span>
        
        <span class="kt">boolean</span><span class="o">[]</span> <span class="n">dp</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
        <span class="n">dp</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="c1">//dp[i]è¡¨ç¤ºå­—ç¬¦ä¸²sçš„å‰iä¸ªå­—ç¬¦ä¸²æ˜¯å¦èƒ½è¢«å­—å…¸è¡¨ç¤º</span>
        <span class="c1">//åˆå§‹åŒ–dp[0]ä¸ºtrue </span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="o">;</span> <span class="o">++</span><span class="n">j</span><span class="o">){</span>
                <span class="k">if</span><span class="o">(</span><span class="n">dp</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="n">wordDict</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">j</span><span class="o">,</span><span class="n">i</span><span class="o">))){</span>
                    <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">dp</span><span class="o">[</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()];</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="201æ•°å­—èŒƒå›´æŒ‰ä½ä¸">201.æ•°å­—èŒƒå›´æŒ‰ä½ä¸</h2>

<p>ç»™å®šèŒƒå›´ [m, n]ï¼Œå…¶ä¸­ 0 &lt;= m &lt;= n &lt;= 2147483647ï¼Œè¿”å›æ­¤èŒƒå›´å†…æ‰€æœ‰æ•°å­—çš„æŒ‰ä½ä¸ï¼ˆåŒ…å« m, n ä¸¤ç«¯ç‚¹ï¼‰ã€‚</p>

<p>ç¤ºä¾‹ 1:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nl">è¾“å…¥:</span> <span class="o">[</span><span class="mi">5</span><span class="o">,</span><span class="mi">7</span><span class="o">]</span>
<span class="nl">è¾“å‡º:</span> <span class="mi">4</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 2:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nl">è¾“å…¥:</span> <span class="o">[</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">]</span>
<span class="nl">è¾“å‡º:</span> <span class="mi">0</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="åˆ†ææ³•-æœ€é•¿å…¬å…±å‰ç¼€">åˆ†ææ³•-æœ€é•¿å…¬å…±å‰ç¼€</h3>

<p>é€šè¿‡åˆ†æï¼Œè‹¥må’Œnè½¬ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²åï¼Œé•¿åº¦ä¸ä¸€è‡´ï¼Œåˆ™åœ¨è¿™ä¸ªèŒƒå›´å†…æŒ‰ä½ä¸åï¼Œç»“æœå¿…ä¸º0ã€‚ä¾‹å¦‚ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>m = 11110011
n = 101101111
åœ¨èŒƒå›´[m,n]ä¸­ï¼Œè‚¯å®šä¼šå‡ºç°100000000çš„æƒ…å†µï¼Œæ‰€ä»¥æœ‰ï¼š
100000000 &amp; 101101111 = 100000000,ä¸”100000000 &amp; 11111111 = 000000000
æ‰€ä»¥ç»“æœä¸º0
</pre></td></tr></tbody></table></code></pre></div></div>

<p>é•¿åº¦ä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œç»“æœå°±æ˜¯må’Œnçš„æœ€é•¿å…¬å…±å‰ç¼€ã€‚</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>m = 101101101
n = 101101111
æœ€é•¿å‰ç¼€ä¸º1011011ï¼Œæœ€åä¸¤ä½éœ€è¦å½’0ï¼Œå› ä¸ºåœ¨èŒƒå›´[m,n]ä¸­ï¼Œä¼šå‡ºç°æ•°å­—101101100ä½¿å¾—æœ€ç»ˆç»“æœçš„ä¸¤ä½å½’0ã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">rangeBitwiseAnd</span><span class="o">(</span><span class="kt">int</span> <span class="n">m</span><span class="o">,</span> <span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">m</span> <span class="o">==</span> <span class="n">n</span><span class="o">)</span>  <span class="k">return</span> <span class="n">m</span><span class="o">;</span>

        <span class="nc">String</span> <span class="n">s1</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">toBinaryString</span><span class="o">(</span><span class="n">m</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">s2</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">toBinaryString</span><span class="o">(</span><span class="n">n</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">s1</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">!=</span> <span class="n">s2</span><span class="o">.</span><span class="na">length</span><span class="o">())</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>

        <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

        <span class="c1">//æ‰¾åˆ°ä¸¤ä¸ªå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªä¸åŒçš„ä½ç½®</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s1</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="k">if</span><span class="o">(</span><span class="n">s1</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">!=</span> <span class="n">s2</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)){</span>
                <span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="c1">//å–å‡ºå…¶å…¬å…±å‰ç¼€ï¼Œå‰©ä½™ä½éƒ½æ›¿æ¢ä¸º0</span>
        <span class="nc">String</span> <span class="n">sub1</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">index</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">sub2</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">index</span><span class="o">,</span><span class="n">s1</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
        <span class="n">sub2</span> <span class="o">=</span> <span class="n">sub2</span><span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">"1"</span><span class="o">,</span><span class="s">"0"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">res</span> <span class="o">=</span> <span class="n">sub1</span> <span class="o">+</span> <span class="n">sub2</span><span class="o">;</span>
        <span class="k">return</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseUnsignedInt</span><span class="o">(</span><span class="n">res</span><span class="o">,</span><span class="mi">2</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="209å¯»æ‰¾é•¿åº¦æœ€å°çš„å­æ•°ç»„">209.å¯»æ‰¾é•¿åº¦æœ€å°çš„å­æ•°ç»„</h2>

<p>ç»™å®šä¸€ä¸ªå«æœ‰ n ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° s ï¼Œæ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ â‰¥ s çš„é•¿åº¦æœ€å°çš„è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„è¿ç»­å­æ•°ç»„ï¼Œè¿”å› 0ã€‚</p>

<p>ç¤ºä¾‹:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>è¾“å…¥: s = 7, nums = [2,3,1,2,4,3]
è¾“å‡º: 2
è§£é‡Š: å­æ•°ç»„ [4,3] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„è¿ç»­å­æ•°ç»„ã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¿›é˜¶:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>å¦‚æœä½ å·²ç»å®Œæˆäº†O(n) æ—¶é—´å¤æ‚åº¦çš„è§£æ³•, è¯·å°è¯• O(n log n) æ—¶é—´å¤æ‚åº¦çš„è§£æ³•ã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="åŠ¨æ€è§„åˆ’-3">åŠ¨æ€è§„åˆ’</h3>

<p>dp[i]è¡¨ç¤ºæ•°ç»„numså‰iä¸ªå…ƒç´ ä¸­ï¼Œç¬¦åˆæ¡ä»¶çš„æœ€çŸ­æ•°ç»„é•¿åº¦ï¼Œä¸º0æ—¶è¡¨ç¤ºä¸ç¬¦åˆæ¡ä»¶ã€‚</p>

<p>çŠ¶æ€æ–¹ç¨‹ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>	dp[i] = min(f(i-1), f(i))
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">minSubArrayLen</span><span class="o">(</span><span class="kt">int</span> <span class="n">s</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">//dp[i]è¡¨ç¤ºæ•°ç»„numså‰iä¸ªå…ƒç´ ä¸­ï¼Œç¬¦åˆæ¡ä»¶çš„æœ€çŸ­æ•°ç»„é•¿åº¦ï¼Œä¸º0æ—¶è¡¨ç¤ºä¸ç¬¦åˆæ¡ä»¶</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">dp</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
        <span class="k">if</span><span class="o">(</span><span class="n">nums</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">boolean</span> <span class="n">yes</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">nums</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">&gt;=</span> <span class="n">s</span><span class="o">)</span>
            <span class="n">dp</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">else</span>
            <span class="n">dp</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">dp</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="kt">int</span> <span class="n">tmp</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="o">--</span><span class="n">j</span><span class="o">){</span>
                <span class="n">sum</span> <span class="o">+=</span> <span class="n">nums</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
                <span class="o">++</span><span class="n">tmp</span><span class="o">;</span>
                <span class="k">if</span><span class="o">(</span><span class="n">sum</span> <span class="o">&gt;=</span> <span class="n">s</span><span class="o">){</span>
                    <span class="n">yes</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">&gt;=</span> <span class="n">s</span> <span class="o">?</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">dp</span><span class="o">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">],</span> <span class="n">tmp</span><span class="o">)</span> <span class="o">:</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">];</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">yes</span> <span class="o">?</span> <span class="n">dp</span><span class="o">[</span><span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span> <span class="o">:</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="æš´åŠ›æ³•">æš´åŠ›æ³•</h3>

<p>æš´åŠ›æ³•æ˜¯æœ€ç›´è§‚çš„æ–¹æ³•ã€‚åˆå§‹åŒ–å­æ•°ç»„çš„æœ€å°é•¿åº¦ä¸ºæ— ç©·å¤§ï¼Œæšä¸¾æ•°ç»„<code class="language-plaintext highlighter-rouge">nums</code> ä¸­çš„æ¯ä¸ªä¸‹æ ‡ä½œä¸ºå­æ•°ç»„çš„å¼€å§‹ä¸‹æ ‡ï¼Œå¯¹äºæ¯ä¸ªå¼€å§‹ä¸‹æ ‡ <code class="language-plaintext highlighter-rouge">i</code>ï¼Œéœ€è¦æ‰¾åˆ°å¤§äºæˆ–ç­‰äº <code class="language-plaintext highlighter-rouge">i</code>çš„æœ€å°ä¸‹æ ‡ <code class="language-plaintext highlighter-rouge">j</code>ï¼Œä½¿å¾—ä»<code class="language-plaintext highlighter-rouge">nums[i]</code> åˆ°<code class="language-plaintext highlighter-rouge">nums[j] </code>çš„å…ƒç´ å’Œå¤§äºæˆ–ç­‰äº<code class="language-plaintext highlighter-rouge">s</code>ï¼Œå¹¶æ›´æ–°å­æ•°ç»„çš„æœ€å°é•¿åº¦ï¼ˆæ­¤æ—¶å­æ•°ç»„çš„é•¿åº¦æ˜¯ <code class="language-plaintext highlighter-rouge">j-i+1</code>ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">minSubArrayLen</span><span class="o">(</span><span class="kt">int</span> <span class="n">s</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">sum</span> <span class="o">+=</span> <span class="n">nums</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">sum</span> <span class="o">&gt;=</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">ans</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">ans</span><span class="o">,</span> <span class="n">j</span> <span class="o">-</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span> <span class="o">==</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å‰ç¼€å’ŒäºŒåˆ†æŸ¥æ‰¾">å‰ç¼€å’Œ+äºŒåˆ†æŸ¥æ‰¾</h3>

<p>ä¸ºäº†ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œéœ€è¦é¢å¤–åˆ›å»ºä¸€ä¸ªæ•°ç»„ <code class="language-plaintext highlighter-rouge">sums</code> ç”¨äºå­˜å‚¨æ•°ç»„<code class="language-plaintext highlighter-rouge"> nums</code> çš„å‰ç¼€å’Œï¼Œå…¶ä¸­ <code class="language-plaintext highlighter-rouge">sums[i]</code> è¡¨ç¤ºä»<code class="language-plaintext highlighter-rouge">nums[0]</code> åˆ°<code class="language-plaintext highlighter-rouge">nums[iâˆ’1]</code> çš„å…ƒç´ å’Œã€‚å¾—åˆ°å‰ç¼€å’Œä¹‹åï¼Œå¯¹äºæ¯ä¸ªå¼€å§‹ä¸‹æ ‡<code class="language-plaintext highlighter-rouge">i</code>ï¼Œå¯é€šè¿‡äºŒåˆ†æŸ¥æ‰¾å¾—åˆ°å¤§äºæˆ–ç­‰äº<code class="language-plaintext highlighter-rouge">i</code>çš„æœ€å°ä¸‹æ ‡ <code class="language-plaintext highlighter-rouge">bound</code>ï¼Œä½¿å¾—<code class="language-plaintext highlighter-rouge">sums[bound]âˆ’sums[iâˆ’1]â‰¥s</code>ï¼Œå¹¶æ›´æ–°å­æ•°ç»„çš„æœ€å°é•¿åº¦ï¼ˆæ­¤æ—¶å­æ•°ç»„çš„é•¿åº¦æ˜¯ <code class="language-plaintext highlighter-rouge">boundâˆ’(iâˆ’1)</code>ï¼‰ã€‚</p>

<p>å› ä¸ºè¿™é“é¢˜ä¿è¯äº†æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¸ºæ­£ï¼Œæ‰€ä»¥å‰ç¼€å’Œä¸€å®šæ˜¯é€’å¢çš„ï¼Œè¿™ä¸€ç‚¹ä¿è¯äº†äºŒåˆ†çš„æ­£ç¡®æ€§ã€‚å¦‚æœé¢˜ç›®æ²¡æœ‰è¯´æ˜æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¸ºæ­£ï¼Œè¿™é‡Œå°±ä¸èƒ½ä½¿ç”¨äºŒåˆ†æ¥æŸ¥æ‰¾è¿™ä¸ªä½ç½®äº†ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">minSubArrayLen</span><span class="o">(</span><span class="kt">int</span> <span class="n">s</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">;</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">sums</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span> 
        <span class="c1">// ä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œä»¤ size = n + 1 </span>
        <span class="c1">// sums[0] = 0 æ„å‘³ç€å‰ 0 ä¸ªå…ƒç´ çš„å‰ç¼€å’Œä¸º 0</span>
        <span class="c1">// sums[1] = A[0] å‰ 1 ä¸ªå…ƒç´ çš„å‰ç¼€å’Œä¸º A[0]</span>
        <span class="c1">// ä»¥æ­¤ç±»æ¨</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">sums</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">sums</span><span class="o">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">]</span> <span class="o">+</span> <span class="n">nums</span><span class="o">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">target</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="n">sums</span><span class="o">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
            <span class="kt">int</span> <span class="n">bound</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">binarySearch</span><span class="o">(</span><span class="n">sums</span><span class="o">,</span> <span class="n">target</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">bound</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">bound</span> <span class="o">=</span> <span class="o">-</span><span class="n">bound</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">bound</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">ans</span><span class="o">,</span> <span class="n">bound</span> <span class="o">-</span> <span class="o">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">));</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span> <span class="o">==</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="åŒæŒ‡é’ˆ">åŒæŒ‡é’ˆ</h3>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_é•¿åº¦æœ€å°çš„å­æ•°ç»„.png" alt="leetcode_é•¿åº¦æœ€å°çš„å­æ•°ç»„" /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">minSubArrayLen</span><span class="o">(</span><span class="kt">int</span> <span class="n">s</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">end</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">sum</span> <span class="o">+=</span> <span class="n">nums</span><span class="o">[</span><span class="n">end</span><span class="o">];</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">sum</span> <span class="o">&gt;=</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">ans</span><span class="o">,</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
                <span class="n">sum</span> <span class="o">-=</span> <span class="n">nums</span><span class="o">[</span><span class="n">start</span><span class="o">];</span>
                <span class="n">start</span><span class="o">++;</span>
            <span class="o">}</span>
            <span class="n">end</span><span class="o">++;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span> <span class="o">==</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="215æ•°ç»„ä¸­çš„ç¬¬kå¤§å…ƒç´ ">215.æ•°ç»„ä¸­çš„ç¬¬kå¤§å…ƒç´ </h2>

<p>åœ¨æœªæ’åºçš„æ•°ç»„ä¸­æ‰¾åˆ°ç¬¬ <strong>k</strong> ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚è¯·æ³¨æ„ï¼Œä½ éœ€è¦æ‰¾çš„æ˜¯æ•°ç»„æ’åºåçš„ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ k ä¸ªä¸åŒçš„å…ƒç´ ã€‚</p>

<p>ç¤ºä¾‹ 1:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>è¾“å…¥: [3,2,1,5,6,4] å’Œ k = 2
è¾“å‡º: 5
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 2:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>è¾“å…¥: [3,2,3,1,2,4,5,5,6] å’Œ k = 4
è¾“å‡º: 4
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¯´æ˜:	ä½ å¯ä»¥å‡è®¾ k æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œä¸” 1 â‰¤ k â‰¤ æ•°ç»„çš„é•¿åº¦ã€‚</p>

<h3 id="åŸºäºå¿«é€Ÿæ’åºçš„é€‰æ‹©æ–¹æ³•">åŸºäºå¿«é€Ÿæ’åºçš„é€‰æ‹©æ–¹æ³•</h3>

<p>æ¯å®Œæˆä¸€è½®å¿«é€Ÿæ’åºï¼Œå°±æœ‰ä¸€ä¸ªå…ƒç´ è¢«æ”¾åœ¨æ­£ç¡®çš„ä½ç½®ä¸Šï¼Œæ‰€ä»¥è¦æ‰¾åˆ°æ•°ç»„ç¬¬kå¤§çš„å…ƒç´ ï¼Œåªéœ€åœ¨ç¬¬kå¤§çš„å…ƒç´ è¢«æ”¾ç½®åœ¨æ­£ç¡®çš„ä½ç½®ä¸Šæ—¶ï¼Œè¿”å›å…¶å€¼å³å¯ã€‚ä¸ºäº†æé«˜å¿«é€Ÿæ’åºçš„æ€§èƒ½ï¼Œpivotçš„é€‰æ‹©é‡‡ç”¨éšæœºæ•°çš„æ–¹å¼ï¼Œè¿™æ ·å¯ä»¥é¿å…æ¯æ¬¡éƒ½å°†æ•°ç»„åˆ†ä¸º1å’Œn-1çš„æç«¯æƒ…å†µã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
        <span class="nc">Random</span> <span class="n">random</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Random</span><span class="o">();</span>

        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">findKthLargest</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="nf">quickSelect</span><span class="o">(</span><span class="n">nums</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="n">k</span><span class="o">);</span>
        <span class="o">}</span>
				<span class="c1">//å¿«é€Ÿé€‰æ‹©ç®—æ³•</span>
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">quickSelect</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">l</span><span class="o">,</span> <span class="kt">int</span> <span class="n">r</span><span class="o">,</span> <span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">q</span> <span class="o">=</span> <span class="n">randomPartition</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">l</span><span class="o">,</span> <span class="n">r</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">q</span> <span class="o">==</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">a</span><span class="o">[</span><span class="n">q</span><span class="o">];</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">q</span> <span class="o">&lt;</span> <span class="n">index</span> <span class="o">?</span> <span class="n">quickSelect</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">q</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">r</span><span class="o">,</span> <span class="n">index</span><span class="o">)</span> <span class="o">:</span> <span class="n">quickSelect</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">l</span><span class="o">,</span> <span class="n">q</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span> <span class="n">index</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
			<span class="c1">//éšæœºé€‰æ‹©pivot</span>
       <span class="kd">public</span> <span class="kt">int</span> <span class="nf">randomPartition</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">l</span><span class="o">,</span> <span class="kt">int</span> <span class="n">r</span><span class="o">){</span>
            <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">r</span><span class="o">-</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">+</span> <span class="n">l</span><span class="o">;</span>
            <span class="n">swap</span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="n">i</span><span class="o">,</span><span class="n">l</span><span class="o">);</span>
            <span class="k">return</span> <span class="nf">partition</span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="n">l</span><span class="o">,</span><span class="n">r</span><span class="o">);</span>
       <span class="o">}</span>

       <span class="kd">public</span> <span class="kt">int</span> <span class="nf">partition</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">l</span><span class="o">,</span> <span class="kt">int</span> <span class="n">r</span><span class="o">){</span>
            <span class="c1">//å–ç¬¬lä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†ï¼Œæ­¤æ—¶å·²ç»åœ¨randomPartitionä¸­éšæœºé€‰æ‹©äº†ä¸€ä¸ªæ•°æ”¾åœ¨äº†lä½ç½®</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">a</span><span class="o">[</span><span class="n">l</span><span class="o">];</span>
						
            <span class="k">while</span><span class="o">(</span><span class="n">l</span> <span class="o">&lt;</span> <span class="n">r</span><span class="o">){</span>
                <span class="k">while</span><span class="o">(</span><span class="n">l</span> <span class="o">&lt;</span> <span class="n">r</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">a</span><span class="o">[</span><span class="n">r</span><span class="o">])</span> <span class="o">--</span><span class="n">r</span><span class="o">;</span>
                <span class="n">a</span><span class="o">[</span><span class="n">l</span><span class="o">]</span> <span class="o">=</span> <span class="n">a</span><span class="o">[</span><span class="n">r</span><span class="o">];</span>
                <span class="k">while</span><span class="o">(</span><span class="n">l</span> <span class="o">&lt;</span> <span class="n">r</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="n">a</span><span class="o">[</span><span class="n">l</span><span class="o">])</span> <span class="o">++</span><span class="n">l</span><span class="o">;</span>
                <span class="n">a</span><span class="o">[</span><span class="n">r</span><span class="o">]</span> <span class="o">=</span> <span class="n">a</span><span class="o">[</span><span class="n">l</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="n">a</span><span class="o">[</span><span class="n">l</span><span class="o">]</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
            <span class="k">return</span> <span class="n">l</span><span class="o">;</span>
       <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">swap</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">j</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            <span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">a</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="n">a</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="åŸºäºå †æ’åºçš„é€‰æ‹©æ–¹æ³•">åŸºäºå †æ’åºçš„é€‰æ‹©æ–¹æ³•</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">findKthLargest</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">heapSize</span> <span class="o">=</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="n">buildMaxHeap</span><span class="o">(</span><span class="n">nums</span><span class="o">,</span> <span class="n">heapSize</span><span class="o">);</span>
        <span class="c1">//æ’åºå‡ºæ•°ç»„çš„åk-1ä¸ªå…ƒç´ </span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span> <span class="o">--</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">swap</span><span class="o">(</span><span class="n">nums</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">i</span><span class="o">);</span>
            <span class="o">--</span><span class="n">heapSize</span><span class="o">;</span>
            <span class="n">maxHeapify</span><span class="o">(</span><span class="n">nums</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">heapSize</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="c1">//å‰k-1å¤§çš„å…ƒç´ å·²ç»è¢«æ’åºåˆ°æ•°ç»„çš„åæ–¹ï¼Œåˆ™æœ€å¤§å †çš„æ ¹èŠ‚ç‚¹å°±æ˜¯ç¬¬kå¤§å…ƒç´ </span>
        <span class="k">return</span> <span class="n">nums</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">buildMaxHeap</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">heapSize</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">heapSize</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="o">--</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">maxHeapify</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">i</span><span class="o">,</span> <span class="n">heapSize</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">maxHeapify</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">heapSize</span><span class="o">){</span>
        <span class="kt">int</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span><span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">heapSize</span><span class="o">;</span> <span class="n">j</span> <span class="o">=</span><span class="mi">2</span> <span class="o">*</span> <span class="n">j</span> <span class="o">+</span><span class="mi">1</span><span class="o">){</span>
<span class="c1">//            è‹¥å³å­©å­å¤§äºå·¦å­©å­</span>
            <span class="k">if</span><span class="o">(</span><span class="n">a</span><span class="o">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">&gt;</span> <span class="n">a</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">heapSize</span><span class="o">)</span>
                <span class="o">++</span><span class="n">j</span><span class="o">;</span>
            <span class="c1">//å¦‚æœå½“å‰å€¼å·²ç»æ˜¯æœ€å¤§å€¼ï¼Œåˆ™ä¸åšæ“ä½œ</span>
            <span class="k">if</span><span class="o">(</span><span class="n">tmp</span> <span class="o">&gt;</span> <span class="n">a</span><span class="o">[</span><span class="n">j</span><span class="o">])</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="c1">//è‹¥çˆ¶èŠ‚ç‚¹çš„å€¼å°äºå…¶å­èŠ‚ç‚¹æœ€å¤§å€¼ï¼Œåˆ™å°†å­èŠ‚ç‚¹çš„å€¼èµ‹ç»™çˆ¶èŠ‚ç‚¹</span>
            <span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">a</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="c1">//è®°å½•åŸæ¥çˆ¶èŠ‚ç‚¹å€¼åº”è¯¥æ”¾ç½®çš„ä½ç½®</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="c1">//æ”¾ç½®çˆ¶èŠ‚ç‚¹</span>
        <span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">swap</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">j</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
        <span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">a</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
        <span class="n">a</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="309æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ">309.æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ</h2>

<p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå…¶ä¸­ç¬¬ i ä¸ªå…ƒç´ ä»£è¡¨äº†ç¬¬ i å¤©çš„è‚¡ç¥¨ä»·æ ¼ ã€‚</p>

<p>è®¾è®¡ä¸€ä¸ªç®—æ³•è®¡ç®—å‡ºæœ€å¤§åˆ©æ¶¦ã€‚åœ¨æ»¡è¶³ä»¥ä¸‹çº¦æŸæ¡ä»¶ä¸‹ï¼Œä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰:</p>

<p>ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚
å–å‡ºè‚¡ç¥¨åï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒå¤©ä¹°å…¥è‚¡ç¥¨ (å³å†·å†»æœŸä¸º 1 å¤©)ã€‚
ç¤ºä¾‹:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>è¾“å…¥: [1,2,3,0,2]
è¾“å‡º: 3 
è§£é‡Š: å¯¹åº”çš„äº¤æ˜“çŠ¶æ€ä¸º: [ä¹°å…¥, å–å‡º, å†·å†»æœŸ, ä¹°å…¥, å–å‡º]
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="åŠ¨æ€è§„åˆ’-4">åŠ¨æ€è§„åˆ’</h3>

<p>è®¾<code class="language-plaintext highlighter-rouge">dp[i]</code>ä¸ºç¬¬<code class="language-plaintext highlighter-rouge">i</code>å¤©ç»“æŸåï¼Œæœ€å¤§çš„ç´¯ç§¯æ”¶ç›Šã€‚ç¬¬<code class="language-plaintext highlighter-rouge">i</code>å¤©ç»“æŸåæœ‰3ç§çŠ¶æ€ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="p">1.</span> æŒæœ‰ä¸€æ”¯è‚¡ç¥¨ï¼Œå¯¹åº”çš„ç´¯ç§¯æœ€å¤§æ”¶ç›Šä¸º<span class="sb">`dp[i][0]`</span>;
<span class="p">2.</span> ä¸æŒæœ‰ä»»ä½•è‚¡ç¥¨ï¼Œå¹¶å¤„äºå†·å†»æœŸï¼Œç´¯è®¡æœ€å¤§æ”¶ç›Šä¸º<span class="sb">`dp[i][1]`</span>;
<span class="p">3.</span> ä¸æŒæœ‰ä»»ä½•è‚¡ç¥¨ï¼Œå¹¶ä¸å¤„äºå†·å†»æœŸï¼Œç´¯è®¡æœ€å¤§æ”¶ç›Šä¸º<span class="sb">`dp[i][2]`</span>;
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¬¬<code class="language-plaintext highlighter-rouge">i</code>å¤©çš„çŠ¶æ€ç”±ç¬¬<code class="language-plaintext highlighter-rouge">i-1</code>å¤©çŠ¶æ€è½¬ç§»è€Œæ¥ï¼Œé’ˆå¯¹ä»¥ä¸Šä¸‰ç§çŠ¶æ€ï¼Œåˆ†åˆ«æœ‰å¦‚ä¸‹å¯èƒ½ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="p">1.</span> å½“å‡ºç°çŠ¶æ€1æ—¶ï¼Œè¯´æ˜ç¬¬iå¤©ç»“æŸåæŒæœ‰ä¸€æ”¯è‚¡ç¥¨ï¼Œè‚¡ç¥¨æ¥æºå¯èƒ½æ˜¯
		ç¬¬i-1å¤©å°±æŒæœ‰çš„ï¼Œé‚£ä¹ˆdp<span class="p">[</span><span class="nv">i</span><span class="p">][</span><span class="ss">0</span><span class="p">]</span> = dp<span class="p">[</span><span class="nv">i-1</span><span class="p">][</span><span class="ss">0</span><span class="p">]</span>;
		ç¬¬iå¤©ä¹°å…¥çš„ï¼Œé‚£ä¹ˆç¬¬i-1å¤©ç»“æŸåå°±ä¸å¯èƒ½æŒæœ‰è‚¡ç¥¨ï¼Œä¸”ä¸å¯èƒ½å¤„äºå†·å†»æœŸï¼Œåˆ™
								dp<span class="p">[</span><span class="nv">i</span><span class="p">][</span><span class="ss">0</span><span class="p">]</span>=dp<span class="p">[</span><span class="nv">i-1</span><span class="p">][</span><span class="ss">2</span><span class="p">]</span>-prices[i];
		ç»¼ä¸Šï¼šdp<span class="p">[</span><span class="nv">i</span><span class="p">][</span><span class="ss">0</span><span class="p">]</span> = max(dp<span class="p">[</span><span class="nv">i-1</span><span class="p">][</span><span class="ss">0</span><span class="p">]</span>, dp<span class="p">[</span><span class="nv">i-1</span><span class="p">][</span><span class="ss">2</span><span class="p">]</span>-prices[i]);
<span class="p">
2.</span> å½“å‡ºç°çŠ¶æ€2æ—¶ï¼Œè¯´æ˜ç¬¬iå¤©ç»“æŸåä¸æŒæœ‰è‚¡ç¥¨ï¼Œå¹¶å¤„äºå†·å†»æœŸï¼Œè¯´æ˜ç¬¬iå¤©å–å‡ºäº†è‚¡ç¥¨ï¼Œåˆ™åªæœ‰ä¸€ç§å¯èƒ½ï¼Œå³ç¬¬i-1å¤©æŒæœ‰ä¸€æ”¯è‚¡ç¥¨ï¼š
		dp<span class="p">[</span><span class="nv">i</span><span class="p">][</span><span class="ss">1</span><span class="p">]</span> = dp<span class="p">[</span><span class="nv">i-1</span><span class="p">][</span><span class="ss">0</span><span class="p">]</span>;
<span class="p">3.</span> å½“å‡ºç°çŠ¶æ€3æ—¶ï¼Œè¯´æ˜ç¬¬iå¤©ç»“æŸåä¸æŒæœ‰è‚¡ç¥¨ï¼Œå¹¶ä¸å¤„äºå†·å†»æœŸï¼Œè¯´æ˜åœ¨ç¬¬iå¤©æœªä¹°å…¥ä¹Ÿæœªå–å‡ºè‚¡ç¥¨ï¼Œåˆ™æœ‰ä¸¤ç§å¯èƒ½ï¼Œå³ç¬¬i-1å¤©ä¸æŒæœ‰è‚¡ç¥¨ï¼Œå¹¶å¤„äºå†·å†»æœŸï¼›æˆ–ç¬¬i-1å¤©ä¸æŒæœ‰è‚¡ç¥¨ï¼Œå¹¶ä¸å¤„äºå†·å†»æœŸï¼š
		dp<span class="p">[</span><span class="nv">i</span><span class="p">][</span><span class="ss">1</span><span class="p">]</span> = max(dp<span class="p">[</span><span class="nv">i-1</span><span class="p">][</span><span class="ss">1</span><span class="p">]</span>, dp<span class="p">[</span><span class="nv">i-1</span><span class="p">][</span><span class="ss">2</span><span class="p">]</span>);
</pre></td></tr></tbody></table></code></pre></div></div>

<p>åˆå§‹æ¡ä»¶ï¼š<code class="language-plaintext highlighter-rouge">dp[0][0]</code>è¡¨ç¤ºç¬¬1å¤©ç»“æŸåï¼ŒæŒæœ‰ä¸€æ”¯è‚¡ç¥¨ï¼Œåˆ™<code class="language-plaintext highlighter-rouge">dp[0][0] = -prices[0]</code>ï¼Œ<code class="language-plaintext highlighter-rouge">dp[0][1]</code>å’Œ<code class="language-plaintext highlighter-rouge">dp[0][2]</code>å‡ä¸º0ï¼›</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">maxProfit</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">prices</span><span class="o">)</span> <span class="o">{</span>

        <span class="k">if</span><span class="o">(</span><span class="n">prices</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>

        <span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="kt">int</span><span class="o">[][]</span> <span class="n">dp</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="mi">3</span><span class="o">];</span>
        <span class="n">dp</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">prices</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>


        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">l</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">],</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="mi">2</span><span class="o">]-</span><span class="n">prices</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
            <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="n">prices</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">2</span><span class="o">]</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="mi">1</span><span class="o">],</span><span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="mi">2</span><span class="o">]);</span>
        <span class="o">}</span>

        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="n">dp</span><span class="o">[</span><span class="n">l</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">&gt;</span> <span class="n">dp</span><span class="o">[</span><span class="n">l</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">?</span> <span class="n">dp</span><span class="o">[</span><span class="n">l</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">:</span> <span class="n">dp</span><span class="o">[</span><span class="n">l</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="mi">1</span><span class="o">];</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">res</span> <span class="o">&gt;</span> <span class="n">dp</span><span class="o">[</span><span class="n">l</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="mi">2</span><span class="o">]</span> <span class="o">?</span> <span class="n">res</span> <span class="o">:</span> <span class="n">dp</span><span class="o">[</span><span class="n">l</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="mi">2</span><span class="o">];</span>

        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ç©ºé—´ä¼˜åŒ–">ç©ºé—´ä¼˜åŒ–</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">maxProfit</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">prices</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">prices</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">f0</span> <span class="o">=</span> <span class="o">-</span><span class="n">prices</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
        <span class="kt">int</span> <span class="n">f1</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">f2</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">newf0</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">f0</span><span class="o">,</span> <span class="n">f2</span> <span class="o">-</span> <span class="n">prices</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
            <span class="kt">int</span> <span class="n">newf1</span> <span class="o">=</span> <span class="n">f0</span> <span class="o">+</span> <span class="n">prices</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            <span class="kt">int</span> <span class="n">newf2</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">f1</span><span class="o">,</span> <span class="n">f2</span><span class="o">);</span>
            <span class="n">f0</span> <span class="o">=</span> <span class="n">newf0</span><span class="o">;</span>
            <span class="n">f1</span> <span class="o">=</span> <span class="n">newf1</span><span class="o">;</span>
            <span class="n">f2</span> <span class="o">=</span> <span class="n">newf2</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">f1</span><span class="o">,</span> <span class="n">f2</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="332-é‡æ–°å®‰æ’è¡Œç¨‹">332. é‡æ–°å®‰æ’è¡Œç¨‹</h2>

<p>ç»™å®šä¸€ä¸ªæœºç¥¨çš„å­—ç¬¦ä¸²äºŒç»´æ•°ç»„ [from, to]ï¼Œå­æ•°ç»„ä¸­çš„ä¸¤ä¸ªæˆå‘˜åˆ†åˆ«è¡¨ç¤ºé£æœºå‡ºå‘å’Œé™è½çš„æœºåœºåœ°ç‚¹ï¼Œå¯¹è¯¥è¡Œç¨‹è¿›è¡Œé‡æ–°è§„åˆ’æ’åºã€‚æ‰€æœ‰è¿™äº›æœºç¥¨éƒ½å±äºä¸€ä¸ªä» JFKï¼ˆè‚¯å°¼è¿ªå›½é™…æœºåœºï¼‰å‡ºå‘çš„å…ˆç”Ÿï¼Œæ‰€ä»¥è¯¥è¡Œç¨‹å¿…é¡»ä» JFK å¼€å§‹ã€‚</p>

<p>è¯´æ˜:</p>

<ol>
  <li>å¦‚æœå­˜åœ¨å¤šç§æœ‰æ•ˆçš„è¡Œç¨‹ï¼Œä½ å¯ä»¥æŒ‰å­—ç¬¦è‡ªç„¶æ’åºè¿”å›æœ€å°çš„è¡Œç¨‹ç»„åˆã€‚ä¾‹å¦‚ï¼Œè¡Œç¨‹ [â€œJFKâ€, â€œLGAâ€] ä¸ [â€œJFKâ€, â€œLGBâ€] ç›¸æ¯”å°±æ›´å°ï¼Œæ’åºæ›´é å‰</li>
  <li>æ‰€æœ‰çš„æœºåœºéƒ½ç”¨ä¸‰ä¸ªå¤§å†™å­—æ¯è¡¨ç¤ºï¼ˆæœºåœºä»£ç ï¼‰ã€‚</li>
  <li>å‡å®šæ‰€æœ‰æœºç¥¨è‡³å°‘å­˜åœ¨ä¸€ç§åˆç†çš„è¡Œç¨‹ã€‚</li>
</ol>

<p>ç¤ºä¾‹ 1:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>è¾“å…¥: [["MUC", "LHR"], ["JFK", "MUC"], ["SFO", "SJC"], ["LHR", "SFO"]]
è¾“å‡º: ["JFK", "MUC", "LHR", "SFO", "SJC"]
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 2:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>è¾“å…¥: [["JFK","SFO"],["JFK","ATL"],["SFO","ATL"],["ATL","JFK"],["ATL","SFO"]]
è¾“å‡º: ["JFK","ATL","JFK","SFO","ATL","SFO"]
è§£é‡Š: å¦ä¸€ç§æœ‰æ•ˆçš„è¡Œç¨‹æ˜¯ ["JFK","SFO","ATL","JFK","ATL","SFO"]ã€‚ä½†æ˜¯å®ƒè‡ªç„¶æ’åºæ›´å¤§æ›´é åã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<p>åŒ–ç®€é¢˜æ„ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>ç»™å®šä¸€ä¸ªnä¸ªç‚¹mæ¡è¾¹çš„å›¾ï¼Œè¦æ±‚ä»æŒ‡å®šé¡¶ç‚¹å‡ºå‘ï¼Œç»è¿‡æ‰€æœ‰è¾¹æ°å¥½ä¸€æ¬¡ï¼Œå¹¶ä¸”è·¯å¾„çš„å­—å…¸åºæœ€å°ã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¿™ç§ã€Œä¸€ç¬”ç”»ã€é—®é¢˜ä¸æ¬§æ‹‰å›¾æˆ–è€…åŠæ¬§æ‹‰å›¾æœ‰ç€ç´§å¯†çš„è”ç³»ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="p">*</span>	é€šè¿‡å›¾ä¸­æ‰€æœ‰è¾¹æ°å¥½ä¸€æ¬¡ä¸”è¡Œéæ‰€æœ‰é¡¶ç‚¹çš„é€šè·¯ç§°ä¸ºæ¬§æ‹‰é€šè·¯ã€‚
<span class="p">*</span>	é€šè¿‡å›¾ä¸­æ‰€æœ‰è¾¹æ°å¥½ä¸€æ¬¡ä¸”è¡Œéæ‰€æœ‰é¡¶ç‚¹çš„å›è·¯ç§°ä¸ºæ¬§æ‹‰å›è·¯ã€‚
<span class="p">*</span>	å…·æœ‰æ¬§æ‹‰å›è·¯çš„æ— å‘å›¾ç§°ä¸ºæ¬§æ‹‰å›¾ã€‚
<span class="p">*</span>	å…·æœ‰æ¬§æ‹‰é€šè·¯ä½†ä¸å…·æœ‰æ¬§æ‹‰å›è·¯çš„æ— å‘å›¾ç§°ä¸ºåŠæ¬§æ‹‰å›¾ã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å› ä¸ºæœ¬é¢˜ä¿è¯è‡³å°‘å­˜åœ¨ä¸€ç§åˆç†çš„è·¯å¾„ï¼Œä¹Ÿå°±å‘Šè¯‰äº†æˆ‘ä»¬ï¼Œè¿™å¼ å›¾æ˜¯ä¸€ä¸ªæ¬§æ‹‰å›¾æˆ–è€…åŠæ¬§æ‹‰å›¾ã€‚</p>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_é‡æ–°å®‰æ’è¡Œç¨‹_1.png" alt="leetcode_é‡æ–°å®‰æ’è¡Œç¨‹_1" /></p>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_é‡æ–°å®‰æ’è¡Œç¨‹_2.png" alt="leetcode_é‡æ–°å®‰æ’è¡Œç¨‹_2" /></p>

<h3 id="æ’åº">æ’åº</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">findItinerary</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">tickets</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// å› ä¸ºé€†åºæ’å…¥ï¼Œæ‰€ä»¥ç”¨é“¾è¡¨</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">tickets</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">tickets</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
            <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">graph</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//å°†ticketsä¸­çš„æ‰€æœ‰è¾¹å’Œç‚¹éƒ½å¯¹åº”å­˜å…¥graphä¸­</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">pair</span> <span class="o">:</span> <span class="n">tickets</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// å› ä¸ºæ¶‰åŠåˆ é™¤æ“ä½œï¼Œæˆ‘ä»¬ç”¨é“¾è¡¨</span>
            <span class="c1">//å½“keyä¸å­˜åœ¨æ—¶ï¼Œå‘mapä¸­æ’å…¥(key=value);å½“keyå­˜åœ¨æ—¶ï¼Œè¿”å›æ—§å€¼</span>
<span class="c1">//            List&lt;String&gt; nbr = graph.computeIfAbsent(pair.get(0), k -&gt; new LinkedList&lt;&gt;());</span>
            <span class="c1">//æ‰€ä»¥ç†è®ºä¸Šè¿˜å¯ä»¥è¿™æ ·å†™</span>
            <span class="k">if</span><span class="o">(!</span><span class="n">graph</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">pair</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">))){</span><span class="c1">//ä¸å­˜åœ¨æ­¤key</span>
                <span class="c1">//æ–°å»ºä¸€é¡¹</span>
                <span class="n">graph</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">pair</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">),</span><span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;());</span>
            <span class="o">}</span>
            <span class="c1">//è·å–é‚»å±…åˆ—è¡¨ï¼Œå¹¶æ·»åŠ é¡¹</span>
            <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">nbr</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">pair</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
            <span class="n">nbr</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">pair</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">1</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="c1">// å°†æ¯ä¸ªé‚»å±…èŠ‚ç‚¹åˆ—è¡¨æŒ‰å­—å…¸åºæ’åº</span>
        <span class="n">graph</span><span class="o">.</span><span class="na">values</span><span class="o">().</span><span class="na">forEach</span><span class="o">(</span><span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="nl">String:</span><span class="o">:</span><span class="n">compareTo</span><span class="o">));</span>
        <span class="n">visit</span><span class="o">(</span><span class="n">graph</span><span class="o">,</span> <span class="s">"JFK"</span><span class="o">,</span> <span class="n">res</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="c1">// DFSæ–¹å¼éå†å›¾ï¼Œå½“èµ°åˆ°ä¸èƒ½èµ°ä¸ºæ­¢ï¼Œå†å°†èŠ‚ç‚¹åŠ å…¥åˆ°ç­”æ¡ˆ</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">visit</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">graph</span><span class="o">,</span> <span class="nc">String</span> <span class="n">src</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">res</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//è·å–srcçš„é‚»å±…åˆ—è¡¨</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">nbr</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">src</span><span class="o">);</span>
        <span class="c1">//nbrä¸ºç©ºæ—¶ï¼Œè¯´æ˜è¿™ä¸ªé¡¶ç‚¹ä»å§‹è‡³ç»ˆéƒ½æ²¡æœ‰é‚»å±…ï¼Œnbr.sizeç­‰äº0æ—¶ï¼Œè¯´æ˜è¿™ä¸ªé¡¶ç‚¹çš„é‚»å±…å·²ç»è¢«è®¿é—®å®Œäº†</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">nbr</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">nbr</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">//è®¿é—®ä¸€ä¸ªé‚»å±…</span>
            <span class="nc">String</span> <span class="n">dest</span> <span class="o">=</span> <span class="n">nbr</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
            <span class="c1">//DFS</span>
            <span class="n">visit</span><span class="o">(</span><span class="n">graph</span><span class="o">,</span> <span class="n">dest</span><span class="o">,</span> <span class="n">res</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">res</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">src</span><span class="o">);</span> <span class="c1">// é€†åºæ’å…¥</span>
    <span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="æœ€å°å †ä¼˜å…ˆé˜Ÿåˆ—ä»£æ›¿æ’åº">æœ€å°å †/ä¼˜å…ˆé˜Ÿåˆ—ä»£æ›¿æ’åºï¼š</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">findItinerary</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">tickets</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// å› ä¸ºé€†åºæ’å…¥ï¼Œæ‰€ä»¥ç”¨é“¾è¡¨</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">tickets</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">tickets</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
            <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">graph</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//å°†ticketsä¸­çš„æ‰€æœ‰è¾¹å’Œç‚¹éƒ½å¯¹åº”å­˜å…¥graphä¸­</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">pair</span> <span class="o">:</span> <span class="n">tickets</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// å› ä¸ºæ¶‰åŠåˆ é™¤æ“ä½œï¼Œæˆ‘ä»¬ç”¨é“¾è¡¨</span>
            <span class="c1">//å½“keyä¸å­˜åœ¨æ—¶ï¼Œå‘mapä¸­æ’å…¥(key=value);å½“keyå­˜åœ¨æ—¶ï¼Œè¿”å›æ—§å€¼</span>
<span class="c1">//            List&lt;String&gt; nbr = graph.computeIfAbsent(pair.get(0), k -&gt; new LinkedList&lt;&gt;());</span>
            <span class="c1">//æ‰€ä»¥ç†è®ºä¸Šè¿˜å¯ä»¥è¿™æ ·å†™</span>
            <span class="k">if</span><span class="o">(!</span><span class="n">graph</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">pair</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">))){</span><span class="c1">//ä¸å­˜åœ¨æ­¤key</span>
                <span class="c1">//æ–°å»ºä¸€é¡¹</span>
                <span class="n">graph</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">pair</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">),</span><span class="k">new</span> <span class="nc">PriorityQueue</span><span class="o">&lt;&gt;());</span>
            <span class="o">}</span>
            <span class="c1">//è·å–é‚»å±…åˆ—è¡¨ï¼Œå¹¶æ·»åŠ é¡¹</span>
            <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">nbr</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">pair</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
            <span class="n">nbr</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">pair</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">1</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="c1">// å°†æ¯ä¸ªé‚»å±…èŠ‚ç‚¹åˆ—è¡¨æŒ‰å­—å…¸åºæ’åº</span>
<span class="c1">//        graph.values().forEach(x -&gt; x.sort(String::compareTo));</span>
        <span class="n">visit</span><span class="o">(</span><span class="n">graph</span><span class="o">,</span> <span class="s">"JFK"</span><span class="o">,</span> <span class="n">res</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="c1">// DFSæ–¹å¼éå†å›¾ï¼Œå½“èµ°åˆ°ä¸èƒ½èµ°ä¸ºæ­¢ï¼Œå†å°†èŠ‚ç‚¹åŠ å…¥åˆ°ç­”æ¡ˆ</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">visit</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">graph</span><span class="o">,</span> <span class="nc">String</span> <span class="n">src</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">res</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//è·å–srcçš„é‚»å±…åˆ—è¡¨</span>
        <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">nbr</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">src</span><span class="o">);</span>
        <span class="c1">//nbrä¸ºç©ºæ—¶ï¼Œè¯´æ˜è¿™ä¸ªé¡¶ç‚¹ä»å§‹è‡³ç»ˆéƒ½æ²¡æœ‰é‚»å±…ï¼Œnbr.sizeç­‰äº0æ—¶ï¼Œè¯´æ˜è¿™ä¸ªé¡¶ç‚¹çš„é‚»å±…å·²ç»è¢«è®¿é—®å®Œäº†</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">nbr</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">nbr</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">//è®¿é—®ä¸€ä¸ªé‚»å±…</span>
            <span class="nc">String</span> <span class="n">dest</span> <span class="o">=</span> <span class="n">nbr</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
            <span class="c1">//DFS</span>
            <span class="n">visit</span><span class="o">(</span><span class="n">graph</span><span class="o">,</span> <span class="n">dest</span><span class="o">,</span> <span class="n">res</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">res</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">src</span><span class="o">);</span> <span class="c1">// é€†åºæ’å…¥</span>
    <span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ç”¨stackå®ç°è¿­ä»£ä»£æ›¿é€’å½’">ç”¨stackå®ç°è¿­ä»£ä»£æ›¿é€’å½’</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">findItinerary</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">tickets</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// å› ä¸ºé€†åºæ’å…¥ï¼Œæ‰€ä»¥ç”¨é“¾è¡¨</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">tickets</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">tickets</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
            <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">graph</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="c1">//å°†ticketsä¸­çš„æ‰€æœ‰è¾¹å’Œç‚¹éƒ½å¯¹åº”å­˜å…¥graphä¸­</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">pair</span> <span class="o">:</span> <span class="n">tickets</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// å› ä¸ºæ¶‰åŠåˆ é™¤æ“ä½œï¼Œæˆ‘ä»¬ç”¨é“¾è¡¨</span>
            <span class="c1">//å½“keyä¸å­˜åœ¨æ—¶ï¼Œå‘mapä¸­æ’å…¥(key=value);å½“keyå­˜åœ¨æ—¶ï¼Œè¿”å›æ—§å€¼</span>
<span class="c1">//            List&lt;String&gt; nbr = graph.computeIfAbsent(pair.get(0), k -&gt; new LinkedList&lt;&gt;());</span>
            <span class="c1">//æ‰€ä»¥ç†è®ºä¸Šè¿˜å¯ä»¥è¿™æ ·å†™</span>
            <span class="k">if</span><span class="o">(!</span><span class="n">graph</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">pair</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">))){</span><span class="c1">//ä¸å­˜åœ¨æ­¤key</span>
                <span class="c1">//æ–°å»ºä¸€é¡¹</span>
                <span class="n">graph</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">pair</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">),</span><span class="k">new</span> <span class="nc">PriorityQueue</span><span class="o">&lt;&gt;());</span>
            <span class="o">}</span>
            <span class="c1">//è·å–é‚»å±…åˆ—è¡¨ï¼Œå¹¶æ·»åŠ é¡¹</span>
            <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">nbr</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">pair</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
            <span class="n">nbr</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">pair</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">1</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="c1">// å°†æ¯ä¸ªé‚»å±…èŠ‚ç‚¹åˆ—è¡¨æŒ‰å­—å…¸åºæ’åº</span>
<span class="c1">//        graph.values().forEach(x -&gt; x.sort(String::compareTo));</span>
        <span class="n">visit</span><span class="o">(</span><span class="n">graph</span><span class="o">,</span> <span class="s">"JFK"</span><span class="o">,</span> <span class="n">res</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="c1">// DFSæ–¹å¼éå†å›¾ï¼Œå½“èµ°åˆ°ä¸èƒ½èµ°ä¸ºæ­¢ï¼Œå†å°†èŠ‚ç‚¹åŠ å…¥åˆ°ç­”æ¡ˆ</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">visit</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">graph</span><span class="o">,</span> <span class="nc">String</span> <span class="n">src</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">res</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Stack</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">stack</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Stack</span><span class="o">&lt;&gt;();</span>

        <span class="n">stack</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">src</span><span class="o">);</span>

        <span class="k">while</span> <span class="o">(!</span><span class="n">stack</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">nbr</span><span class="o">;</span>

            <span class="k">while</span> <span class="o">((</span><span class="n">nbr</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">stack</span><span class="o">.</span><span class="na">peek</span><span class="o">()))</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span>
                    <span class="n">nbr</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">stack</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">nbr</span><span class="o">.</span><span class="na">poll</span><span class="o">());</span>
            <span class="o">}</span>
            <span class="n">res</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">stack</span><span class="o">.</span><span class="na">pop</span><span class="o">());</span>
        <span class="o">}</span>

    <span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>å¦‚æœæ²¡æœ‰ä¿è¯è‡³å°‘å­˜åœ¨ä¸€ç§åˆç†çš„è·¯å¾„ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤åˆ«è¿™å¼ å›¾æ˜¯å¦æ˜¯æ¬§æ‹‰å›¾æˆ–è€…åŠæ¬§æ‹‰å›¾ï¼Œå…·ä½“åœ°ï¼š
<span class="p">
*</span> å¯¹äºæ— å‘å›¾ GGï¼ŒGG æ˜¯æ¬§æ‹‰å›¾å½“ä¸”ä»…å½“ GG æ˜¯è¿é€šçš„ä¸”æ²¡æœ‰å¥‡åº¦é¡¶ç‚¹ã€‚
<span class="p">*</span> å¯¹äºæ— å‘å›¾ GGï¼ŒGG æ˜¯åŠæ¬§æ‹‰å›¾å½“ä¸”ä»…å½“ GG æ˜¯è¿é€šçš„ä¸” GG ä¸­æ°æœ‰ 22 ä¸ªå¥‡åº¦é¡¶ç‚¹ã€‚
<span class="p">*</span> å¯¹äºæœ‰å‘å›¾ GGï¼ŒGG æ˜¯æ¬§æ‹‰å›¾å½“ä¸”ä»…å½“ GG çš„æ‰€æœ‰é¡¶ç‚¹å±äºåŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ä¸”æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦å’Œå‡ºåº¦ç›¸åŒã€‚
<span class="p">*</span> å¯¹äºæœ‰å‘å›¾ GGï¼ŒGG æ˜¯åŠæ¬§æ‹‰å›¾å½“ä¸”ä»…å½“ GG çš„æ‰€æœ‰é¡¶ç‚¹å±äºåŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ä¸”
<span class="p">*</span> æ°æœ‰ä¸€ä¸ªé¡¶ç‚¹çš„å‡ºåº¦ä¸å…¥åº¦å·®ä¸º 11ï¼›
<span class="p">*</span> æ°æœ‰ä¸€ä¸ªé¡¶ç‚¹çš„å…¥åº¦ä¸å‡ºåº¦å·®ä¸º 11ï¼›
<span class="p">*</span> æ‰€æœ‰å…¶ä»–é¡¶ç‚¹çš„å…¥åº¦å’Œå‡ºåº¦ç›¸åŒã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="336-å›æ–‡å¯¹">336. å›æ–‡å¯¹</h2>

<p>ç»™å®šä¸€ç»„ äº’ä¸ç›¸åŒ çš„å•è¯ï¼Œ æ‰¾å‡ºæ‰€æœ‰ä¸åŒ çš„ç´¢å¼•å¯¹(i, j)ï¼Œä½¿å¾—åˆ—è¡¨ä¸­çš„ä¸¤ä¸ªå•è¯ï¼Œ words[i] + words[j] ï¼Œå¯æ‹¼æ¥æˆå›æ–‡ä¸²ã€‚</p>

<p>ç¤ºä¾‹ 1ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>è¾“å…¥ï¼š["abcd","dcba","lls","s","sssll"]
è¾“å‡ºï¼š[[0,1],[1,0],[3,2],[2,4]] 
è§£é‡Šï¼šå¯æ‹¼æ¥æˆçš„å›æ–‡ä¸²ä¸º ["dcbaabcd","abcddcba","slls","llssssll"]
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 2ï¼š</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>è¾“å…¥ï¼š["bat","tab","cat"]
è¾“å‡ºï¼š[[0,1],[1,0]] 
è§£é‡Šï¼šå¯æ‹¼æ¥æˆçš„å›æ–‡ä¸²ä¸º ["battab","tabbat"]
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="æš´åŠ›éå†è¶…å‡ºæ—¶é—´é™åˆ¶">æš´åŠ›éå†(è¶…å‡ºæ—¶é—´é™åˆ¶)</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="nf">palindromePairs</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">words</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">words</span><span class="o">.</span><span class="na">length</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="o">)</span> <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;();</span>
        
        <span class="c1">//éå†æ‰€æœ‰çš„ç´¢å¼•å¯¹ï¼Œè‹¥æ‹¼æ¥åçš„å­—ç¬¦ä¸²æ˜¯å›æ–‡ä¸²åˆ™å°†ç´¢å¼•åŠ å…¥list</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">words</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">words</span><span class="o">.</span><span class="na">length</span><span class="o">;++</span><span class="n">j</span><span class="o">){</span>
                <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">tmp</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
                <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">tmp2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
                <span class="nc">String</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="n">words</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
                <span class="c1">//String s2 = words[j] + words[i];</span>
                <span class="k">if</span><span class="o">(</span><span class="n">isHWC</span><span class="o">(</span><span class="n">s1</span><span class="o">)){</span>
                    <span class="n">tmp</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                    <span class="n">tmp</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">j</span><span class="o">);</span>
                    <span class="n">res</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">tmp</span><span class="o">);</span>
                    
                <span class="o">}</span>
                <span class="k">if</span><span class="o">(</span><span class="n">isHWC</span><span class="o">(</span><span class="n">s2</span><span class="o">)){</span>
                    <span class="n">tmp2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">j</span><span class="o">);</span>
                    <span class="n">tmp2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                    <span class="n">res</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">tmp2</span><span class="o">);</span>
                <span class="o">}</span>  
            <span class="o">}</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>         
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isHWC</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">)</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span><span class="n">j</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()-</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span><span class="n">j</span><span class="o">;){</span>
            <span class="k">if</span><span class="o">(!(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span><span class="o">)))</span>
                <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>       
            <span class="n">i</span><span class="o">++;</span>
            <span class="n">j</span><span class="o">--;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å¯¹æš´åŠ›ä¼˜åŒ–">å¯¹æš´åŠ›ä¼˜åŒ–</h3>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_å›æ–‡å¯¹.png" alt="leetcode_å›æ–‡å¯¹" /></p>

<h3 id="å­—å…¸æ ‘è§£æ³•">å­—å…¸æ ‘è§£æ³•</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">Node</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">ch</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">26</span><span class="o">];</span>
        <span class="kt">int</span> <span class="n">flag</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">Node</span><span class="o">()</span> <span class="o">{</span>
            <span class="n">flag</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Node</span><span class="o">&gt;</span> <span class="n">tree</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Node</span><span class="o">&gt;();</span>

    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="nf">palindromePairs</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">words</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">tree</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Node</span><span class="o">());</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">words</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">insert</span><span class="o">(</span><span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">i</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">ret</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">length</span><span class="o">();</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">isPalindrome</span><span class="o">(</span><span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">j</span><span class="o">,</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="o">))</span> <span class="o">{</span>
                    <span class="kt">int</span> <span class="n">leftId</span> <span class="o">=</span> <span class="n">findWord</span><span class="o">(</span><span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="mi">0</span><span class="o">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">leftId</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">leftId</span> <span class="o">!=</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">ret</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">leftId</span><span class="o">));</span>
                    <span class="o">}</span>
                <span class="o">}</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">j</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">isPalindrome</span><span class="o">(</span><span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="mi">0</span><span class="o">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="o">))</span> <span class="o">{</span>
                    <span class="kt">int</span> <span class="n">rightId</span> <span class="o">=</span> <span class="n">findWord</span><span class="o">(</span><span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">j</span><span class="o">,</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">rightId</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">rightId</span> <span class="o">!=</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">ret</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">rightId</span><span class="o">,</span> <span class="n">i</span><span class="o">));</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ret</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">insert</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">,</span> <span class="kt">int</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">(),</span> <span class="n">add</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">len</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'a'</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">tree</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">add</span><span class="o">).</span><span class="na">ch</span><span class="o">[</span><span class="n">x</span><span class="o">]</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">tree</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Node</span><span class="o">());</span>
                <span class="n">tree</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">add</span><span class="o">).</span><span class="na">ch</span><span class="o">[</span><span class="n">x</span><span class="o">]</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">add</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">add</span><span class="o">).</span><span class="na">ch</span><span class="o">[</span><span class="n">x</span><span class="o">];</span>
        <span class="o">}</span>
        <span class="n">tree</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">add</span><span class="o">).</span><span class="na">flag</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isPalindrome</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">,</span> <span class="kt">int</span> <span class="n">left</span><span class="o">,</span> <span class="kt">int</span> <span class="n">right</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">right</span> <span class="o">-</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">len</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">i</span><span class="o">)</span> <span class="o">!=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">i</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">findWord</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">,</span> <span class="kt">int</span> <span class="n">left</span><span class="o">,</span> <span class="kt">int</span> <span class="n">right</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">add</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">right</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">left</span><span class="o">;</span> <span class="n">i</span><span class="o">--)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'a'</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">tree</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">add</span><span class="o">).</span><span class="na">ch</span><span class="o">[</span><span class="n">x</span><span class="o">]</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">add</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">add</span><span class="o">).</span><span class="na">ch</span><span class="o">[</span><span class="n">x</span><span class="o">];</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">tree</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">add</span><span class="o">).</span><span class="na">flag</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å“ˆå¸Œè¡¨è§£æ³•">å“ˆå¸Œè¡¨è§£æ³•</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">wordsRev</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
    <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">indices</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;();</span>

    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="nf">palindromePairs</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">words</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">words</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="nl">word:</span> <span class="n">words</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">wordsRev</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">StringBuffer</span><span class="o">(</span><span class="n">word</span><span class="o">).</span><span class="na">reverse</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">indices</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">wordsRev</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">),</span> <span class="n">i</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">ret</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">word</span> <span class="o">=</span> <span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">length</span><span class="o">();</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">m</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">continue</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">isPalindrome</span><span class="o">(</span><span class="n">word</span><span class="o">,</span> <span class="n">j</span><span class="o">,</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="o">))</span> <span class="o">{</span>
                    <span class="kt">int</span> <span class="n">leftId</span> <span class="o">=</span> <span class="n">findWord</span><span class="o">(</span><span class="n">word</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">leftId</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">leftId</span> <span class="o">!=</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">ret</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">leftId</span><span class="o">));</span>
                    <span class="o">}</span>
                <span class="o">}</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">j</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">isPalindrome</span><span class="o">(</span><span class="n">word</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="o">))</span> <span class="o">{</span>
                    <span class="kt">int</span> <span class="n">rightId</span> <span class="o">=</span> <span class="n">findWord</span><span class="o">(</span><span class="n">word</span><span class="o">,</span> <span class="n">j</span><span class="o">,</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">rightId</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">rightId</span> <span class="o">!=</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">ret</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">rightId</span><span class="o">,</span> <span class="n">i</span><span class="o">));</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ret</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isPalindrome</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">,</span> <span class="kt">int</span> <span class="n">left</span><span class="o">,</span> <span class="kt">int</span> <span class="n">right</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">right</span> <span class="o">-</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">len</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">i</span><span class="o">)</span> <span class="o">!=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">i</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">findWord</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">,</span> <span class="kt">int</span> <span class="n">left</span><span class="o">,</span> <span class="kt">int</span> <span class="n">right</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">indices</span><span class="o">.</span><span class="na">getOrDefault</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">left</span><span class="o">,</span> <span class="n">right</span> <span class="o">+</span> <span class="mi">1</span><span class="o">),</span> <span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="337-æ‰“å®¶åŠ«èˆ-3">337. æ‰“å®¶åŠ«èˆ 3</h2>

<p>åœ¨ä¸Šæ¬¡æ‰“åŠ«å®Œä¸€æ¡è¡—é“ä¹‹åå’Œä¸€åœˆæˆ¿å±‹åï¼Œå°å·åˆå‘ç°äº†ä¸€ä¸ªæ–°çš„å¯è¡Œçªƒçš„åœ°åŒºã€‚è¿™ä¸ªåœ°åŒºåªæœ‰ä¸€ä¸ªå…¥å£ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ ¹â€ã€‚ é™¤äº†â€œæ ¹â€ä¹‹å¤–ï¼Œæ¯æ ‹æˆ¿å­æœ‰ä¸”åªæœ‰ä¸€ä¸ªâ€œçˆ¶â€œæˆ¿å­ä¸ä¹‹ç›¸è¿ã€‚ä¸€ç•ªä¾¦å¯Ÿä¹‹åï¼Œèªæ˜çš„å°å·æ„è¯†åˆ°â€œè¿™ä¸ªåœ°æ–¹çš„æ‰€æœ‰æˆ¿å±‹çš„æ’åˆ—ç±»ä¼¼äºä¸€æ£µäºŒå‰æ ‘â€ã€‚ å¦‚æœä¸¤ä¸ªç›´æ¥ç›¸è¿çš„æˆ¿å­åœ¨åŒä¸€å¤©æ™šä¸Šè¢«æ‰“åŠ«ï¼Œæˆ¿å±‹å°†è‡ªåŠ¨æŠ¥è­¦ã€‚</p>

<p>è®¡ç®—åœ¨ä¸è§¦åŠ¨è­¦æŠ¥çš„æƒ…å†µä¸‹ï¼Œå°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ã€‚</p>

<p>ç¤ºä¾‹ 1:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>è¾“å…¥: [3,2,3,null,3,null,1]
 3
/ \
2  3
\   \ 
 3   1
 è¾“å‡º: 7 
è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 3 + 3 + 1 = 7.
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 2:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre> è¾“å…¥: [3,4,5,1,3,null,1]
     3
    / \
   4   5
  / \   \ 
 1   3   1
 
 è¾“å‡º: 9
è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 4 + 5 = 9.
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="æš´åŠ›é€’å½’">æš´åŠ›é€’å½’</h3>

<p><strong>4 ä¸ªå­™å­å·çš„é’± + çˆ·çˆ·çš„é’± VS ä¸¤ä¸ªå„¿å­å·çš„é’± å“ªä¸ªç»„åˆé’±å¤šï¼Œå°±å½“åšå½“å‰èŠ‚ç‚¹èƒ½å·çš„æœ€å¤§é’±æ•°ã€‚è¿™å°±æ˜¯åŠ¨æ€è§„åˆ’é‡Œé¢çš„æœ€ä¼˜å­ç»“æ„</strong></p>

<p>ç”±äºæ˜¯äºŒå‰æ ‘ï¼Œè¿™é‡Œå¯ä»¥é€‰æ‹©è®¡ç®—æ‰€æœ‰å­èŠ‚ç‚¹</p>

<p>4 ä¸ªå­™å­æŠ•çš„é’±åŠ ä¸Šçˆ·çˆ·çš„é’±å¦‚ä¸‹
<code class="language-plaintext highlighter-rouge">int method1 = root.val + rob(root.left.left) + rob(root.left.right) + rob(root.right.left) + rob(root.right.right)</code>
ä¸¤ä¸ªå„¿å­å·çš„é’±å¦‚ä¸‹
<code class="language-plaintext highlighter-rouge">int method2 = rob(root.left) + rob(root.right);</code>
æŒ‘é€‰ä¸€ä¸ªé’±æ•°å¤šçš„æ–¹æ¡ˆåˆ™
<code class="language-plaintext highlighter-rouge">int result = Math.max(method1, method2);</code></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */</span>
<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">rob</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>

        <span class="kt">int</span> <span class="n">money</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="na">val</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
            <span class="n">money</span> <span class="o">+=</span> <span class="n">rob</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">.</span><span class="na">left</span><span class="o">)</span> <span class="o">+</span> <span class="n">rob</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">.</span><span class="na">right</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
            <span class="n">money</span> <span class="o">+=</span> <span class="n">rob</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">.</span><span class="na">left</span><span class="o">)</span> <span class="o">+</span> <span class="n">rob</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">.</span><span class="na">right</span><span class="o">);</span>
        
        <span class="k">return</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">money</span><span class="o">,</span><span class="n">rob</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">)</span> <span class="o">+</span> <span class="n">rob</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">));</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="è®°å¿†åŒ–-è§£å†³é‡å é—®é¢˜">è®°å¿†åŒ–-è§£å†³é‡å é—®é¢˜</h3>

<p>é’ˆå¯¹è§£æ³•ä¸€ç§é€Ÿåº¦å¤ªæ…¢çš„é—®é¢˜ï¼Œç»è¿‡åˆ†æå…¶å®ç°ï¼Œæˆ‘ä»¬å‘ç°çˆ·çˆ·åœ¨è®¡ç®—è‡ªå·±èƒ½å·å¤šå°‘é’±çš„æ—¶å€™ï¼ŒåŒæ—¶è®¡ç®—äº† 4 ä¸ªå­™å­èƒ½å·å¤šå°‘é’±ï¼Œä¹Ÿè®¡ç®—äº† 2 ä¸ªå„¿å­èƒ½å·å¤šå°‘é’±ã€‚è¿™æ ·åœ¨å„¿å­å½“çˆ·çˆ·æ—¶ï¼Œå°±ä¼šäº§ç”Ÿé‡å¤è®¡ç®—ä¸€éå­™å­èŠ‚ç‚¹ã€‚</p>

<p>æˆ‘ä»¬è¿™ä¸€æ­¥é’ˆå¯¹é‡å¤å­é—®é¢˜è¿›è¡Œä¼˜åŒ–ï¼Œæˆ‘ä»¬åœ¨åšæ–æ³¢é‚£å¥‘æ•°åˆ—æ—¶ï¼Œä½¿ç”¨çš„ä¼˜åŒ–æ–¹æ¡ˆæ˜¯è®°å¿†åŒ–ï¼Œä½†æ˜¯ä¹‹å‰çš„é—®é¢˜éƒ½æ˜¯ä½¿ç”¨æ•°ç»„è§£å†³çš„ï¼ŒæŠŠæ¯æ¬¡è®¡ç®—çš„ç»“æœéƒ½å­˜èµ·æ¥ï¼Œä¸‹æ¬¡å¦‚æœå†æ¥è®¡ç®—ï¼Œå°±ä»ç¼“å­˜ä¸­å–ï¼Œä¸å†è®¡ç®—äº†ï¼Œè¿™æ ·å°±ä¿è¯æ¯ä¸ªæ•°å­—åªè®¡ç®—ä¸€æ¬¡ã€‚
ç”±äºäºŒå‰æ ‘ä¸é€‚åˆæ‹¿æ•°ç»„å½“ç¼“å­˜ï¼Œæˆ‘ä»¬è¿™æ¬¡ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨ç»“æœï¼ŒTreeNode å½“åš keyï¼Œèƒ½å·çš„é’±å½“åš value</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */</span>
<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">rob</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">TreeNode</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">memo</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="k">return</span> <span class="nf">memRob</span><span class="o">(</span><span class="n">root</span><span class="o">,</span><span class="n">memo</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">memRob</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">root</span><span class="o">,</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">TreeNode</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">memo</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">memo</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">root</span><span class="o">))</span> <span class="k">return</span> <span class="n">memo</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">root</span><span class="o">);</span>

        <span class="kt">int</span> <span class="n">money</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="na">val</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
            <span class="n">money</span> <span class="o">+=</span> <span class="n">memRob</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">.</span><span class="na">left</span><span class="o">,</span><span class="n">memo</span><span class="o">)</span> <span class="o">+</span> <span class="n">memRob</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">.</span><span class="na">right</span><span class="o">,</span><span class="n">memo</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
            <span class="n">money</span> <span class="o">+=</span> <span class="n">memRob</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">.</span><span class="na">left</span><span class="o">,</span><span class="n">memo</span><span class="o">)</span> <span class="o">+</span> <span class="n">memRob</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">.</span><span class="na">right</span><span class="o">,</span><span class="n">memo</span><span class="o">);</span>

        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">money</span><span class="o">,</span><span class="n">memRob</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">,</span><span class="n">memo</span><span class="o">)</span> <span class="o">+</span> <span class="n">memRob</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">,</span><span class="n">memo</span><span class="o">));</span>
        
        <span class="n">memo</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">root</span><span class="o">,</span><span class="n">res</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æ¯ä¸ªèŠ‚ç‚¹å¯é€‰æ‹©å·æˆ–è€…ä¸å·ä¸¤ç§çŠ¶æ€ï¼Œæ ¹æ®é¢˜ç›®æ„æ€ï¼Œç›¸è¿èŠ‚ç‚¹ä¸èƒ½ä¸€èµ·å·</p>

<p>å½“å‰èŠ‚ç‚¹é€‰æ‹©å·æ—¶ï¼Œé‚£ä¹ˆä¸¤ä¸ªå­©å­èŠ‚ç‚¹å°±ä¸èƒ½é€‰æ‹©å·äº†
å½“å‰èŠ‚ç‚¹é€‰æ‹©ä¸å·æ—¶ï¼Œä¸¤ä¸ªå­©å­èŠ‚ç‚¹åªéœ€è¦æ‹¿æœ€å¤šçš„é’±å‡ºæ¥å°±è¡Œ(ä¸¤ä¸ªå­©å­èŠ‚ç‚¹å·ä¸å·æ²¡å…³ç³»)
æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¤§å°ä¸º 2 çš„æ•°ç»„æ¥è¡¨ç¤º <code class="language-plaintext highlighter-rouge">int[] res = new int[2]</code> 0 ä»£è¡¨ä¸å·ï¼Œ1 ä»£è¡¨å·
<strong>ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹èƒ½å·åˆ°çš„æœ€å¤§é’±çš„çŠ¶æ€å¯ä»¥å®šä¹‰ä¸º</strong></p>

<ol>
  <li>å½“å‰èŠ‚ç‚¹é€‰æ‹©ä¸å·ï¼šå½“å‰èŠ‚ç‚¹èƒ½å·åˆ°çš„æœ€å¤§é’±æ•° = å·¦å­©å­èƒ½å·åˆ°çš„é’± + å³å­©å­èƒ½å·åˆ°çš„é’±</li>
  <li>å½“å‰èŠ‚ç‚¹é€‰æ‹©å·ï¼šå½“å‰èŠ‚ç‚¹èƒ½å·åˆ°çš„æœ€å¤§é’±æ•° = å·¦å­©å­é€‰æ‹©è‡ªå·±ä¸å·æ—¶èƒ½å¾—åˆ°çš„é’± + å³å­©å­é€‰æ‹©ä¸å·æ—¶èƒ½å¾—åˆ°çš„é’± + å½“å‰èŠ‚ç‚¹çš„é’±æ•°</li>
</ol>

<p>è¡¨ç¤ºä¸ºå…¬å¼å¦‚ä¸‹:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>root[0] = Math.max(rob(root.left)[0], rob(root.left)[1]) + Math.max(rob(root.right)[0], rob(root.right)[1])
root[1] = rob(root.left)[0] + rob(root.right)[0] + root.val;
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="è§„åˆ’é€’å½’">è§„åˆ’+é€’å½’</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">rob</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">result</span> <span class="o">=</span> <span class="n">robInternal</span><span class="o">(</span><span class="n">root</span><span class="o">);</span>
    <span class="k">return</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">result</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">result</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">robInternal</span><span class="o">(</span><span class="nc">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="k">return</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">];</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">];</span>

    <span class="kt">int</span><span class="o">[]</span> <span class="n">left</span> <span class="o">=</span> <span class="n">robInternal</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span><span class="o">);</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">right</span> <span class="o">=</span> <span class="n">robInternal</span><span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">right</span><span class="o">);</span>

    <span class="n">result</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">left</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">left</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="o">+</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">right</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">right</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
    <span class="n">result</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">left</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="n">right</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="n">root</span><span class="o">.</span><span class="na">val</span><span class="o">;</span>

    <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
<span class="o">}</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="378-æœ‰åºçŸ©é˜µä¸­ç¬¬kå°å…ƒç´ ">378. æœ‰åºçŸ©é˜µä¸­ç¬¬kå°å…ƒç´ </h2>

<p>ç»™å®šä¸€ä¸ª <em><code class="language-plaintext highlighter-rouge">n x n</code></em> çŸ©é˜µï¼Œå…¶ä¸­æ¯è¡Œå’Œæ¯åˆ—å…ƒç´ å‡æŒ‰å‡åºæ’åºï¼Œæ‰¾åˆ°çŸ©é˜µä¸­ç¬¬ <code class="language-plaintext highlighter-rouge">k</code> å°çš„å…ƒç´ ã€‚
è¯·æ³¨æ„ï¼Œå®ƒæ˜¯æ’åºåçš„ç¬¬ <code class="language-plaintext highlighter-rouge">k</code> å°å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ <code class="language-plaintext highlighter-rouge">k</code> ä¸ªä¸åŒçš„å…ƒç´ ã€‚</p>

<p><strong>ç¤ºä¾‹ï¼š</strong></p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>matrix = [
   [ 1,  5,  9],
   [10, 11, 13],
   [12, 13, 15]
],
k = 8,

è¿”å› 13ã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>æç¤ºï¼š</strong>
ä½ å¯ä»¥å‡è®¾ k çš„å€¼æ°¸è¿œæ˜¯æœ‰æ•ˆçš„ï¼Œ1 â‰¤ k â‰¤ n2 ã€‚</p>

<h3 id="ç›´æ¥æ’åº">ç›´æ¥æ’åº</h3>

<p>å°†è¿™ä¸ªäºŒç»´æ•°ç»„å¦å­˜ä¸ºä¸€ç»´æ•°ç»„ï¼Œå¹¶å¯¹è¯¥ä¸€ç»´æ•°ç»„è¿›è¡Œæ’åºã€‚æœ€åè¿”å›ç¬¬kä¸ªæ•°ï¼Œå³ä¸ºç­”æ¡ˆã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span><span class="o">{</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">kthSmallest</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">matrix</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">v</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">matrix</span><span class="o">.</span><span class="na">length</span><span class="o">*</span><span class="n">matrix</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
        <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">matrix</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">matrix</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">j</span><span class="o">){</span>
                <span class="n">v</span><span class="o">[</span><span class="n">c</span><span class="o">++]</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="nc">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">v</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">v</span><span class="o">[</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="o">];</span>
    <span class="o">}</span> 
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å½’å¹¶æ’åºæ²¡çœ‹æ‡‚">å½’å¹¶æ’åº(æ²¡çœ‹æ‡‚)</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">kthSmallest</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">matrix</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">pq</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;(</span><span class="k">new</span> <span class="nc">Comparator</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;()</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">a</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">-</span> <span class="n">b</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">pq</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">matrix</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">0</span><span class="o">],</span> <span class="n">i</span><span class="o">,</span> <span class="mi">0</span><span class="o">});</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">now</span> <span class="o">=</span> <span class="n">pq</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">now</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">!=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">pq</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">matrix</span><span class="o">[</span><span class="n">now</span><span class="o">[</span><span class="mi">1</span><span class="o">]][</span><span class="n">now</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">],</span> <span class="n">now</span><span class="o">[</span><span class="mi">1</span><span class="o">],</span> <span class="n">now</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">});</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">pq</span><span class="o">.</span><span class="na">poll</span><span class="o">()[</span><span class="mi">0</span><span class="o">];</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="äºŒåˆ†æŸ¥æ‰¾è¿˜æ²¡çœ‹">äºŒåˆ†æŸ¥æ‰¾(è¿˜æ²¡çœ‹)</h3>

<p>ç”±é¢˜ç›®ç»™å‡ºçš„æ€§è´¨å¯çŸ¥ï¼Œè¿™ä¸ªçŸ©é˜µå†…çš„å…ƒç´ æ˜¯ä»å·¦ä¸Šåˆ°å³ä¸‹é€’å¢çš„ï¼ˆå‡è®¾çŸ©é˜µå·¦ä¸Šè§’ä¸º matrix[0][0]<em>m<strong>a</strong>t<strong>r</strong>i**x</em>[0][0]ï¼‰ã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼š</p>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_æœ‰åºçŸ©é˜µä¸­çš„ç¬¬kå°å…ƒç´ .png" alt="leetcode_æœ‰åºçŸ©é˜µä¸­çš„ç¬¬kå°å…ƒç´ " /></p>

<p>æˆ‘ä»¬çŸ¥é“æ•´ä¸ªäºŒç»´æ•°ç»„ä¸­ <code class="language-plaintext highlighter-rouge">matrix[0][0]</code> ä¸ºæœ€å°å€¼ï¼Œ<code class="language-plaintext highlighter-rouge">matrix[nâˆ’1][nâˆ’1]</code> ä¸ºæœ€å¤§å€¼ï¼Œç°åœ¨æˆ‘ä»¬å°†å…¶åˆ†åˆ«è®°ä½œ<code class="language-plaintext highlighter-rouge"> l</code>å’Œ<code class="language-plaintext highlighter-rouge"> r</code>ã€‚</p>

<p>å¯ä»¥å‘ç°ä¸€ä¸ªæ€§è´¨ï¼šä»»å–ä¸€ä¸ªæ•° <code class="language-plaintext highlighter-rouge">mid</code> æ»¡è¶³ <code class="language-plaintext highlighter-rouge">lâ‰¤midâ‰¤r</code>ï¼Œé‚£ä¹ˆçŸ©é˜µä¸­ä¸å¤§äº <code class="language-plaintext highlighter-rouge">mid</code> çš„æ•°ï¼Œè‚¯å®šå…¨éƒ¨åˆ†å¸ƒåœ¨çŸ©é˜µçš„å·¦ä¸Šè§’ã€‚</p>

<p>ä¾‹å¦‚ä¸Šå›¾ï¼Œå– <code class="language-plaintext highlighter-rouge">mid=8</code>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒçŸ©é˜µä¸­å¤§äº <code class="language-plaintext highlighter-rouge">mid</code> çš„æ•°å°±å’Œä¸å¤§äº <code class="language-plaintext highlighter-rouge">mid</code> çš„æ•°åˆ†åˆ«å½¢æˆäº†ä¸¤ä¸ªæ¿å—ï¼Œæ²¿ç€ä¸€æ¡é”¯é½¿çº¿å°†è¿™ä¸ªçŸ©å½¢åˆ†å¼€ã€‚å…¶ä¸­å·¦ä¸Šè§’æ¿å—çš„å¤§å°å³ä¸ºçŸ©é˜µä¸­ä¸å¤§äº <code class="language-plaintext highlighter-rouge">mid</code> çš„æ•°çš„æ•°é‡ã€‚</p>

<p>åˆå§‹ä½ç½®åœ¨ <code class="language-plaintext highlighter-rouge">matrix[nâˆ’1][0]</code>ï¼ˆå³å·¦ä¸‹è§’ï¼‰ï¼›</p>

<p>è®¾å½“å‰ä½ç½®ä¸º <code class="language-plaintext highlighter-rouge">matrix[i][j]</code>ã€‚è‹¥<code class="language-plaintext highlighter-rouge">matrix[i][j]â‰¤mid</code>ï¼Œåˆ™å°†å½“å‰æ‰€åœ¨åˆ—çš„ä¸å¤§äº <code class="language-plaintext highlighter-rouge">mid</code> çš„æ•°çš„æ•°é‡ï¼ˆå³ <code class="language-plaintext highlighter-rouge">i+1</code>ï¼‰ç´¯åŠ åˆ°ç­”æ¡ˆä¸­ï¼Œå¹¶å‘å³ç§»åŠ¨ï¼Œå¦åˆ™å‘ä¸Šç§»åŠ¨ï¼›</p>

<p>ä¸æ–­ç§»åŠ¨ç›´åˆ°èµ°å‡ºæ ¼å­ä¸ºæ­¢ã€‚</p>

<p>æˆ‘ä»¬å‘ç°è¿™æ ·çš„èµ°æ³•æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œå³æˆ‘ä»¬å¯ä»¥çº¿æ€§è®¡ç®—å¯¹äºä»»æ„ä¸€ä¸ª <code class="language-plaintext highlighter-rouge">mid</code>ï¼ŒçŸ©é˜µä¸­æœ‰å¤šå°‘æ•°ä¸å¤§äºå®ƒã€‚è¿™æ»¡è¶³äº†äºŒåˆ†æŸ¥æ‰¾çš„æ€§è´¨ã€‚</p>

<p>ä¸å¦¨å‡è®¾ç­”æ¡ˆä¸º <code class="language-plaintext highlighter-rouge">x</code>ï¼Œé‚£ä¹ˆå¯ä»¥çŸ¥é“<code class="language-plaintext highlighter-rouge">lâ‰¤xâ‰¤r</code>ï¼Œè¿™æ ·å°±ç¡®å®šäº†äºŒåˆ†æŸ¥æ‰¾çš„ä¸Šä¸‹ç•Œã€‚</p>

<p>æ¯æ¬¡å¯¹äºã€ŒçŒœæµ‹ã€çš„ç­”æ¡ˆ<code class="language-plaintext highlighter-rouge"> mid</code>ï¼Œè®¡ç®—çŸ©é˜µä¸­æœ‰å¤šå°‘æ•°ä¸å¤§äº <code class="language-plaintext highlighter-rouge">mid</code> ï¼š</p>

<p>å¦‚æœæ•°é‡ä¸å°‘äº <code class="language-plaintext highlighter-rouge">k</code>ï¼Œé‚£ä¹ˆè¯´æ˜æœ€ç»ˆç­”æ¡ˆ <code class="language-plaintext highlighter-rouge">x</code> ä¸å¤§äº <code class="language-plaintext highlighter-rouge">mid</code>ï¼›
å¦‚æœæ•°é‡å°‘äº <code class="language-plaintext highlighter-rouge">k</code>ï¼Œé‚£ä¹ˆè¯´æ˜æœ€ç»ˆç­”æ¡ˆ <code class="language-plaintext highlighter-rouge">x</code> å¤§äº<code class="language-plaintext highlighter-rouge">mid</code>ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">kthSmallest</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">matrix</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">0</span><span class="o">];</span>
        <span class="kt">int</span> <span class="n">right</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="o">((</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">check</span><span class="o">(</span><span class="n">matrix</span><span class="o">,</span> <span class="n">mid</span><span class="o">,</span> <span class="n">k</span><span class="o">,</span> <span class="n">n</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">left</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">check</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">matrix</span><span class="o">,</span> <span class="kt">int</span> <span class="n">mid</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">,</span> <span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">matrix</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">&lt;=</span> <span class="n">mid</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">num</span> <span class="o">+=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
                <span class="n">j</span><span class="o">++;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">i</span><span class="o">--;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">num</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="459é‡å¤çš„å­å­—ç¬¦ä¸²">459.é‡å¤çš„å­å­—ç¬¦ä¸²</h2>

<p>ç»™å®šä¸€ä¸ªéç©ºçš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦å¯ä»¥ç”±å®ƒçš„ä¸€ä¸ªå­ä¸²é‡å¤å¤šæ¬¡æ„æˆã€‚ç»™å®šçš„å­—ç¬¦ä¸²åªå«æœ‰å°å†™è‹±æ–‡å­—æ¯ï¼Œå¹¶ä¸”é•¿åº¦ä¸è¶…è¿‡10000ã€‚</p>

<p>ç¤ºä¾‹ 1:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nl">è¾“å…¥:</span> <span class="s">"abab"</span>
<span class="nl">è¾“å‡º:</span> <span class="nc">True</span>
<span class="nl">è§£é‡Š:</span> <span class="n">å¯ç”±å­å­—ç¬¦ä¸²</span> <span class="s">"ab"</span> <span class="n">é‡å¤ä¸¤æ¬¡æ„æˆ</span><span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 2:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nl">è¾“å…¥:</span> <span class="s">"aba"</span>
<span class="nl">è¾“å‡º:</span> <span class="nc">False</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 3:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nl">è¾“å…¥:</span> <span class="s">"abcabcabcabc"</span>
<span class="nl">è¾“å‡º:</span> <span class="nc">True</span>
<span class="nl">è§£é‡Š:</span> <span class="n">å¯ç”±å­å­—ç¬¦ä¸²</span> <span class="s">"abc"</span> <span class="n">é‡å¤å››æ¬¡æ„æˆ</span><span class="err">ã€‚</span> <span class="o">(</span><span class="n">æˆ–è€…å­å­—ç¬¦ä¸²</span> <span class="s">"abcabc"</span> <span class="n">é‡å¤ä¸¤æ¬¡æ„æˆ</span><span class="err">ã€‚</span><span class="o">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="æšä¸¾æ³•">æšä¸¾æ³•</h3>

<p>è‹¥å­˜åœ¨è¿™ç§å½¢å¼çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå¿…æœ‰ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">sub</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">*</span> <span class="n">k</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span>	<span class="o">(</span><span class="n">k</span><span class="o">!=</span><span class="mi">1</span><span class="o">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å¾ªç¯æ·»åŠ sub k-1æ¬¡ï¼Œæœ€ç»ˆç»“æœè‹¥ä¸sç›¸ç­‰ï¼Œåˆ™è¿”å›trueã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">repeatedSubstringPattern</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()/</span><span class="mi">2</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="k">if</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">%</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span>   <span class="k">continue</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">p</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">/</span> <span class="n">i</span><span class="o">;</span>
            <span class="nc">String</span> <span class="n">res</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">i</span><span class="o">);</span>
            <span class="nc">String</span> <span class="n">subS</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">i</span><span class="o">);</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">p</span><span class="o">;</span> <span class="o">++</span><span class="n">j</span><span class="o">){</span>
                <span class="n">res</span><span class="o">+=</span><span class="n">subS</span><span class="o">;</span>
                <span class="k">if</span><span class="o">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">res</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">)))</span>
                    <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">if</span><span class="o">(</span><span class="n">res</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">s</span><span class="o">))</span>
                <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å­—ç¬¦ä¸²åŒ¹é…">å­—ç¬¦ä¸²åŒ¹é…</h3>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_repeated_substring_pattern.png" alt="leetcode_repeated_substring_pattern" /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">repeatedSubstringPattern</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">s</span> <span class="o">+</span> <span class="n">s</span><span class="o">).</span><span class="na">indexOf</span><span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span> <span class="o">!=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="n">ä½œè€…</span><span class="err">ï¼š</span><span class="nc">LeetCode</span><span class="o">-</span><span class="nc">Solution</span>
<span class="n">é“¾æ¥</span><span class="err">ï¼š</span><span class="nl">https:</span><span class="c1">//leetcode-cn.com/problems/repeated-substring-pattern/solution/zhong-fu-de-zi-zi-fu-chuan-by-leetcode-solution/</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="kmpç®—æ³•">KMPç®—æ³•</h3>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_repeated_substring_pattern_KMP_1.png" alt="leetcode_é‡å¤çš„å­å­—ç¬¦ä¸²_å­—ç¬¦ä¸²åŒ¹é…_KMP_1" /></p>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_repeated_substring_pattern_KMP_2.png" alt="leetcode_é‡å¤çš„å­å­—ç¬¦ä¸²_å­—ç¬¦ä¸²åŒ¹é…_KMP_2" /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">repeatedSubstringPattern</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">kmp</span><span class="o">(</span><span class="n">s</span> <span class="o">+</span> <span class="n">s</span><span class="o">,</span> <span class="n">s</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">kmp</span><span class="o">(</span><span class="nc">String</span> <span class="n">query</span><span class="o">,</span> <span class="nc">String</span> <span class="n">pattern</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">fail</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">m</span><span class="o">];</span>
        <span class="nc">Arrays</span><span class="o">.</span><span class="na">fill</span><span class="o">(</span><span class="n">fail</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">fail</span><span class="o">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">pattern</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">!=</span> <span class="n">pattern</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">fail</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">pattern</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">==</span> <span class="n">pattern</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">fail</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">match</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">match</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">pattern</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">match</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">!=</span> <span class="n">query</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">match</span> <span class="o">=</span> <span class="n">fail</span><span class="o">[</span><span class="n">match</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">pattern</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">match</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">==</span> <span class="n">query</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">))</span> <span class="o">{</span>
                <span class="o">++</span><span class="n">match</span><span class="o">;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">match</span> <span class="o">==</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">ä½œè€…</span><span class="err">ï¼š</span><span class="nc">LeetCode</span><span class="o">-</span><span class="nc">Solution</span>
<span class="n">é“¾æ¥</span><span class="err">ï¼š</span><span class="nl">https:</span><span class="c1">//leetcode-cn.com/problems/repeated-substring-pattern/solution/zhong-fu-de-zi-zi-fu-chuan-by-leetcode-solution/</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="491é€’å¢å­åºåˆ—">491.é€’å¢å­åºåˆ—</h2>

<p>ç»™å®šä¸€ä¸ªæ•´å‹æ•°ç»„, ä½ çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°æ‰€æœ‰è¯¥æ•°ç»„çš„é€’å¢å­åºåˆ—ï¼Œé€’å¢å­åºåˆ—çš„é•¿åº¦è‡³å°‘æ˜¯2ã€‚</p>

<p>ç¤ºä¾‹:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nl">è¾“å…¥:</span> <span class="o">[</span><span class="mi">4</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">7</span><span class="o">]</span>
<span class="nl">è¾“å‡º:</span> <span class="o">[[</span><span class="mi">4</span><span class="o">,</span> <span class="mi">6</span><span class="o">],</span> <span class="o">[</span><span class="mi">4</span><span class="o">,</span> <span class="mi">7</span><span class="o">],</span> <span class="o">[</span><span class="mi">4</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="mi">7</span><span class="o">],</span> <span class="o">[</span><span class="mi">4</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">7</span><span class="o">],</span> <span class="o">[</span><span class="mi">6</span><span class="o">,</span> <span class="mi">7</span><span class="o">],</span> <span class="o">[</span><span class="mi">6</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">7</span><span class="o">],</span> <span class="o">[</span><span class="mi">7</span><span class="o">,</span><span class="mi">7</span><span class="o">],</span> <span class="o">[</span><span class="mi">4</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="mi">7</span><span class="o">]]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¯´æ˜:</p>

<ol>
  <li>ç»™å®šæ•°ç»„çš„é•¿åº¦ä¸ä¼šè¶…è¿‡15ã€‚</li>
  <li>æ•°ç»„ä¸­çš„æ•´æ•°èŒƒå›´æ˜¯ [-100,100]ã€‚</li>
  <li>ç»™å®šæ•°ç»„ä¸­å¯èƒ½åŒ…å«é‡å¤æ•°å­—ï¼Œç›¸ç­‰çš„æ•°å­—åº”è¯¥è¢«è§†ä¸ºé€’å¢çš„ä¸€ç§æƒ…å†µã€‚</li>
</ol>

<h3 id="å›æº¯æ³•-1">å›æº¯æ³•</h3>

<p>å…‰æ ‡curä»0å¼€å§‹ç§»åŠ¨ï¼Œæ‰¾å‡ºæ‰€æœ‰ä»¥nums[cur]ä¸ºèµ·å§‹çš„é€’å¢å­åºåˆ—ï¼Œç”¨å›æº¯æ³•éå†æ‰€æœ‰æƒ…å†µã€‚è¯¦è§æ³¨é‡Š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">;</span>
    <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">res</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="nf">findSubsequences</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">nums</span> <span class="o">=</span> <span class="n">nums</span><span class="o">;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="n">backtrack</span><span class="o">(</span><span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;(),</span><span class="mi">0</span><span class="o">);</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;(</span><span class="n">res</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kt">void</span> <span class="nf">backtrack</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">,</span> <span class="kt">int</span> <span class="n">cur</span><span class="o">){</span>
      	<span class="c1">//å½“listä»£è¡¨çš„é€’å¢å­åºåˆ—é•¿åº¦å¤§äºç­‰äº2æ—¶ï¼Œæ·»åŠ å…¥ç»“æœé›†åˆä¸­</span>
        <span class="k">if</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="o">)</span>
            <span class="n">res</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;(</span><span class="n">list</span><span class="o">));</span>
      	<span class="c1">//éå†ä»curå¼€å§‹çš„æ‰€æœ‰æƒ…å†µ</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">cur</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
          	<span class="c1">//ç‰¹æ®Šåˆ¤æ–­listä¸ºç©ºçš„æƒ…å†µï¼Œç„¶åä¸€èˆ¬åˆ¤æ–­å½“å…‰æ ‡æ‰€æŒ‡å…ƒç´ æ˜¯å¦å¤§äºç­‰äºç°æœ‰é€’å¢å­åºåˆ—çš„æœ€å¤§å€¼</span>
          	<span class="c1">//è‹¥æˆç«‹ï¼Œåˆ™å°†æ­¤å…ƒç´ åŠ å…¥list</span>
            <span class="k">if</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">&lt;=</span> <span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]){</span>
                <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
              	<span class="c1">//é€’å½’ç»§ç»­åˆ¤æ–­</span>
                <span class="n">backtrack</span><span class="o">(</span><span class="n">list</span><span class="o">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
              	<span class="c1">//å›æº¯ï¼Œç§»åŠ¨å…‰æ ‡è‡³ä¸‹ä¸€ç‚¹</span>
                <span class="n">list</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç›¸å…³çŸ¥è¯†ï¼š</p>

<p><a href="https://leetcode-cn.com/problems/permutations/solution/hui-su-suan-fa-python-dai-ma-java-dai-ma-by-liweiw/">å›æº¯ç®—æ³•å…¥é—¨çº§è¯¦è§£ + å…¸å‹é—®é¢˜åˆ—è¡¨ï¼ˆæŒç»­æ›´æ–°ï¼‰</a></p>

<p><a href="https://leetcode-cn.com/problems/permutations/solution/hui-su-suan-fa-xiang-jie-by-labuladong-2/">æ‰’ä¸€æ‰’å›æº¯ç®—æ³•çš„è£¤å­</a></p>

<p>å‚è€ƒï¼š</p>

<p>https://leetcode-cn.com/problems/increasing-subsequences/solution/java-di-gui-jie-fa-by-don-vito-corleone-3/</p>

<h2 id="529-æ‰«é›·æ¸¸æˆ">529. æ‰«é›·æ¸¸æˆ</h2>

<p>è®©æˆ‘ä»¬ä¸€èµ·æ¥ç©æ‰«é›·æ¸¸æˆï¼</p>

<p>ç»™å®šä¸€ä¸ªä»£è¡¨æ¸¸æˆæ¿çš„äºŒç»´å­—ç¬¦çŸ©é˜µã€‚ â€˜Mâ€™ ä»£è¡¨ä¸€ä¸ªæœªæŒ–å‡ºçš„åœ°é›·ï¼Œâ€™Eâ€™ ä»£è¡¨ä¸€ä¸ªæœªæŒ–å‡ºçš„ç©ºæ–¹å—ï¼Œâ€™Bâ€™ ä»£è¡¨æ²¡æœ‰ç›¸é‚»ï¼ˆä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³ï¼Œå’Œæ‰€æœ‰4ä¸ªå¯¹è§’çº¿ï¼‰åœ°é›·çš„å·²æŒ–å‡ºçš„ç©ºç™½æ–¹å—ï¼Œæ•°å­—ï¼ˆâ€™1â€™ åˆ° â€˜8â€™ï¼‰è¡¨ç¤ºæœ‰å¤šå°‘åœ°é›·ä¸è¿™å—å·²æŒ–å‡ºçš„æ–¹å—ç›¸é‚»ï¼Œâ€™Xâ€™ åˆ™è¡¨ç¤ºä¸€ä¸ªå·²æŒ–å‡ºçš„åœ°é›·ã€‚</p>

<p>ç°åœ¨ç»™å‡ºåœ¨æ‰€æœ‰æœªæŒ–å‡ºçš„æ–¹å—ä¸­ï¼ˆâ€™Mâ€™æˆ–è€…â€™Eâ€™ï¼‰çš„ä¸‹ä¸€ä¸ªç‚¹å‡»ä½ç½®ï¼ˆè¡Œå’Œåˆ—ç´¢å¼•ï¼‰ï¼Œæ ¹æ®ä»¥ä¸‹è§„åˆ™ï¼Œè¿”å›ç›¸åº”ä½ç½®è¢«ç‚¹å‡»åå¯¹åº”çš„é¢æ¿ï¼š</p>

<ol>
  <li>å¦‚æœä¸€ä¸ªåœ°é›·ï¼ˆâ€™Mâ€™ï¼‰è¢«æŒ–å‡ºï¼Œæ¸¸æˆå°±ç»“æŸäº†- æŠŠå®ƒæ”¹ä¸º â€˜Xâ€™ã€‚</li>
  <li>å¦‚æœä¸€ä¸ªæ²¡æœ‰ç›¸é‚»åœ°é›·çš„ç©ºæ–¹å—ï¼ˆâ€™Eâ€™ï¼‰è¢«æŒ–å‡ºï¼Œä¿®æ”¹å®ƒä¸ºï¼ˆâ€™Bâ€™ï¼‰ï¼Œå¹¶ä¸”æ‰€æœ‰å’Œå…¶ç›¸é‚»çš„æœªæŒ–å‡ºæ–¹å—éƒ½åº”è¯¥è¢«é€’å½’åœ°æ­éœ²ã€‚</li>
  <li>å¦‚æœä¸€ä¸ªè‡³å°‘ä¸ä¸€ä¸ªåœ°é›·ç›¸é‚»çš„ç©ºæ–¹å—ï¼ˆâ€™Eâ€™ï¼‰è¢«æŒ–å‡ºï¼Œä¿®æ”¹å®ƒä¸ºæ•°å­—ï¼ˆâ€™1â€™åˆ°â€™8â€™ï¼‰ï¼Œè¡¨ç¤ºç›¸é‚»åœ°é›·çš„æ•°é‡</li>
  <li>å¦‚æœåœ¨æ­¤æ¬¡ç‚¹å‡»ä¸­ï¼Œè‹¥æ— æ›´å¤šæ–¹å—å¯è¢«æ­éœ²ï¼Œåˆ™è¿”å›é¢æ¿ã€‚</li>
</ol>

<p>ç¤ºä¾‹ 1ï¼š</p>

<p>è¾“å…¥:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="o">[[</span><span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">],</span>
 <span class="o">[</span><span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'M'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">],</span>
 <span class="o">[</span><span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">],</span>
 <span class="o">[</span><span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">]]</span>

<span class="nc">Click</span> <span class="o">:</span> <span class="o">[</span><span class="mi">3</span><span class="o">,</span><span class="mi">0</span><span class="o">]</span>
<span class="nl">è¾“å‡º:</span> 

<span class="o">[[</span><span class="sc">'B'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">],</span>
 <span class="o">[</span><span class="sc">'B'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'M'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">],</span>
 <span class="o">[</span><span class="sc">'B'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">],</span>
 <span class="o">[</span><span class="sc">'B'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">]]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 2ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="nl">è¾“å…¥:</span> 

<span class="o">[[</span><span class="sc">'B'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">],</span>
 <span class="o">[</span><span class="sc">'B'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'M'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">],</span>
 <span class="o">[</span><span class="sc">'B'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">],</span>
 <span class="o">[</span><span class="sc">'B'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">]]</span>

<span class="nc">Click</span> <span class="o">:</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span>

<span class="nl">è¾“å‡º:</span> 

<span class="o">[[</span><span class="sc">'B'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'E'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">],</span>
 <span class="o">[</span><span class="sc">'B'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'X'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">],</span>
 <span class="o">[</span><span class="sc">'B'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'1'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">],</span>
 <span class="o">[</span><span class="sc">'B'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">,</span> <span class="sc">'B'</span><span class="o">]]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æ³¨æ„ï¼š</p>

<ol>
  <li>è¾“å…¥çŸ©é˜µçš„å®½å’Œé«˜çš„èŒƒå›´ä¸º [1,50]ã€‚</li>
  <li>ç‚¹å‡»çš„ä½ç½®åªèƒ½æ˜¯æœªè¢«æŒ–å‡ºçš„æ–¹å— (â€˜Mâ€™ æˆ–è€… â€˜Eâ€™)ï¼Œè¿™ä¹Ÿæ„å‘³ç€é¢æ¿è‡³å°‘åŒ…å«ä¸€ä¸ªå¯ç‚¹å‡»çš„æ–¹å—ã€‚</li>
  <li>è¾“å…¥é¢æ¿ä¸ä¼šæ˜¯æ¸¸æˆç»“æŸçš„çŠ¶æ€ï¼ˆå³æœ‰åœ°é›·å·²è¢«æŒ–å‡ºï¼‰ã€‚</li>
  <li>ç®€å•èµ·è§ï¼ŒæœªæåŠçš„è§„åˆ™åœ¨è¿™ä¸ªé—®é¢˜ä¸­å¯è¢«å¿½ç•¥ã€‚ä¾‹å¦‚ï¼Œå½“æ¸¸æˆç»“æŸæ—¶ä½ ä¸éœ€è¦æŒ–å‡ºæ‰€æœ‰åœ°é›·ï¼Œè€ƒè™‘æ‰€æœ‰ä½ å¯èƒ½èµ¢å¾—æ¸¸æˆæˆ–æ ‡è®°æ–¹å—çš„æƒ…å†µã€‚</li>
</ol>

<h3 id="æ·±åº¦ä¼˜å…ˆ-2">æ·±åº¦ä¼˜å…ˆ</h3>

<p>å…«ä¸ªæ–¹å‘éƒ½æ˜¯ç›¸é‚»èŠ‚ç‚¹ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">m</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">n</span><span class="o">;</span>
    <span class="kt">char</span><span class="o">[][]</span> <span class="n">board</span><span class="o">;</span>
    <span class="kt">boolean</span><span class="o">[][]</span> <span class="n">visited</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">char</span><span class="o">[][]</span> <span class="nf">updateBoard</span><span class="o">(</span><span class="kt">char</span><span class="o">[][]</span> <span class="n">board</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">click</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">board</span><span class="o">[</span><span class="n">click</span><span class="o">[</span><span class="mi">0</span><span class="o">]][</span><span class="n">click</span><span class="o">[</span><span class="mi">1</span><span class="o">]]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="o">){</span>
            <span class="n">board</span><span class="o">[</span><span class="n">click</span><span class="o">[</span><span class="mi">0</span><span class="o">]][</span><span class="n">click</span><span class="o">[</span><span class="mi">1</span><span class="o">]]</span> <span class="o">=</span> <span class="sc">'X'</span><span class="o">;</span>
            <span class="k">return</span> <span class="n">board</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">this</span><span class="o">.</span><span class="na">board</span> <span class="o">=</span> <span class="n">board</span><span class="o">;</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">board</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span><span class="o">;</span>
        <span class="n">visited</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="n">m</span><span class="o">][</span><span class="n">n</span><span class="o">];</span>
        <span class="n">dfs</span><span class="o">(</span><span class="n">click</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span><span class="n">click</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
        <span class="k">return</span> <span class="n">board</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kt">void</span> <span class="nf">dfs</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">visited</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">])</span>   <span class="k">return</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="n">count</span><span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">cnt</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">){</span>
            <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">char</span><span class="o">)(</span><span class="n">cnt</span><span class="o">+</span><span class="mi">48</span><span class="o">);</span>
            <span class="n">visited</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="sc">'B'</span><span class="o">;</span>
        <span class="n">visited</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">)</span>    <span class="n">dfs</span><span class="o">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span><span class="n">y</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">m</span><span class="o">)</span>   <span class="n">dfs</span><span class="o">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span><span class="n">y</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">)</span>    <span class="n">dfs</span><span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">)</span>     <span class="n">dfs</span><span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="o">&amp;&amp;</span> <span class="n">y</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">)</span>   <span class="n">dfs</span><span class="o">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">)</span>   <span class="n">dfs</span><span class="o">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">)</span>   <span class="n">dfs</span><span class="o">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="o">&amp;&amp;</span> <span class="n">y</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">)</span>   <span class="n">dfs</span><span class="o">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kt">int</span> <span class="nf">count</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">){</span>
        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="o">)</span>   <span class="n">res</span><span class="o">++;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="o">&amp;&amp;</span> <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="o">)</span>   <span class="n">res</span><span class="o">++;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="o">)</span>   <span class="n">res</span><span class="o">++;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="o">)</span>   <span class="n">res</span><span class="o">++;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="o">&amp;&amp;</span> <span class="n">y</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="o">)</span>   <span class="n">res</span><span class="o">++;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="o">)</span>   <span class="n">res</span><span class="o">++;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="o">)</span>   <span class="n">res</span><span class="o">++;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="o">&amp;&amp;</span> <span class="n">y</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="o">)</span>   <span class="n">res</span><span class="o">++;</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å¹¿åº¦ä¼˜å…ˆ-2">å¹¿åº¦ä¼˜å…ˆ</h3>

<p>åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†æ·±åº¦ä¼˜å…ˆæœç´¢æ”¹ä¸ºå¹¿åº¦ä¼˜å…ˆæœç´¢æ¥æ¨¡æ‹Ÿï¼Œæˆ‘ä»¬åªè¦åœ¨\textit{cnt}cnt ä¸ºé›¶çš„æ—¶å€™ï¼Œå°†å½“å‰ç‚¹ç›¸é‚»çš„æœªæŒ–å‡ºçš„æ–¹å—åŠ å…¥å¹¿åº¦ä¼˜å…ˆæœç´¢çš„é˜Ÿåˆ—é‡Œå³å¯ï¼Œå…¶ä»–æƒ…å†µä¸åŠ å…¥é˜Ÿåˆ—ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">dirX</span> <span class="o">=</span> <span class="o">{</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">};</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">dirY</span> <span class="o">=</span> <span class="o">{</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">};</span>

    <span class="kd">public</span> <span class="kt">char</span><span class="o">[][]</span> <span class="nf">updateBoard</span><span class="o">(</span><span class="kt">char</span><span class="o">[][]</span> <span class="n">board</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">click</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">click</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">y</span> <span class="o">=</span> <span class="n">click</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// è§„åˆ™ 1</span>
            <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="sc">'X'</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span><span class="o">{</span>
            <span class="n">bfs</span><span class="o">(</span><span class="n">board</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">board</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">bfs</span><span class="o">(</span><span class="kt">char</span><span class="o">[][]</span> <span class="n">board</span><span class="o">,</span> <span class="kt">int</span> <span class="n">sx</span><span class="o">,</span> <span class="kt">int</span> <span class="n">sy</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Queue</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;();</span>
        <span class="kt">boolean</span><span class="o">[][]</span> <span class="n">vis</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="n">board</span><span class="o">.</span><span class="na">length</span><span class="o">][</span><span class="n">board</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span><span class="o">];</span>
        <span class="n">queue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">sx</span><span class="o">,</span> <span class="n">sy</span><span class="o">});</span>
        <span class="n">vis</span><span class="o">[</span><span class="n">sx</span><span class="o">][</span><span class="n">sy</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(!</span><span class="n">queue</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">pos</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">y</span> <span class="o">=</span> <span class="n">pos</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">tx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dirX</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
                <span class="kt">int</span> <span class="n">ty</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">dirY</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">tx</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">tx</span> <span class="o">&gt;=</span> <span class="n">board</span><span class="o">.</span><span class="na">length</span> <span class="o">||</span> <span class="n">ty</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">ty</span> <span class="o">&gt;=</span> <span class="n">board</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">continue</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="c1">// ä¸ç”¨åˆ¤æ–­ Mï¼Œå› ä¸ºå¦‚æœæœ‰ M çš„è¯æ¸¸æˆå·²ç»ç»“æŸäº†</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">board</span><span class="o">[</span><span class="n">tx</span><span class="o">][</span><span class="n">ty</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="o">)</span> <span class="o">{</span>
                    <span class="o">++</span><span class="n">cnt</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">cnt</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// è§„åˆ™ 3</span>
                <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">char</span><span class="o">)</span> <span class="o">(</span><span class="n">cnt</span> <span class="o">+</span> <span class="sc">'0'</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="c1">// è§„åˆ™ 2</span>
                <span class="n">board</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="sc">'B'</span><span class="o">;</span>
                <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
                    <span class="kt">int</span> <span class="n">tx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dirX</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
                    <span class="kt">int</span> <span class="n">ty</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">dirY</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
                    <span class="c1">// è¿™é‡Œä¸éœ€è¦åœ¨å­˜åœ¨ B çš„æ—¶å€™ç»§ç»­æ‰©å±•ï¼Œå› ä¸º B ä¹‹å‰è¢«ç‚¹å‡»çš„æ—¶å€™å·²ç»è¢«æ‰©å±•è¿‡äº†</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">tx</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">tx</span> <span class="o">&gt;=</span> <span class="n">board</span><span class="o">.</span><span class="na">length</span> <span class="o">||</span> <span class="n">ty</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">ty</span> <span class="o">&gt;=</span> <span class="n">board</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span> <span class="o">||</span> <span class="n">board</span><span class="o">[</span><span class="n">tx</span><span class="o">][</span><span class="n">ty</span><span class="o">]</span> <span class="o">!=</span> <span class="sc">'E'</span> <span class="o">||</span> <span class="n">vis</span><span class="o">[</span><span class="n">tx</span><span class="o">][</span><span class="n">ty</span><span class="o">])</span> <span class="o">{</span>
                        <span class="k">continue</span><span class="o">;</span>
                    <span class="o">}</span>
                    <span class="n">queue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">tx</span><span class="o">,</span> <span class="n">ty</span><span class="o">});</span>
                    <span class="n">vis</span><span class="o">[</span><span class="n">tx</span><span class="o">][</span><span class="n">ty</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">ä½œè€…</span><span class="err">ï¼š</span><span class="nc">LeetCode</span><span class="o">-</span><span class="nc">Solution</span>
<span class="n">é“¾æ¥</span><span class="err">ï¼š</span><span class="nl">https:</span><span class="c1">//leetcode-cn.com/problems/minesweeper/solution/sao-lei-you-xi-by-leetcode-solution/</span>
<span class="n">æ¥æº</span><span class="err">ï¼š</span><span class="n">åŠ›æ‰£</span><span class="err">ï¼ˆ</span><span class="nc">LeetCode</span><span class="err">ï¼‰</span>
<span class="n">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰</span><span class="err">ã€‚</span><span class="n">å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒ</span><span class="err">ï¼Œ</span><span class="n">éå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</span><span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="546ç§»é™¤ç›’å­">546.ç§»é™¤ç›’å­</h2>

<p>ç»™å‡ºä¸€äº›ä¸åŒé¢œè‰²çš„ç›’å­ï¼Œç›’å­çš„é¢œè‰²ç”±æ•°å­—è¡¨ç¤ºï¼Œå³ä¸åŒçš„æ•°å­—è¡¨ç¤ºä¸åŒçš„é¢œè‰²ã€‚
ä½ å°†ç»è¿‡è‹¥å¹²è½®æ“ä½œå»å»æ‰ç›’å­ï¼Œç›´åˆ°æ‰€æœ‰çš„ç›’å­éƒ½å»æ‰ä¸ºæ­¢ã€‚æ¯ä¸€è½®ä½ å¯ä»¥ç§»é™¤å…·æœ‰ç›¸åŒé¢œè‰²çš„è¿ç»­ k ä¸ªç›’å­ï¼ˆk &gt;= 1ï¼‰ï¼Œè¿™æ ·ä¸€è½®ä¹‹åä½ å°†å¾—åˆ° k*k ä¸ªç§¯åˆ†ã€‚
å½“ä½ å°†æ‰€æœ‰ç›’å­éƒ½å»æ‰ä¹‹åï¼Œæ±‚ä½ èƒ½è·å¾—çš„æœ€å¤§ç§¯åˆ†å’Œã€‚</p>

<p>ç¤ºä¾‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="n">è¾“å…¥</span><span class="err">ï¼š</span><span class="n">boxes</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">1</span><span class="o">]</span>
<span class="n">è¾“å‡º</span><span class="err">ï¼š</span><span class="mi">23</span>
<span class="n">è§£é‡Š</span><span class="err">ï¼š</span>
<span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">1</span><span class="o">]</span> 
<span class="o">----&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">1</span><span class="o">]</span> <span class="o">(</span><span class="mi">3</span><span class="o">*</span><span class="mi">3</span><span class="o">=</span><span class="mi">9</span> <span class="n">åˆ†</span><span class="o">)</span> 
<span class="o">----&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">1</span><span class="o">]</span> <span class="o">(</span><span class="mi">1</span><span class="o">*</span><span class="mi">1</span><span class="o">=</span><span class="mi">1</span> <span class="n">åˆ†</span><span class="o">)</span> 
<span class="o">----&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">]</span> <span class="o">(</span><span class="mi">3</span><span class="o">*</span><span class="mi">3</span><span class="o">=</span><span class="mi">9</span> <span class="n">åˆ†</span><span class="o">)</span> 
<span class="o">----&gt;</span> <span class="o">[]</span> <span class="o">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">2</span><span class="o">=</span><span class="mi">4</span> <span class="n">åˆ†</span><span class="o">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æç¤ºï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">boxes</span><span class="o">.</span><span class="na">length</span> <span class="o">&lt;=</span> <span class="mi">100</span>
<span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">boxes</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">&lt;=</span> <span class="mi">100</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_ç§»é™¤ç›’å­_1.png" alt="leetcode_ç§»é™¤ç›’å­_1" /></p>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_ç§»é™¤ç›’å­_2.gif" alt="leetcode_ç§»é™¤ç›’å­_2" /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">removeBoxes</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">boxes</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[][][]</span> <span class="n">dp</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">100</span><span class="o">][</span><span class="mi">100</span><span class="o">][</span><span class="mi">100</span><span class="o">];</span>
        <span class="k">return</span> <span class="nf">calculatePoints</span><span class="o">(</span><span class="n">boxes</span><span class="o">,</span> <span class="n">dp</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">boxes</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">calculatePoints</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">boxes</span><span class="o">,</span> <span class="kt">int</span><span class="o">[][][]</span> <span class="n">dp</span><span class="o">,</span> <span class="kt">int</span> <span class="n">l</span><span class="o">,</span> <span class="kt">int</span> <span class="n">r</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;</span> <span class="n">r</span><span class="o">)</span> <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">dp</span><span class="o">[</span><span class="n">l</span><span class="o">][</span><span class="n">r</span><span class="o">][</span><span class="n">k</span><span class="o">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span> <span class="n">dp</span><span class="o">[</span><span class="n">l</span><span class="o">][</span><span class="n">r</span><span class="o">][</span><span class="n">k</span><span class="o">];</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">r</span> <span class="o">&gt;</span> <span class="n">l</span> <span class="o">&amp;&amp;</span> <span class="n">boxes</span><span class="o">[</span><span class="n">r</span><span class="o">]</span> <span class="o">==</span> <span class="n">boxes</span><span class="o">[</span><span class="n">r</span> <span class="o">-</span> <span class="mi">1</span><span class="o">])</span> <span class="o">{</span>
            <span class="n">r</span><span class="o">--;</span>
            <span class="n">k</span><span class="o">++;</span>
        <span class="o">}</span>
        <span class="n">dp</span><span class="o">[</span><span class="n">l</span><span class="o">][</span><span class="n">r</span><span class="o">][</span><span class="n">k</span><span class="o">]</span> <span class="o">=</span> <span class="n">calculatePoints</span><span class="o">(</span><span class="n">boxes</span><span class="o">,</span> <span class="n">dp</span><span class="o">,</span> <span class="n">l</span><span class="o">,</span> <span class="n">r</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span> <span class="o">+</span> <span class="o">(</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">*</span> <span class="o">(</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">l</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">r</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">boxes</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="n">boxes</span><span class="o">[</span><span class="n">r</span><span class="o">])</span> <span class="o">{</span>
                <span class="n">dp</span><span class="o">[</span><span class="n">l</span><span class="o">][</span><span class="n">r</span><span class="o">][</span><span class="n">k</span><span class="o">]</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">dp</span><span class="o">[</span><span class="n">l</span><span class="o">][</span><span class="n">r</span><span class="o">][</span><span class="n">k</span><span class="o">],</span> <span class="n">calculatePoints</span><span class="o">(</span><span class="n">boxes</span><span class="o">,</span> <span class="n">dp</span><span class="o">,</span> <span class="n">l</span><span class="o">,</span> <span class="n">i</span><span class="o">,</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">+</span> <span class="n">calculatePoints</span><span class="o">(</span><span class="n">boxes</span><span class="o">,</span> <span class="n">dp</span><span class="o">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">r</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">));</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">dp</span><span class="o">[</span><span class="n">l</span><span class="o">][</span><span class="n">r</span><span class="o">][</span><span class="n">k</span><span class="o">];</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">ä½œè€…</span><span class="err">ï¼š</span><span class="nc">LeetCode</span><span class="o">-</span><span class="nc">Solution</span>
<span class="n">é“¾æ¥</span><span class="err">ï¼š</span><span class="nl">https:</span><span class="c1">//leetcode-cn.com/problems/remove-boxes/solution/yi-chu-he-zi-by-leetcode-solution/</span>
<span class="n">æ¥æº</span><span class="err">ï¼š</span><span class="n">åŠ›æ‰£</span><span class="err">ï¼ˆ</span><span class="nc">LeetCode</span><span class="err">ï¼‰</span>
<span class="n">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰</span><span class="err">ã€‚</span><span class="n">å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒ</span><span class="err">ï¼Œ</span><span class="n">éå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</span><span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="647-å›æ–‡å­ä¸²">647. å›æ–‡å­ä¸²</h2>

<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½ çš„ä»»åŠ¡æ˜¯è®¡ç®—è¿™ä¸ªå­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªå›æ–‡å­ä¸²ã€‚</p>

<p>å…·æœ‰ä¸åŒå¼€å§‹ä½ç½®æˆ–ç»“æŸä½ç½®çš„å­ä¸²ï¼Œå³ä½¿æ˜¯ç”±ç›¸åŒçš„å­—ç¬¦ç»„æˆï¼Œä¹Ÿä¼šè¢«è§†ä½œä¸åŒçš„å­ä¸²ã€‚</p>

<p>ç¤ºä¾‹ 1ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="n">è¾“å…¥</span><span class="err">ï¼š</span><span class="s">"abc"</span>
<span class="n">è¾“å‡º</span><span class="err">ï¼š</span><span class="mi">3</span>
<span class="n">è§£é‡Š</span><span class="err">ï¼š</span><span class="nl">ä¸‰ä¸ªå›æ–‡å­ä¸²:</span> <span class="s">"a"</span><span class="o">,</span> <span class="s">"b"</span><span class="o">,</span> <span class="s">"c"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 2ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="n">è¾“å…¥</span><span class="err">ï¼š</span><span class="s">"aaa"</span>
<span class="n">è¾“å‡º</span><span class="err">ï¼š</span><span class="mi">6</span>
<span class="n">è§£é‡Š</span><span class="err">ï¼š</span><span class="mi">6</span><span class="nl">ä¸ªå›æ–‡å­ä¸²:</span> <span class="s">"a"</span><span class="o">,</span> <span class="s">"a"</span><span class="o">,</span> <span class="s">"a"</span><span class="o">,</span> <span class="s">"aa"</span><span class="o">,</span> <span class="s">"aa"</span><span class="o">,</span> <span class="s">"aaa"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æç¤ºï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">è¾“å…¥çš„å­—ç¬¦ä¸²é•¿åº¦ä¸ä¼šè¶…è¿‡</span> <span class="mi">1000</span> <span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="æš´åŠ›æ³•-1">æš´åŠ›æ³•</h3>

<p>éå†æ‰€æœ‰å­ä¸²</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">countSubstrings</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="o">++</span><span class="n">j</span><span class="o">){</span>
                <span class="n">cnt</span> <span class="o">+=</span> <span class="n">isPlindromeString</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">i</span><span class="o">,</span><span class="n">j</span><span class="o">));</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">cnt</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kt">int</span> <span class="nf">isPlindromeString</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="o">)</span> <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">while</span><span class="o">(</span><span class="n">l</span> <span class="o">&lt;=</span> <span class="n">r</span><span class="o">){</span>
            <span class="k">if</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">l</span><span class="o">)</span> <span class="o">!=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">r</span><span class="o">))</span>
                <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
            <span class="o">++</span><span class="n">l</span><span class="o">;</span>
            <span class="o">--</span><span class="n">r</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å‰ªæ</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">countSubstrings</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
        <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="kt">boolean</span> <span class="n">flag</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
      	<span class="c1">//------------å‰ªæ------------------</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="k">if</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">!=</span> <span class="n">c</span><span class="o">){</span>
                <span class="n">flag</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">if</span><span class="o">(</span><span class="n">flag</span><span class="o">)</span> <span class="k">return</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()*(</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1</span><span class="o">))/</span><span class="mi">2</span><span class="o">;</span>
      	<span class="c1">//------------å‰ªæ------------------</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="o">++</span><span class="n">j</span><span class="o">){</span>
                <span class="n">cnt</span> <span class="o">+=</span> <span class="n">isPlindromeString</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">i</span><span class="o">,</span><span class="n">j</span><span class="o">));</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">cnt</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kt">int</span> <span class="nf">isPlindromeString</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="o">)</span> <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">while</span><span class="o">(</span><span class="n">l</span> <span class="o">&lt;=</span> <span class="n">r</span><span class="o">){</span>
            <span class="k">if</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">l</span><span class="o">)</span> <span class="o">!=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">r</span><span class="o">))</span>
                <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
            <span class="o">++</span><span class="n">l</span><span class="o">;</span>
            <span class="o">--</span><span class="n">r</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å›æ–‡ä¸­å¿ƒæ³•">å›æ–‡ä¸­å¿ƒæ³•</h3>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_å›æ–‡å­ä¸².png" alt="leetcode_å›æ–‡å­ä¸²" /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">countSubstrings</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">(),</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="n">i</span> <span class="o">/</span> <span class="mi">2</span><span class="o">,</span> <span class="n">r</span> <span class="o">=</span> <span class="n">i</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">l</span><span class="o">)</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">r</span><span class="o">))</span> <span class="o">{</span>
                <span class="o">--</span><span class="n">l</span><span class="o">;</span>
                <span class="o">++</span><span class="n">r</span><span class="o">;</span>
                <span class="o">++</span><span class="n">ans</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="manacherç®—æ³•">Manacherç®—æ³•</h3>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_å›æ–‡å­ä¸²_Manacherç®—æ³•_1.png" alt="leetcode_å›æ–‡å­ä¸²_Manacherç®—æ³•_1" /></p>

<p><img src="/HYCBlog/assets/img/leetcode/leetcode_å›æ–‡å­ä¸²_Manacherç®—æ³•_2.png" alt="leetcode_å›æ–‡å­ä¸²_Manacherç®—æ³•_2" /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">countSubstrings</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
        <span class="nc">StringBuffer</span> <span class="n">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuffer</span><span class="o">(</span><span class="s">"$#"</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">t</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
            <span class="n">t</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="sc">'#'</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
        <span class="n">t</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="sc">'!'</span><span class="o">);</span>

        <span class="kt">int</span><span class="o">[]</span> <span class="n">f</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span><span class="o">];</span>
        <span class="kt">int</span> <span class="n">iMax</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">rMax</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// åˆå§‹åŒ– f[i]</span>
            <span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">rMax</span> <span class="o">?</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">rMax</span> <span class="o">-</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">f</span><span class="o">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">iMax</span> <span class="o">-</span> <span class="n">i</span><span class="o">])</span> <span class="o">:</span> <span class="mi">1</span><span class="o">;</span>
            <span class="c1">// ä¸­å¿ƒæ‹“å±•</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">])</span> <span class="o">==</span> <span class="n">t</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span> <span class="o">-</span> <span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">]))</span> <span class="o">{</span>
                <span class="o">++</span><span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="c1">// åŠ¨æ€ç»´æŠ¤ iMax å’Œ rMax</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&gt;</span> <span class="n">rMax</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">iMax</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
                <span class="n">rMax</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="c1">// ç»Ÿè®¡ç­”æ¡ˆ, å½“å‰è´¡çŒ®ä¸º (f[i] - 1) / 2 ä¸Šå–æ•´</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="n">f</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">ä½œè€…</span><span class="err">ï¼š</span><span class="nc">LeetCode</span><span class="o">-</span><span class="nc">Solution</span>
<span class="n">é“¾æ¥</span><span class="err">ï¼š</span><span class="nl">https:</span><span class="c1">//leetcode-cn.com/problems/palindromic-substrings/solution/hui-wen-zi-chuan-by-leetcode-solution/</span>
<span class="n">æ¥æº</span><span class="err">ï¼š</span><span class="n">åŠ›æ‰£</span><span class="err">ï¼ˆ</span><span class="nc">LeetCode</span><span class="err">ï¼‰</span>
<span class="n">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰</span><span class="err">ã€‚</span><span class="n">å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒ</span><span class="err">ï¼Œ</span><span class="n">éå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</span><span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="769-24ç‚¹æ¸¸æˆ">769. 24ç‚¹æ¸¸æˆ</h2>

<p>ç»™å‡º4ä¸ª1-10çš„æ•°å­—ï¼Œé€šè¿‡åŠ å‡ä¹˜é™¤ï¼Œå¾—åˆ°æ•°å­—ä¸º24å°±ç®—èƒœåˆ©</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">judgePoint24</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ArrayList</span> <span class="no">A</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Double</span><span class="o">&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="nl">v:</span> <span class="n">nums</span><span class="o">)</span> <span class="no">A</span><span class="o">.</span><span class="na">add</span><span class="o">((</span><span class="kt">double</span><span class="o">)</span> <span class="n">v</span><span class="o">);</span>
        <span class="k">return</span> <span class="nf">solve</span><span class="o">(</span><span class="no">A</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">solve</span><span class="o">(</span><span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Double</span><span class="o">&gt;</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">nums</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">nums</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="k">return</span> <span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">nums</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">-</span> <span class="mi">24</span><span class="o">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">6</span><span class="o">;</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">!=</span> <span class="n">j</span><span class="o">)</span> <span class="o">{</span>
                    <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Double</span><span class="o">&gt;</span> <span class="n">nums2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Double</span><span class="o">&gt;();</span>
                    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">k</span><span class="o">++)</span> <span class="k">if</span> <span class="o">(</span><span class="n">k</span> <span class="o">!=</span> <span class="n">i</span> <span class="o">&amp;&amp;</span> <span class="n">k</span> <span class="o">!=</span> <span class="n">j</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">nums2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">nums</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">k</span><span class="o">));</span>
                    <span class="o">}</span>
                    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="o">;</span> <span class="n">k</span><span class="o">++)</span> <span class="o">{</span>
                        <span class="k">if</span> <span class="o">(</span><span class="n">k</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="n">i</span><span class="o">)</span> <span class="k">continue</span><span class="o">;</span>
                        <span class="k">if</span> <span class="o">(</span><span class="n">k</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="n">nums2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">nums</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">+</span> <span class="n">nums</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">j</span><span class="o">));</span>
                        <span class="k">if</span> <span class="o">(</span><span class="n">k</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="n">nums2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">nums</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">*</span> <span class="n">nums</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">j</span><span class="o">));</span>
                        <span class="k">if</span> <span class="o">(</span><span class="n">k</span> <span class="o">==</span> <span class="mi">2</span><span class="o">)</span> <span class="n">nums2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">nums</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="n">nums</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">j</span><span class="o">));</span>
                        <span class="k">if</span> <span class="o">(</span><span class="n">k</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span> <span class="o">{</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">nums</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">j</span><span class="o">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                                <span class="n">nums2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">nums</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">/</span> <span class="n">nums</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">j</span><span class="o">));</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="k">continue</span><span class="o">;</span>
                            <span class="o">}</span>
                        <span class="o">}</span>
                        <span class="k">if</span> <span class="o">(</span><span class="n">solve</span><span class="o">(</span><span class="n">nums2</span><span class="o">))</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
                        <span class="n">nums2</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">nums2</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">judgePoint24</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Double</span><span class="o">&gt;</span> <span class="n">numbers</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">num</span> <span class="o">:</span> <span class="n">nums</span><span class="o">)</span>
            <span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">((</span><span class="kt">double</span><span class="o">)</span><span class="n">num</span><span class="o">);</span>
        <span class="k">return</span> <span class="nf">solve</span><span class="o">(</span><span class="n">numbers</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kt">boolean</span> <span class="nf">solve</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Double</span><span class="o">&gt;</span> <span class="n">numbers</span><span class="o">){</span>
        <span class="c1">//è‹¥listä¸ºç©ºï¼Œè¿”å›false</span>
        <span class="k">if</span><span class="o">(</span><span class="n">numbers</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="c1">//è‹¥listé•¿åº¦ä¸º1ï¼Œåˆ™è¯´æ˜è®¡ç®—åˆ°äº†æœ€ç»ˆç»“æœï¼Œæ¯”è¾ƒ</span>
        <span class="k">if</span><span class="o">(</span><span class="n">numbers</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span>
            <span class="k">return</span> <span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">((</span><span class="n">numbers</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">-</span> <span class="mi">24</span><span class="o">*</span><span class="mf">1.0</span><span class="o">))</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">6</span><span class="o">;</span>
        
        <span class="c1">//ä»å…¶ä¸­å–å‡º2ä¸ªä¸åŒçš„æ•°</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">numbers</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">numbers</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="o">++</span><span class="n">j</span><span class="o">){</span>
                <span class="k">if</span><span class="o">(</span><span class="n">i</span> <span class="o">!=</span> <span class="n">j</span><span class="o">){</span>
                    <span class="c1">//æ–°å»ºä¸€ä¸ªæ•°ç»„ï¼Œé¿å…å°†å–å‡ºçš„æ•°æ’å…¥åˆ°åŸæ¥çš„ä½ç½®</span>
                    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Double</span><span class="o">&gt;</span> <span class="n">nums</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
                    <span class="c1">//å°†åŸæ•°ç»„çš„å‰©ä½™çš„æ•°æ’å…¥åˆ°æ–°æ•°ç»„ä¸­</span>
                    <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">numbers</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="o">++</span><span class="n">k</span><span class="o">){</span>
                        <span class="k">if</span><span class="o">(</span><span class="n">k</span> <span class="o">!=</span> <span class="n">i</span> <span class="o">&amp;&amp;</span> <span class="n">k</span> <span class="o">!=</span> <span class="n">j</span><span class="o">)</span>
                            <span class="n">nums</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">numbers</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">k</span><span class="o">));</span>
                    <span class="o">}</span>
                    <span class="c1">//è®¡ç®—i,jä¸¤ä¸ªæ•°çš„ç»“æœé›†ï¼Œä¹ŸåŠ å…¥numsæ•°ç»„ä¸­</span>
                    <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Double</span><span class="o">&gt;</span> <span class="n">resultSet</span> <span class="o">=</span> <span class="n">cal</span><span class="o">(</span><span class="n">numbers</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">),</span> <span class="n">numbers</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">j</span><span class="o">));</span>
                    <span class="c1">//å›æº¯</span>
                    <span class="k">for</span><span class="o">(</span><span class="nc">Double</span> <span class="n">res</span> <span class="o">:</span> <span class="n">resultSet</span><span class="o">){</span>
                        <span class="n">nums</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">res</span><span class="o">);</span>
                        <span class="k">if</span><span class="o">(</span><span class="n">solve</span><span class="o">(</span><span class="n">nums</span><span class="o">))</span>
                            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
                        <span class="n">nums</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">nums</span><span class="o">.</span><span class="na">size</span><span class="o">()-</span><span class="mi">1</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Double</span><span class="o">&gt;</span> <span class="nf">cal</span><span class="o">(</span><span class="nc">Double</span> <span class="n">a</span><span class="o">,</span> <span class="nc">Double</span> <span class="n">b</span><span class="o">){</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Double</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">a</span><span class="o">-</span><span class="n">b</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">b</span><span class="o">-</span><span class="n">a</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">a</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span>
            <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">b</span><span class="o">/</span><span class="n">a</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">b</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span>
            <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">a</span><span class="o">/</span><span class="n">b</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">set</span><span class="o">;</span>
    <span class="o">}</span>


<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="696-è®¡æ•°äºŒè¿›åˆ¶å­ä¸²">696. è®¡æ•°äºŒè¿›åˆ¶å­ä¸²</h2>

<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œè®¡ç®—å…·æœ‰ç›¸åŒæ•°é‡0å’Œ1çš„éç©º(è¿ç»­)å­å­—ç¬¦ä¸²çš„æ•°é‡ï¼Œå¹¶ä¸”è¿™äº›å­å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰0å’Œæ‰€æœ‰1éƒ½æ˜¯ç»„åˆåœ¨ä¸€èµ·çš„ã€‚</p>

<p>é‡å¤å‡ºç°çš„å­ä¸²è¦è®¡ç®—å®ƒä»¬å‡ºç°çš„æ¬¡æ•°ã€‚</p>

<p>ç¤ºä¾‹ 1 :</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nl">è¾“å…¥:</span> <span class="s">"00110011"</span>
<span class="nl">è¾“å‡º:</span> <span class="mi">6</span>
<span class="nl">è§£é‡Š:</span> <span class="n">æœ‰6ä¸ªå­ä¸²å…·æœ‰ç›¸åŒæ•°é‡çš„è¿ç»­1å’Œ0</span><span class="err">ï¼šâ€œ</span><span class="mo">0011</span><span class="err">â€ï¼Œâ€œ</span><span class="mo">01</span><span class="err">â€ï¼Œâ€œ</span><span class="mi">1100</span><span class="err">â€ï¼Œâ€œ</span><span class="mi">10</span><span class="err">â€ï¼Œâ€œ</span><span class="mo">0011</span><span class="err">â€</span> <span class="n">å’Œ</span> <span class="err">â€œ</span><span class="mo">01</span><span class="err">â€ã€‚</span>
<span class="n">è¯·æ³¨æ„</span><span class="err">ï¼Œ</span><span class="n">ä¸€äº›é‡å¤å‡ºç°çš„å­ä¸²è¦è®¡ç®—å®ƒä»¬å‡ºç°çš„æ¬¡æ•°</span><span class="err">ã€‚</span>
<span class="n">å¦å¤–</span><span class="err">ï¼Œâ€œ</span><span class="mo">00110011</span><span class="err">â€</span><span class="n">ä¸æ˜¯æœ‰æ•ˆçš„å­ä¸²</span><span class="err">ï¼Œ</span><span class="n">å› ä¸ºæ‰€æœ‰çš„0</span><span class="err">ï¼ˆ</span><span class="n">å’Œ1</span><span class="err">ï¼‰</span><span class="n">æ²¡æœ‰ç»„åˆåœ¨ä¸€èµ·</span><span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç¤ºä¾‹ 2 :</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nl">è¾“å…¥:</span> <span class="s">"10101"</span>
<span class="nl">è¾“å‡º:</span> <span class="mi">4</span>
<span class="nl">è§£é‡Š:</span> <span class="n">æœ‰4ä¸ªå­ä¸²</span><span class="err">ï¼šâ€œ</span><span class="mi">10</span><span class="err">â€ï¼Œâ€œ</span><span class="mo">01</span><span class="err">â€ï¼Œâ€œ</span><span class="mi">10</span><span class="err">â€ï¼Œâ€œ</span><span class="mo">01</span><span class="err">â€ï¼Œ</span><span class="n">å®ƒä»¬å…·æœ‰ç›¸åŒæ•°é‡çš„è¿ç»­1å’Œ0</span><span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æ³¨æ„ï¼š</p>

<ul>
  <li>s.length åœ¨1åˆ°50,000ä¹‹é—´ã€‚</li>
  <li>s åªåŒ…å«â€œ0â€æˆ–â€œ1â€å­—ç¬¦ã€‚</li>
</ul>

<h3 id="æŒ‰å­—ç¬¦åˆ†ç»„">æŒ‰å­—ç¬¦åˆ†ç»„</h3>

<p>å°†å­—ç¬¦ä¸²ä¸² s æŒ‰ç…§ 00 å’Œ 11 çš„è¿ç»­æ®µåˆ†ç»„ï¼Œå­˜åœ¨counts æ•°ç»„ä¸­ï¼Œä¾‹å¦‚ s=00111011ï¼Œå¯ä»¥å¾—åˆ°è¿™æ ·çš„counts æ•°ç»„ï¼šcounts={2,3,1,2}ã€‚</p>

<p>åªè¦éå†è¿™ä¸ªæ•°ç»„ï¼Œç›¸é‚»å…ƒç´ çš„æœ€å°å€¼å³ä¸ºç¬¬iæ¬¡çš„è´¡çŒ®ã€‚ä¸€å…±éœ€éå†n-1æ¬¡</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CountBinarySubString</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">countBinarySubstrings</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">counts</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();){</span>
            <span class="k">while</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span><span class="o">)){</span>
                <span class="k">if</span><span class="o">(++</span><span class="n">j</span> <span class="o">&gt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()-</span><span class="mi">1</span><span class="o">)</span> <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">counts</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">j</span><span class="o">-</span><span class="n">i</span><span class="o">);</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">counts</span><span class="o">.</span><span class="na">size</span><span class="o">()-</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">sum</span> <span class="o">+=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">counts</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">),</span><span class="n">counts</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">sum</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">CountBinarySubString</span><span class="o">().</span><span class="na">countBinarySubstrings</span><span class="o">(</span><span class="s">"00110011"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å·¦å³æ‰©å±•">å·¦å³æ‰©å±•</h3>

<p>æ¯éå†åˆ°ä¸€ä¸ªç›¸é‚»äº’å¼‚å¯¹ï¼Œåˆ™å·¦å³æ‰©å±•ï¼Œç»Ÿè®¡æ•°é‡ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">countBinarySubstrings</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        
        <span class="k">if</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()-</span><span class="mi">1</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
            <span class="k">if</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">!=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">))</span>
                <span class="n">subCounts</span><span class="o">(</span><span class="n">s</span><span class="o">,</span><span class="n">i</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">count</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kt">void</span> <span class="nf">subCounts</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">){</span>
        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">right</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span>
        <span class="k">while</span><span class="o">(</span><span class="n">left</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">right</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()-</span><span class="mi">1</span> 
        <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">left</span><span class="o">)</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">right</span><span class="o">)</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">)</span>
        <span class="o">){</span>
            <span class="n">right</span><span class="o">++;</span>
            <span class="n">left</span><span class="o">--;</span>
            <span class="n">count</span><span class="o">++;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="718æœ€é•¿å…¬å…±è¿ç»­å­æ•°ç»„">718.æœ€é•¿å…¬å…±è¿ç»­å­æ•°ç»„</h2>

<p>ç»™ä¸¤ä¸ªæ•´æ•°æ•°ç»„ A å’Œ B ï¼Œè¿”å›ä¸¤ä¸ªæ•°ç»„ä¸­å…¬å…±çš„ã€é•¿åº¦æœ€é•¿çš„å­æ•°ç»„çš„é•¿åº¦ã€‚</p>

<p>ç¤ºä¾‹ 1:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>è¾“å…¥:
A: [1,2,3,2,1]
B: [3,2,1,4,7]
è¾“å‡º: 3

è§£é‡Š: 
é•¿åº¦æœ€é•¿çš„å…¬å…±å­æ•°ç»„æ˜¯ [3, 2, 1]ã€‚
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¯´æ˜:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>1 &lt;= len(A), len(B) &lt;= 1000
0 &lt;= A[i], B[i] &lt; 100
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="åŠ¨æ€è§„åˆ’-5">åŠ¨æ€è§„åˆ’</h3>

<p>è¿™ä¸ªé¢˜ç›®æ˜¯æœ€é•¿å…¬å…±å­åºåˆ—çš„å˜åŒ–å½¢å¼ï¼Œè¦æ±‚å­åºåˆ—è¿ç»­ã€‚</p>

<p>æœ€é•¿å…¬å…±å­åºåˆ—è§£æ³•ï¼šè®¾<code class="language-plaintext highlighter-rouge">c[i][j]</code>ä¸ºåºåˆ—açš„å‰<code class="language-plaintext highlighter-rouge">i</code>ä¸ªå…ƒç´ å’Œåºåˆ—bå‰<code class="language-plaintext highlighter-rouge">j</code>ä¸ªå…ƒç´ çš„æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦ï¼ˆå¯ä¸è¿ç»­ï¼Œåªè¦æ±‚æ‰¾å‡ºçš„å­åºåˆ—ä¸‹æ ‡é€’å¢ï¼‰ã€‚é‚£ä¹ˆ</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>å½“<span class="sb">`a[i] == b[j]`</span>æ—¶ï¼Œ<span class="sb">`c[i][j] = c[i-1][j-1]+1`</span>ã€‚
å½“<span class="sb">`a[i] != b[j]`</span>æ—¶ï¼Œ<span class="sb">`c[i][j] = max(c[i-1][j],c[i][j-1])`</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>åªéœ€è¿”å›<code class="language-plaintext highlighter-rouge">c[a.length][b.length]</code>å°±èƒ½å¾—åˆ°æœ€ç»ˆçš„ç»“æœã€‚</p>

<p>ä½†æ˜¯è¿™ä¸ªé¢˜ç›®è¦æ±‚å­æ•°ç»„å¿…é¡»è¿ç»­ï¼Œåˆ™å½“<code class="language-plaintext highlighter-rouge">a[i] != b[j]</code>æ—¶ï¼Œè¦ä»¤<code class="language-plaintext highlighter-rouge">c[i][j]=0</code>ï¼Œæœ€åè¿”å›æ•°ç»„cçš„æœ€å¤§å€¼å°±èƒ½å¾—åˆ°æœ€ç»ˆç»“æœã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">findLength</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="no">A</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="no">B</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">//c[i][j]è¡¨ç¤ºAæ•°ç»„çš„å‰iä¸ªå…ƒç´ å’ŒBæ•°ç»„çš„å‰iä¸ªå…ƒç´ çš„æœ€é•¿å…¬å…±å­æ•°ç»„é•¿åº¦</span>
        <span class="kt">int</span><span class="o">[][]</span> <span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="no">A</span><span class="o">.</span><span class="na">length</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="no">B</span><span class="o">.</span><span class="na">length</span><span class="o">+</span><span class="mi">1</span><span class="o">];</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="no">A</span><span class="o">.</span><span class="na">length</span><span class="o">+</span><span class="mi">1</span><span class="o">;++</span><span class="n">i</span><span class="o">){</span>
            <span class="n">c</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="no">B</span><span class="o">.</span><span class="na">length</span><span class="o">+</span><span class="mi">1</span><span class="o">;++</span><span class="n">i</span><span class="o">){</span>
            <span class="n">c</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="no">A</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="no">B</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">j</span><span class="o">){</span>
                <span class="k">if</span><span class="o">(</span><span class="no">A</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="no">B</span><span class="o">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="o">]){</span>
                    <span class="n">c</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">c</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
                    <span class="k">if</span><span class="o">(</span><span class="n">c</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">&gt;=</span> <span class="n">max</span><span class="o">)</span>
                        <span class="n">max</span> <span class="o">=</span> <span class="n">c</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">];</span>
                <span class="o">}</span>
                <span class="k">else</span>
                    <span class="n">c</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="o">}</span>


        <span class="k">return</span> <span class="n">max</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="no">A</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">1</span><span class="o">};</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="no">B</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">3</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">7</span><span class="o">};</span>
        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Solution</span><span class="o">().</span><span class="na">findLength</span><span class="o">(</span><span class="no">A</span><span class="o">,</span><span class="no">B</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">res</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">findLength</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="no">A</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="no">B</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="no">A</span><span class="o">.</span><span class="na">length</span><span class="o">,</span> <span class="n">m</span> <span class="o">=</span> <span class="no">B</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="kt">int</span><span class="o">[][]</span> <span class="n">dp</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">--)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">--)</span> <span class="o">{</span>
                <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="no">A</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="no">B</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">?</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="o">;</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">ans</span><span class="o">,</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="æ»‘åŠ¨çª—å£">æ»‘åŠ¨çª—å£</h3>

<p>å¾…è¡¥å……</p>

<h3 id="äºŒåˆ†æ³•å“ˆå¸Œ">äºŒåˆ†æ³•+å“ˆå¸Œ</h3>

<p>å¾…è¡¥å……</p>

<h2 id="733-å›¾åƒæ¸²æŸ“">733. å›¾åƒæ¸²æŸ“</h2>

<p>æœ‰ä¸€å¹…ä»¥äºŒç»´æ•´æ•°æ•°ç»„è¡¨ç¤ºçš„å›¾ç”»ï¼Œæ¯ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºè¯¥å›¾ç”»çš„åƒç´ å€¼å¤§å°ï¼Œæ•°å€¼åœ¨ 0 åˆ° 65535 ä¹‹é—´ã€‚</p>

<p>ç»™ä½ ä¸€ä¸ªåæ ‡ (sr, sc) è¡¨ç¤ºå›¾åƒæ¸²æŸ“å¼€å§‹çš„åƒç´ å€¼ï¼ˆè¡Œ ï¼Œåˆ—ï¼‰å’Œä¸€ä¸ªæ–°çš„é¢œè‰²å€¼ newColorï¼Œè®©ä½ é‡æ–°ä¸Šè‰²è¿™å¹…å›¾åƒã€‚</p>

<p>ä¸ºäº†å®Œæˆä¸Šè‰²å·¥ä½œï¼Œä»åˆå§‹åæ ‡å¼€å§‹ï¼Œè®°å½•åˆå§‹åæ ‡çš„ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Šåƒç´ å€¼ä¸åˆå§‹åæ ‡ç›¸åŒçš„ç›¸è¿åƒç´ ç‚¹ï¼Œæ¥ç€å†è®°å½•è¿™å››ä¸ªæ–¹å‘ä¸Šç¬¦åˆæ¡ä»¶çš„åƒç´ ç‚¹ä¸ä»–ä»¬å¯¹åº”å››ä¸ªæ–¹å‘ä¸Šåƒç´ å€¼ä¸åˆå§‹åæ ‡ç›¸åŒçš„ç›¸è¿åƒç´ ç‚¹ï¼Œâ€¦â€¦ï¼Œé‡å¤è¯¥è¿‡ç¨‹ã€‚å°†æ‰€æœ‰æœ‰è®°å½•çš„åƒç´ ç‚¹çš„é¢œè‰²å€¼æ”¹ä¸ºæ–°çš„é¢œè‰²å€¼ã€‚</p>

<p>æœ€åè¿”å›ç»è¿‡ä¸Šè‰²æ¸²æŸ“åçš„å›¾åƒã€‚</p>

<p>ç¤ºä¾‹ 1:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="nl">è¾“å…¥:</span> 
<span class="n">image</span> <span class="o">=</span> <span class="o">[[</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">],[</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">],[</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">]]</span>
<span class="n">sr</span> <span class="o">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">sc</span> <span class="o">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">newColor</span> <span class="o">=</span> <span class="mi">2</span>
<span class="nl">è¾“å‡º:</span> <span class="o">[[</span><span class="mi">2</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">2</span><span class="o">],[</span><span class="mi">2</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">0</span><span class="o">],[</span><span class="mi">2</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">]]</span>
<span class="nl">è§£æ:</span> 
<span class="n">åœ¨å›¾åƒçš„æ­£ä¸­é—´</span><span class="err">ï¼Œ</span><span class="o">(</span><span class="n">åæ ‡</span><span class="o">(</span><span class="n">sr</span><span class="o">,</span><span class="n">sc</span><span class="o">)=(</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">)),</span>
<span class="n">åœ¨è·¯å¾„ä¸Šæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„åƒç´ ç‚¹çš„é¢œè‰²éƒ½è¢«æ›´æ”¹æˆ2</span><span class="err">ã€‚</span>
<span class="n">æ³¨æ„</span><span class="err">ï¼Œ</span><span class="n">å³ä¸‹è§’çš„åƒç´ æ²¡æœ‰æ›´æ”¹ä¸º2</span><span class="err">ï¼Œ</span>
<span class="n">å› ä¸ºå®ƒä¸æ˜¯åœ¨ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Šä¸åˆå§‹ç‚¹ç›¸è¿çš„åƒç´ ç‚¹</span><span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æ³¨æ„:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="n">image</span> <span class="n">å’Œ</span> <span class="n">image</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="n">çš„é•¿åº¦åœ¨èŒƒå›´</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">50</span><span class="o">]</span> <span class="n">å†…</span><span class="err">ã€‚</span>
<span class="n">ç»™å‡ºçš„åˆå§‹ç‚¹å°†æ»¡è¶³</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">sr</span> <span class="o">&lt;</span> <span class="n">image</span><span class="o">.</span><span class="na">length</span> <span class="n">å’Œ</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">sc</span> <span class="o">&lt;</span> <span class="n">image</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span><span class="err">ã€‚</span>
<span class="n">image</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="n">å’Œ</span> <span class="n">newColor</span> <span class="n">è¡¨ç¤ºçš„é¢œè‰²å€¼åœ¨èŒƒå›´</span> <span class="o">[</span><span class="mi">0</span><span class="o">,</span> <span class="mi">65535</span><span class="o">]</span><span class="n">å†…</span><span class="err">ã€‚</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="æ·±æœ-1">æ·±æœ</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">java.awt.Point</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kt">int</span><span class="o">[][]</span> <span class="n">images</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">srcColor</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">color</span><span class="o">;</span>
    <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Point</span><span class="o">&gt;</span> <span class="n">set</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">int</span><span class="o">[][]</span> <span class="nf">floodFill</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">image</span><span class="o">,</span> <span class="kt">int</span> <span class="n">sr</span><span class="o">,</span> <span class="kt">int</span> <span class="n">sc</span><span class="o">,</span> <span class="kt">int</span> <span class="n">newColor</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">image</span><span class="o">[</span><span class="n">sr</span><span class="o">][</span><span class="n">sc</span><span class="o">]</span> <span class="o">==</span> <span class="n">newColor</span><span class="o">)</span> <span class="k">return</span> <span class="n">image</span><span class="o">;</span>
        <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="n">images</span> <span class="o">=</span> <span class="n">image</span><span class="o">;</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">newColor</span><span class="o">;</span>
        <span class="n">srcColor</span> <span class="o">=</span> <span class="n">images</span><span class="o">[</span><span class="n">sr</span><span class="o">][</span><span class="n">sc</span><span class="o">];</span>
        <span class="n">dfs</span><span class="o">(</span><span class="n">sr</span><span class="o">,</span><span class="n">sc</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">images</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kt">void</span> <span class="nf">dfs</span><span class="o">(</span><span class="kt">int</span> <span class="n">sr</span><span class="o">,</span><span class="kt">int</span> <span class="n">sc</span><span class="o">){</span>
        <span class="k">if</span><span class="o">(</span><span class="n">sr</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">sr</span> <span class="o">&gt;=</span> <span class="n">images</span><span class="o">.</span><span class="na">length</span> <span class="o">||</span> <span class="n">sc</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">sc</span> <span class="o">&gt;=</span> <span class="n">images</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span><span class="o">)</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">images</span><span class="o">[</span><span class="n">sr</span><span class="o">][</span><span class="n">sc</span><span class="o">]</span> <span class="o">!=</span> <span class="n">srcColor</span><span class="o">)</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">set</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Point</span><span class="o">(</span><span class="n">sr</span><span class="o">,</span><span class="n">sc</span><span class="o">)))</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Point</span><span class="o">(</span><span class="n">sr</span><span class="o">,</span><span class="n">sc</span><span class="o">));</span>
        <span class="n">images</span><span class="o">[</span><span class="n">sr</span><span class="o">][</span><span class="n">sc</span><span class="o">]</span> <span class="o">=</span> <span class="n">color</span><span class="o">;</span>
        <span class="n">dfs</span><span class="o">(</span><span class="n">sr</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span><span class="n">sc</span><span class="o">);</span>
        <span class="n">dfs</span><span class="o">(</span><span class="n">sr</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span><span class="n">sc</span><span class="o">);</span>
        <span class="n">dfs</span><span class="o">(</span><span class="n">sr</span><span class="o">,</span><span class="n">sc</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
        <span class="n">dfs</span><span class="o">(</span><span class="n">sr</span><span class="o">,</span><span class="n">sc</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>    
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å¹¿æœ-1">å¹¿æœ</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">dx</span> <span class="o">=</span> <span class="o">{</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">};</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">dy</span> <span class="o">=</span> <span class="o">{</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">};</span>

    <span class="kd">public</span> <span class="kt">int</span><span class="o">[][]</span> <span class="nf">floodFill</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">image</span><span class="o">,</span> <span class="kt">int</span> <span class="n">sr</span><span class="o">,</span> <span class="kt">int</span> <span class="n">sc</span><span class="o">,</span> <span class="kt">int</span> <span class="n">newColor</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">currColor</span> <span class="o">=</span> <span class="n">image</span><span class="o">[</span><span class="n">sr</span><span class="o">][</span><span class="n">sc</span><span class="o">];</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">currColor</span> <span class="o">==</span> <span class="n">newColor</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">image</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="na">length</span><span class="o">,</span> <span class="n">m</span> <span class="o">=</span> <span class="n">image</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span><span class="o">;</span>
        <span class="nc">Queue</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;();</span>
        <span class="n">queue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">sr</span><span class="o">,</span> <span class="n">sc</span><span class="o">});</span>
        <span class="n">image</span><span class="o">[</span><span class="n">sr</span><span class="o">][</span><span class="n">sc</span><span class="o">]</span> <span class="o">=</span> <span class="n">newColor</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(!</span><span class="n">queue</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">cell</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">cell</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">y</span> <span class="o">=</span> <span class="n">cell</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">mx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dx</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">my</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">dy</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">mx</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">mx</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">my</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">my</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="o">&amp;&amp;</span> <span class="n">image</span><span class="o">[</span><span class="n">mx</span><span class="o">][</span><span class="n">my</span><span class="o">]</span> <span class="o">==</span> <span class="n">currColor</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">queue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">mx</span><span class="o">,</span> <span class="n">my</span><span class="o">});</span>
                    <span class="n">image</span><span class="o">[</span><span class="n">mx</span><span class="o">][</span><span class="n">my</span><span class="o">]</span> <span class="o">=</span> <span class="n">newColor</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">image</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

:ET